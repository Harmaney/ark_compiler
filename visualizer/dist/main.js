/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={4631:function(t){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,r=/gecko\/\d/i.test(t),n=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),d=!o&&/Chrome\//.test(t),u=/Opera\//.test(t),p=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),f=/PhantomJS/.test(t),g=p&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),m=/Android/.test(t),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),b=/\bCrOS\b/.test(t),x=/win/i.test(e),w=u&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(u=!1,l=!0);var k=y&&(c||u&&(null==w||w<12.11)),C=r||a&&s>=9;function S(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var _,T=function(t,e){var r=t.className,n=S(e).exec(r);if(n){var i=r.slice(n.index+n[0].length);t.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function E(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function P(t,e){return E(t).appendChild(e)}function M(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function D(t,e,r,n){var i=M(t,e,r,n);return i.setAttribute("role","presentation"),i}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function L(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function N(t,e){var r=t.className;S(e).test(r)||(t.className+=(r?" ":"")+e)}function O(t,e){for(var r=t.split(" "),n=0;n<r.length;n++)r[n]&&!S(r[n]).test(e)&&(e+=" "+r[n]);return e}_=document.createRange?function(t,e,r,n){var i=document.createRange();return i.setEnd(n||t,r),i.setStart(t,e),i}:function(t,e,r){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",e),n};var F=function(t){t.select()};function z(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function I(t,e,r){for(var n in e||(e={}),t)!t.hasOwnProperty(n)||!1===r&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function B(t,e,r,n,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=n||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=r-a%r,o=s+1}}g?F=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(F=function(t){try{t.select()}catch(t){}});var R=function(){this.id=null,this.f=null,this.time=0,this.handler=z(this.onTimeout,this)};function j(t,e){for(var r=0;r<t.length;++r)if(t[r]==e)return r;return-1}R.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},R.prototype.set=function(t,e){this.f=e;var r=+new Date+t;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=r)};var H={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},V={origin:"*mouse"},W={origin:"+move"};function U(t,e,r){for(var n=0,i=0;;){var o=t.indexOf("\t",n);-1==o&&(o=t.length);var a=o-n;if(o==t.length||i+a>=e)return n+Math.min(a,e-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=e)return n}}var q=[""];function X(t){for(;q.length<=t;)q.push(Y(q)+" ");return q[t]}function Y(t){return t[t.length-1]}function K(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=e(t[n],n);return r}function $(){}function Z(t,e){var r;return Object.create?r=Object.create(t):($.prototype=t,r=new $),e&&I(e,r),r}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function tt(t,e){return e?!!(e.source.indexOf("\\w")>-1&&J(t))||e.test(t):J(t)}function et(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function nt(t){return t.charCodeAt(0)>=768&&rt.test(t)}function it(t,e,r){for(;(r<0?e>0:e<t.length)&&nt(t.charAt(e));)e+=r;return e}function ot(t,e,r){for(var n=e>r?-1:1;;){if(e==r)return e;var i=(e+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:r;t(o)?r=o:e=o+n}}var at=null;function st(t,e,r){var n;at=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==r?n=i:at=i),o.from==e&&(o.from!=o.to&&"before"!=r?n=i:at=i)}return null!=n?n:at}var lt=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function o(t,e,r){this.level=t,this.from=e,this.to=r}return function(a,s){var l,c="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!t.test(a))return!1;for(var d=a.length,u=[],p=0;p<d;++p)u.push((l=a.charCodeAt(p))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var h=0,f=c;h<d;++h){var g=u[h];"m"==g?u[h]=f:f=g}for(var m=0,v=c;m<d;++m){var y=u[m];"1"==y&&"r"==v?u[m]="n":r.test(y)&&(v=y,"r"==y&&(u[m]="R"))}for(var b=1,x=u[0];b<d-1;++b){var w=u[b];"+"==w&&"1"==x&&"1"==u[b+1]?u[b]="1":","!=w||x!=u[b+1]||"1"!=x&&"n"!=x||(u[b]=x),x=w}for(var k=0;k<d;++k){var C=u[k];if(","==C)u[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<d&&"%"==u[S];++S);for(var _=k&&"!"==u[k-1]||S<d&&"1"==u[S]?"1":"N",T=k;T<S;++T)u[T]=_;k=S-1}}for(var E=0,P=c;E<d;++E){var M=u[E];"L"==P&&"1"==M?u[E]="L":r.test(M)&&(P=M)}for(var D=0;D<d;++D)if(e.test(u[D])){var A=void 0;for(A=D+1;A<d&&e.test(u[A]);++A);for(var L="L"==(D?u[D-1]:c),N=L==("L"==(A<d?u[A]:c))?L?"L":"R":c,O=D;O<A;++O)u[O]=N;D=A-1}for(var F,z=[],I=0;I<d;)if(n.test(u[I])){var B=I;for(++I;I<d&&n.test(u[I]);++I);z.push(new o(0,B,I))}else{var R=I,j=z.length,H="rtl"==s?1:0;for(++I;I<d&&"L"!=u[I];++I);for(var G=R;G<I;)if(i.test(u[G])){R<G&&(z.splice(j,0,new o(1,R,G)),j+=H);var V=G;for(++G;G<I&&i.test(u[G]);++G);z.splice(j,0,new o(2,V,G)),j+=H,R=G}else++G;R<I&&z.splice(j,0,new o(1,R,I))}return"ltr"==s&&(1==z[0].level&&(F=a.match(/^\s+/))&&(z[0].from=F[0].length,z.unshift(new o(0,0,F[0].length))),1==Y(z).level&&(F=a.match(/\s+$/))&&(Y(z).to-=F[0].length,z.push(new o(0,d-F[0].length,d)))),"rtl"==s?z.reverse():z}}();function ct(t,e){var r=t.order;return null==r&&(r=t.order=lt(t.text,e)),r}var dt=[],ut=function(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||dt).concat(r)}};function pt(t,e){return t._handlers&&t._handlers[e]||dt}function ht(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers,i=n&&n[e];if(i){var o=j(i,r);o>-1&&(n[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function ft(t,e){var r=pt(t,e);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function gt(t,e,r){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),ft(t,r||e.type,t,e),wt(e)||e.codemirrorIgnore}function mt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var r=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==j(r,e[n])&&r.push(e[n])}function vt(t,e){return pt(t,e).length>0}function yt(t){t.prototype.on=function(t,e){ut(this,t,e)},t.prototype.off=function(t,e){ht(this,t,e)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function xt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function wt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function kt(t){bt(t),xt(t)}function Ct(t){return t.target||t.srcElement}function St(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var _t,Tt,Et=function(){if(a&&s<9)return!1;var t=M("div");return"draggable"in t||"dragDrop"in t}();function Pt(t){if(null==_t){var e=M("span","​");P(t,M("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(_t=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var r=_t?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Mt(t){if(null!=Tt)return Tt;var e=P(t,document.createTextNode("AخA")),r=_(e,0,1).getBoundingClientRect(),n=_(e,1,2).getBoundingClientRect();return E(t),!(!r||r.left==r.right)&&(Tt=n.right-r.right<3)}var Dt,At=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;e<=n;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),e+=a+1):(r.push(o),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)},Lt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Nt="oncopy"in(Dt=M("div"))||(Dt.setAttribute("oncopy","return;"),"function"==typeof Dt.oncopy),Ot=null;var Ft={},zt={};function It(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ft[t]=e}function Bt(t){if("string"==typeof t&&zt.hasOwnProperty(t))t=zt[t];else if(t&&"string"==typeof t.name&&zt.hasOwnProperty(t.name)){var e=zt[t.name];"string"==typeof e&&(e={name:e}),(t=Z(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Bt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Bt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Rt(t,e){e=Bt(e);var r=Ft[e.name];if(!r)return Rt(t,"text/plain");var n=r(t,e);if(jt.hasOwnProperty(e.name)){var i=jt[e.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)n[a]=e.modeProps[a];return n}var jt={};function Ht(t,e){I(e,jt.hasOwnProperty(t)?jt[t]:jt[t]={})}function Gt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Vt(t,e){for(var r;t.innerMode&&(r=t.innerMode(e))&&r.mode!=t;)e=r.state,t=r.mode;return r||{mode:t,state:e}}function Wt(t,e,r){return!t.startState||t.startState(e,r)}var Ut=function(t,e,r){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function qt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var r=t;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(e<o){r=i;break}e-=o}return r.lines[e]}function Xt(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,(function(t){var o=t.text;i==r.line&&(o=o.slice(0,r.ch)),i==e.line&&(o=o.slice(e.ch)),n.push(o),++i})),n}function Yt(t,e,r){var n=[];return t.iter(e,r,(function(t){n.push(t.text)})),n}function Kt(t,e){var r=e-t.height;if(r)for(var n=t;n;n=n.parent)n.height+=r}function $t(t){if(null==t.parent)return null;for(var e=t.parent,r=j(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function Zt(t,e){var r=t.first;t:do{for(var n=0;n<t.children.length;++n){var i=t.children[n],o=i.height;if(e<o){t=i;continue t}e-=o,r+=i.chunkSize()}return r}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a].height;if(e<s)break;e-=s}return r+a}function Qt(t,e){return e>=t.first&&e<t.first+t.size}function Jt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,r){if(void 0===r&&(r=null),!(this instanceof te))return new te(t,e,r);this.line=t,this.ch=e,this.sticky=r}function ee(t,e){return t.line-e.line||t.ch-e.ch}function re(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function ne(t){return te(t.line,t.ch)}function ie(t,e){return ee(t,e)<0?e:t}function oe(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var r=t.first+t.size-1;return e.line>r?te(r,qt(t,r).text.length):function(t,e){var r=t.ch;return null==r||r>e?te(t.line,e):r<0?te(t.line,0):t}(e,qt(t,e.line).text.length)}function le(t,e){for(var r=[],n=0;n<e.length;n++)r[n]=se(t,e[n]);return r}Ut.prototype.eol=function(){return this.pos>=this.string.length},Ut.prototype.sol=function(){return this.pos==this.lineStart},Ut.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ut.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ut.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Ut.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Ut.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ut.prototype.skipToEnd=function(){this.pos=this.string.length},Ut.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Ut.prototype.backUp=function(t){this.pos-=t},Ut.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ut.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ut.prototype.match=function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var i=function(t){return r?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==e&&(this.pos+=t.length),!0},Ut.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ut.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Ut.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Ut.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ce=function(t,e){this.state=t,this.lookAhead=e},de=function(t,e,r,n){this.state=e,this.doc=t,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ue(t,e,r,n){var i=[t.state.modeGen],o={};xe(t,e.text,t.doc.mode,r,(function(t,e){return i.push(t,e)}),o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=t.state.overlays[n],l=1,c=0;r.state=!0,xe(t,e.text,s.mode,r,(function(t,e){for(var r=l;c<t;){var n=i[l];n>t&&i.splice(l,1,t,i[l+1],n),l+=2,c=Math.min(t,n)}if(e)if(s.opaque)i.splice(r,l-r,t,"overlay "+e),l=r+2;else for(;r<l;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+e}}),o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function pe(t,e,r){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=he(t,$t(e)),i=e.text.length>t.options.maxHighlightLength&&Gt(t.doc.mode,n.state),o=ue(t,e,n);i&&(n.state=i),e.stateAfter=n.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),r===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function he(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return new de(n,!0,e);var o=function(t,e,r){for(var n,i,o=t.doc,a=r?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=qt(o,s-1),c=l.stateAfter;if(c&&(!r||s+(c instanceof ce?c.lookAhead:0)<=o.modeFrontier))return s;var d=B(l.text,null,t.options.tabSize);(null==i||n>d)&&(i=s-1,n=d)}return i}(t,e,r),a=o>n.first&&qt(n,o-1).stateAfter,s=a?de.fromSaved(n,a,o):new de(n,Wt(n.mode),o);return n.iter(o,e,(function(r){fe(t,r.text,s);var n=s.line;r.stateAfter=n==e-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function fe(t,e,r,n){var i=t.doc.mode,o=new Ut(e,t.options.tabSize,r);for(o.start=o.pos=n||0,""==e&&ge(i,r.state);!o.eol();)me(i,o,r.state),o.start=o.pos}function ge(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var r=Vt(t,e);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function me(t,e,r,n){for(var i=0;i<10;i++){n&&(n[0]=Vt(t,r).mode);var o=t.token(e,r);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}de.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},de.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},de.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},de.fromSaved=function(t,e,r){return e instanceof ce?new de(t,Gt(t.mode,e.state),r,e.lookAhead):new de(t,Gt(t.mode,e),r)},de.prototype.save=function(t){var e=!1!==t?Gt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ce(e,this.maxLookAhead):e};var ve=function(t,e,r){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=r};function ye(t,e,r,n){var i,o,a=t.doc,s=a.mode,l=qt(a,(e=se(a,e)).line),c=he(t,e.line,r),d=new Ut(l.text,t.options.tabSize,c);for(n&&(o=[]);(n||d.pos<e.ch)&&!d.eol();)d.start=d.pos,i=me(s,d,c.state),n&&o.push(new ve(d,i,Gt(a.mode,c.state)));return n?o:new ve(d,i,c.state)}function be(t,e){if(t)for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==e[n]?e[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(e[n])||(e[n]+=" "+r[2])}return t}function xe(t,e,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,c=0,d=null,u=new Ut(e,t.options.tabSize,n),p=t.options.addModeClass&&[null];for(""==e&&be(ge(r,n.state),o);!u.eol();){if(u.pos>t.options.maxHighlightLength?(s=!1,a&&fe(t,e,n,u.pos),u.pos=e.length,l=null):l=be(me(r,u,n.state,p),o),p){var h=p[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||d!=l){for(;c<u.start;)i(c=Math.min(u.start,c+5e3),d);d=l}u.start=u.pos}for(;c<u.pos;){var f=Math.min(u.pos,c+5e3);i(f,d),c=f}}var we=!1,ke=!1;function Ce(t,e,r){this.marker=t,this.from=e,this.to=r}function Se(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function _e(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function Te(t,e){if(e.full)return null;var r=Qt(t,e.from.line)&&qt(t,e.from.line).markedSpans,n=Qt(t,e.to.line)&&qt(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,o=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,r){var n;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new Ce(a,o.from,s?null:o.to))}}return n}(r,i,a),l=function(t,e,r){var n;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new Ce(a,s?null:o.from-e,null==o.to?null:o.to-e))}}return n}(n,o,a),c=1==e.text.length,d=Y(e.text).length+(c?i:0);if(s)for(var u=0;u<s.length;++u){var p=s[u];if(null==p.to){var h=Se(l,p.marker);h?c&&(p.to=null==h.to?null:h.to+d):p.to=i}}if(l)for(var f=0;f<l.length;++f){var g=l[f];null!=g.to&&(g.to+=d),null==g.from?Se(s,g.marker)||(g.from=d,c&&(s||(s=[])).push(g)):(g.from+=d,c&&(s||(s=[])).push(g))}s&&(s=Ee(s)),l&&l!=s&&(l=Ee(l));var m=[s];if(!c){var v,y=e.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new Ce(s[b].marker,null,null));for(var x=0;x<y;++x)m.push(v);m.push(l)}return m}function Ee(t){for(var e=0;e<t.length;++e){var r=t[e];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Pe(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Me(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function De(t){return t.inclusiveLeft?-1:0}function Ae(t){return t.inclusiveRight?1:0}function Le(t,e){var r=t.lines.length-e.lines.length;if(0!=r)return r;var n=t.find(),i=e.find(),o=ee(n.from,i.from)||De(t)-De(e);return o?-o:ee(n.to,i.to)||Ae(t)-Ae(e)||e.id-t.id}function Ne(t,e){var r,n=ke&&t.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!r||Le(r,i.marker)<0)&&(r=i.marker);return r}function Oe(t){return Ne(t,!0)}function Fe(t){return Ne(t,!1)}function ze(t,e){var r,n=ke&&t.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!r||Le(r,o.marker)<0)&&(r=o.marker)}return r}function Ie(t,e,r,n,i){var o=qt(t,e),a=ke&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),d=ee(c.from,r)||De(l.marker)-De(i),u=ee(c.to,n)||Ae(l.marker)-Ae(i);if(!(d>=0&&u<=0||d<=0&&u>=0)&&(d<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.to,r)>=0:ee(c.to,r)>0)||d>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.from,n)<=0:ee(c.from,n)<0)))return!0}}}function Be(t){for(var e;e=Oe(t);)t=e.find(-1,!0).line;return t}function Re(t,e){var r=qt(t,e),n=Be(r);return r==n?e:$t(n)}function je(t,e){if(e>t.lastLine())return e;var r,n=qt(t,e);if(!He(t,n))return e;for(;r=Fe(n);)n=r.find(1,!0).line;return $t(n)+1}function He(t,e){var r=ke&&e.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ge(t,e,n))return!0}}function Ge(t,e,r){if(null==r.to){var n=r.marker.find(1,!0);return Ge(t,n.line,Se(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ge(t,e,i))return!0}function Ve(t){for(var e=0,r=(t=Be(t)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==t)break;e+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;e+=s.height}return e}function We(t){if(0==t.height)return 0;for(var e,r=t.text.length,n=t;e=Oe(n);){var i=e.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=t;e=Fe(n);){var o=e.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function Ue(t){var e=t.display,r=t.doc;e.maxLine=qt(r,r.first),e.maxLineLength=We(e.maxLine),e.maxLineChanged=!0,r.iter((function(t){var r=We(t);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=t)}))}var qe=function(t,e,r){this.text=t,Me(this,e),this.height=r?r(this):1};function Xe(t){t.parent=null,Pe(t)}qe.prototype.lineNo=function(){return $t(this)},yt(qe);var Ye={},Ke={};function $e(t,e){if(!t||/^\s*$/.test(t))return null;var r=e.addModeClass?Ke:Ye;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function Ze(t,e){var r=D("span",null,null,l?"padding-right: .1px":null),n={pre:D("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,a=void 0;n.pos=0,n.addToken=Je,Mt(t.display.measure)&&(a=ct(o,t.doc.direction))&&(n.addToken=tr(n.addToken,a)),n.map=[],rr(o,n,pe(t,o,e!=t.display.externalMeasured&&$t(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=O(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=O(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Pt(t.display.measure))),0==i?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return ft(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=O(n.pre.className,n.textClass||"")),n}function Qe(t){var e=M("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Je(t,e,r,n,i,o,l){if(e){var c,d=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var r=e,n="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!r||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}(e,t.trailingSpace):e,u=t.cm.state.specialChars,p=!1;if(u.test(e)){c=document.createDocumentFragment();for(var h=0;;){u.lastIndex=h;var f=u.exec(e),g=f?f.index-h:e.length-h;if(g){var m=document.createTextNode(d.slice(h,h+g));a&&s<9?c.appendChild(M("span",[m])):c.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!f)break;h+=g+1;var v=void 0;if("\t"==f[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=c.appendChild(M("span",X(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==f[0]||"\n"==f[0]?((v=c.appendChild(M("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),a&&s<9?c.appendChild(M("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(d),t.map.push(t.pos,t.pos+e.length,c),a&&s<9&&(p=!0),t.pos+=e.length;if(t.trailingSpace=32==d.charCodeAt(e.length-1),r||n||i||p||o||l){var x=r||"";n&&(x+=n),i&&(x+=i);var w=M("span",[c],x,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,l[k]);return t.content.appendChild(w)}t.content.appendChild(c)}}function tr(t,e){return function(r,n,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=r.pos,d=c+n.length;;){for(var u=void 0,p=0;p<e.length&&!((u=e[p]).to>c&&u.from<=c);p++);if(u.to>=d)return t(r,n,i,o,a,s,l);t(r,n.slice(0,u.to-c),i,o,null,s,l),o=null,n=n.slice(u.to-c),c=u.to}}}function er(t,e,r,n){var i=!n&&r.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!n&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function rr(t,e,r){var n=t.markedSpans,i=t.text,o=0;if(n)for(var a,s,l,c,d,u,p,h=i.length,f=0,g=1,m="",v=0;;){if(v==f){l=c=d=s="",p=null,u=null,v=1/0;for(var y=[],b=void 0,x=0;x<n.length;++x){var w=n[x],k=w.marker;if("bookmark"==k.type&&w.from==f&&k.widgetNode)y.push(k);else if(w.from<=f&&(null==w.to||w.to>f||k.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&w.from==f&&(d+=" "+k.startStyle),k.endStyle&&w.to==v&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((p||(p={})).title=k.title),k.attributes)for(var C in k.attributes)(p||(p={}))[C]=k.attributes[C];k.collapsed&&(!u||Le(u.marker,k)<0)&&(u=w)}else w.from>f&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!u||u.from==f)for(var _=0;_<y.length;++_)er(e,0,y[_]);if(u&&(u.from||0)==f){if(er(e,(null==u.to?h+1:u.to)-f,u.marker,null==u.from),null==u.to)return;u.to==f&&(u=!1)}}if(f>=h)break;for(var T=Math.min(h,v);;){if(m){var E=f+m.length;if(!u){var P=E>T?m.slice(0,T-f):m;e.addToken(e,P,a?a+l:l,d,f+P.length==v?c:"",s,p)}if(E>=T){m=m.slice(T-f),f=T;break}f=E,d=""}m=i.slice(o,o=r[g++]),a=$e(r[g++],e.cm.options)}}else for(var M=1;M<r.length;M+=2)e.addToken(e,i.slice(o,o=r[M]),$e(r[M+1],e.cm.options))}function nr(t,e,r){this.line=e,this.rest=function(t){for(var e,r;e=Fe(t);)t=e.find(1,!0).line,(r||(r=[])).push(t);return r}(e),this.size=this.rest?$t(Y(this.rest))-r+1:1,this.node=this.text=null,this.hidden=He(t,e)}function ir(t,e,r){for(var n,i=[],o=e;o<r;o=n){var a=new nr(t.doc,qt(t.doc,o),o);n=o+a.size,i.push(a)}return i}var or=null;var ar=null;function sr(t,e){var r=pt(t,e);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);or?n=or.delayedCallbacks:ar?n=ar:(n=ar=[],setTimeout(lr,0));for(var o=function(t){n.push((function(){return r[t].apply(null,i)}))},a=0;a<r.length;++a)o(a)}}function lr(){var t=ar;ar=null;for(var e=0;e<t.length;++e)t[e]()}function cr(t,e,r,n){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?pr(t,e):"gutter"==o?fr(t,e,r,n):"class"==o?hr(t,e):"widget"==o&&gr(t,e,n)}e.changes=null}function dr(t){return t.node==t.text&&(t.node=M("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function ur(t,e){var r=t.display.externalMeasured;return r&&r.line==e.line?(t.display.externalMeasured=null,e.measure=r.measure,r.built):Ze(t,e)}function pr(t,e){var r=e.text.className,n=ur(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,hr(t,e)):r&&(e.text.className=r)}function hr(t,e){(function(t,e){var r=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),e.background)r?e.background.className=r:(e.background.parentNode.removeChild(e.background),e.background=null);else if(r){var n=dr(e);e.background=n.insertBefore(M("div",null,r),n.firstChild),t.display.input.setUneditable(e.background)}})(t,e),e.line.wrapClass?dr(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var r=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=r||""}function fr(t,e,r,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=dr(e);e.gutterBackground=M("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var a=dr(e),s=e.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(M("div",Jt(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,d=o.hasOwnProperty(c)&&o[c];d&&s.appendChild(M("div",[d],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function gr(t,e,r){e.alignable&&(e.alignable=null);for(var n=S("CodeMirror-linewidget"),i=e.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&e.node.removeChild(i);vr(t,e,r)}function mr(t,e,r,n){var i=ur(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),hr(t,e),fr(t,e,r,n),vr(t,e,n),e.node}function vr(t,e,r){if(yr(t,e.line,e,r,!0),e.rest)for(var n=0;n<e.rest.length;n++)yr(t,e.rest[n],e,r,!1)}function yr(t,e,r,n,i){if(e.widgets)for(var o=dr(r),a=0,s=e.widgets;a<s.length;++a){var l=s[a],c=M("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),br(l,c,r,n),t.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,r.gutter||r.text):o.appendChild(c),sr(l,"redraw")}}function br(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function xr(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),P(e.display.measure,M("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function wr(t,e){for(var r=Ct(e);r!=t.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==t.sizer&&r!=t.mover)return!0}function kr(t){return t.lineSpace.offsetTop}function Cr(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sr(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=P(t.measure,M("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function _r(t){return 50-t.display.nativeBarWidth}function Tr(t){return t.display.scroller.clientWidth-_r(t)-t.display.barWidth}function Er(t){return t.display.scroller.clientHeight-_r(t)-t.display.barHeight}function Pr(t,e,r){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var i=0;i<t.rest.length;i++)if($t(t.rest[i])>r)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Mr(t,e,r,n){return Lr(t,Ar(t,e),r,n)}function Dr(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[dn(t,e)];var r=t.display.externalMeasured;return r&&e>=r.lineN&&e<r.lineN+r.size?r:void 0}function Ar(t,e){var r=$t(e),n=Dr(t,r);n&&!n.text?n=null:n&&n.changes&&(cr(t,n,r,on(t)),t.curOp.forceUpdate=!0),n||(n=function(t,e){var r=$t(e=Be(e)),n=t.display.externalMeasured=new nr(t.doc,e,r);n.lineN=r;var i=n.built=Ze(t,n);return n.text=i.pre,P(t.display.lineMeasure,i.pre),n}(t,e));var i=Pr(n,e,r);return{line:e,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Lr(t,e,r,n,i){e.before&&(r=-1);var o,l=r+(n||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,r){var n=t.options.lineWrapping,i=n&&Tr(t);if(!e.measure.heights||n&&e.measure.width!=i){var o=e.measure.heights=[];if(n){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-r.top)}}o.push(r.bottom-r.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,r,n){var i,o=Fr(e.map,r,n),l=o.node,c=o.start,d=o.end,u=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;c&&nt(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+d<o.coverEnd&&nt(e.line.text.charAt(o.coverStart+d));)++d;if((i=a&&s<9&&0==c&&d==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():zr(_(l,c,d).getClientRects(),n)).left||i.right||0==c)break;d=c,c-=1,u="right"}a&&s<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Ot)return Ot;var e=P(t,M("span","x")),r=e.getBoundingClientRect(),n=_(e,0,1).getBoundingClientRect();return Ot=Math.abs(r.left-n.left)>1}(t))return e;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*r,right:e.right*r,top:e.top*n,bottom:e.bottom*n}}(t.display.measure,i))}else{var h;c>0&&(u=n="right"),i=t.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==n?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+nn(t.display),top:f.top,bottom:f.bottom}:Or}for(var g=i.top-e.rect.top,m=i.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var x=b?y[b-1]:0,w=y[b],k={left:("right"==u?i.right:i.left)-e.rect.left,right:("left"==u?i.left:i.right)-e.rect.left,top:x,bottom:w};return i.left||i.right||(k.bogus=!0),t.options.singleCursorHeightPerLine||(k.rtop=g,k.rbottom=m),k}(t,e,r,n)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Nr,Or={left:0,right:0,top:0,bottom:0};function Fr(t,e,r){for(var n,i,o,a,s,l,c=0;c<t.length;c+=3)if(s=t[c],l=t[c+1],e<s?(i=0,o=1,a="left"):e<l?o=1+(i=e-s):(c==t.length-3||e==l&&t[c+3]>e)&&(i=(o=l-s)-1,e>=l&&(a="right")),null!=i){if(n=t[c+2],s==l&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)n=t[2+(c-=3)],a="left";if("right"==r&&i==l-s)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)n=t[(c+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function zr(t,e){var r=Or;if("left"==e)for(var n=0;n<t.length&&(r=t[n]).left==r.right;n++);else for(var i=t.length-1;i>=0&&(r=t[i]).left==r.right;i--);return r}function Ir(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Br(t){t.display.externalMeasure=null,E(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Ir(t.display.view[e])}function Rr(t){Br(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function jr(){return d&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hr(){return d&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Gr(t){var e=0;if(t.widgets)for(var r=0;r<t.widgets.length;++r)t.widgets[r].above&&(e+=xr(t.widgets[r]));return e}function Vr(t,e,r,n,i){if(!i){var o=Gr(e);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=Ve(e);if("local"==n?a+=kr(t.display):a-=t.display.viewOffset,"page"==n||"window"==n){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:Hr());var l=s.left+("window"==n?0:jr());r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function Wr(t,e,r){if("div"==r)return e;var n=e.left,i=e.top;if("page"==r)n-=jr(),i-=Hr();else if("local"==r||!r){var o=t.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function Ur(t,e,r,n,i){return n||(n=qt(t.doc,e.line)),Vr(t,n,Mr(t,n,e.ch,i),r)}function qr(t,e,r,n,i,o){function a(e,a){var s=Lr(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Vr(t,n,s,r)}n=n||qt(t.doc,e.line),i||(i=Ar(t,n));var s=ct(n,t.doc.direction),l=e.ch,c=e.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function d(t,e,r){return a(r?t-1:t,1==s[e].level!=r)}var u=st(s,l,c),p=at,h=d(l,u,"before"==c);return null!=p&&(h.other=d(l,p,"before"!=c)),h}function Xr(t,e){var r=0;e=se(t.doc,e),t.options.lineWrapping||(r=nn(t.display)*e.ch);var n=qt(t.doc,e.line),i=Ve(n)+kr(t.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Yr(t,e,r,n,i){var o=te(t,e,r);return o.xRel=i,n&&(o.outside=n),o}function Kr(t,e,r){var n=t.doc;if((r+=t.display.viewOffset)<0)return Yr(n.first,0,null,-1,-1);var i=Zt(n,r),o=n.first+n.size-1;if(i>o)return Yr(n.first+n.size-1,qt(n,o).text.length,null,1,1);e<0&&(e=0);for(var a=qt(n,i);;){var s=Jr(t,a,i,e,r),l=ze(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==i)return c;a=qt(n,i=c.line)}}function $r(t,e,r,n){n-=Gr(e);var i=e.text.length,o=ot((function(e){return Lr(t,r,e-1).bottom<=n}),i,0);return{begin:o,end:i=ot((function(e){return Lr(t,r,e).top>n}),o,i)}}function Zr(t,e,r,n){return r||(r=Ar(t,e)),$r(t,e,r,Vr(t,e,Lr(t,r,n),"line").top)}function Qr(t,e,r,n){return!(t.bottom<=r)&&(t.top>r||(n?t.left:t.right)>e)}function Jr(t,e,r,n,i){i-=Ve(e);var o=Ar(t,e),a=Gr(e),s=0,l=e.text.length,c=!0,d=ct(e,t.doc.direction);if(d){var u=(t.options.lineWrapping?en:tn)(t,e,r,o,d,n,i);s=(c=1!=u.level)?u.from:u.to-1,l=c?u.to:u.from-1}var p,h,f=null,g=null,m=ot((function(e){var r=Lr(t,o,e);return r.top+=a,r.bottom+=a,!!Qr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(f=e,g=r),!0)}),s,l),v=!1;if(g){var y=n-g.left<g.right-n,b=y==c;m=f+(b?0:1),h=b?"after":"before",p=y?g.left:g.right}else{c||m!=l&&m!=s||m++,h=0==m?"after":m==e.text.length?"before":Lr(t,o,m-(c?1:0)).bottom+a<=i==c?"after":"before";var x=qr(t,te(r,m,h),"line",e,o);p=x.left,v=i<x.top?-1:i>=x.bottom?1:0}return Yr(r,m=it(e.text,m,1),h,v,n-p)}function tn(t,e,r,n,i,o,a){var s=ot((function(s){var l=i[s],c=1!=l.level;return Qr(qr(t,te(r,c?l.to:l.from,c?"before":"after"),"line",e,n),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,d=qr(t,te(r,c?l.from:l.to,c?"after":"before"),"line",e,n);Qr(d,o,a,!0)&&d.top>a&&(l=i[s-1])}return l}function en(t,e,r,n,i,o,a){var s=$r(t,e,n,a),l=s.begin,c=s.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var d=null,u=null,p=0;p<i.length;p++){var h=i[p];if(!(h.from>=c||h.to<=l)){var f=Lr(t,n,1!=h.level?Math.min(c,h.to)-1:Math.max(l,h.from)).right,g=f<o?o-f+1e9:f-o;(!d||u>g)&&(d=h,u=g)}}return d||(d=i[i.length-1]),d.from<l&&(d={from:l,to:d.to,level:d.level}),d.to>c&&(d={from:d.from,to:c,level:d.level}),d}function rn(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Nr){Nr=M("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Nr.appendChild(document.createTextNode("x")),Nr.appendChild(M("br"));Nr.appendChild(document.createTextNode("x"))}P(t.measure,Nr);var r=Nr.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),E(t.measure),r||1}function nn(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=M("span","xxxxxxxxxx"),r=M("pre",[e],"CodeMirror-line-like");P(t.measure,r);var n=e.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function on(t){for(var e=t.display,r={},n={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=t.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:an(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function an(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function sn(t){var e=rn(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/nn(t.display)-3);return function(i){if(He(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*e:o+e}}function ln(t){var e=t.doc,r=sn(t);e.iter((function(t){var e=r(t);e!=t.height&&Kt(t,e)}))}function cn(t,e,r,n){var i=t.display;if(!r&&"true"==Ct(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(t){return null}var l,c=Kr(t,o,a);if(n&&c.xRel>0&&(l=qt(t.doc,c.line).text).length==c.ch){var d=B(l,l.length,t.options.tabSize)-l.length;c=te(c.line,Math.max(0,Math.round((o-Sr(t.display).left)/nn(t.display))-d))}return c}function dn(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var r=t.display.view,n=0;n<r.length;n++)if((e-=r[n].size)<0)return n}function un(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),n||(n=0);var i=t.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)ke&&Re(t.doc,e)<i.viewTo&&hn(t);else if(r<=i.viewFrom)ke&&je(t.doc,r+n)>i.viewFrom?hn(t):(i.viewFrom+=n,i.viewTo+=n);else if(e<=i.viewFrom&&r>=i.viewTo)hn(t);else if(e<=i.viewFrom){var o=fn(t,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):hn(t)}else if(r>=i.viewTo){var a=fn(t,e,e,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):hn(t)}else{var s=fn(t,e,e,-1),l=fn(t,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(ir(t,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):hn(t)}var c=i.externalMeasured;c&&(r<c.lineN?c.lineN+=n:e<c.lineN+c.size&&(i.externalMeasured=null))}function pn(t,e,r){t.curOp.viewChanged=!0;var n=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[dn(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==j(a,r)&&a.push(r)}}}function hn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function fn(t,e,r,n){var i,o=dn(t,e),a=t.display.view;if(!ke||r==t.doc.first+t.doc.size)return{index:o,lineN:r};for(var s=t.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=e){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,r+=i}for(;Re(t.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function gn(t){for(var e=t.display.view,r=0,n=0;n<e.length;n++){var i=e[n];i.hidden||i.node&&!i.changes||++r}return r}function mn(t){t.display.input.showSelection(t.display.input.prepareSelection())}function vn(t,e){void 0===e&&(e=!0);for(var r=t.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(e||a!=r.sel.primIndex){var s=r.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&yn(t,s.head,i),l||xn(t,s,o)}}return n}function yn(t,e,r){var n=qr(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=r.appendChild(M("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var o=r.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function bn(t,e){return t.top-e.top||t.left-e.left}function xn(t,e,r){var n=t.display,i=t.doc,o=document.createDocumentFragment(),a=Sr(t.display),s=a.left,l=Math.max(n.sizerWidth,Tr(t)-n.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function d(t,e,r,n){e<0&&(e=0),e=Math.round(e),n=Math.round(n),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==r?l-t:r)+"px;\n                             height: "+(n-e)+"px"))}function u(e,r,n){var o,a,u=qt(i,e),p=u.text.length;function h(r,n){return Ur(t,te(e,r),"div",u,n)}function f(e,r,n){var i=Zr(t,u,null,e),o="ltr"==r==("after"==n)?"left":"right";return h("after"==n?i.begin:i.end-(/\s/.test(u.text.charAt(i.end-1))?2:1),o)[o]}var g=ct(u,i.direction);return function(t,e,r,n){if(!t)return n(e,r,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<r&&a.to>e||e==r&&a.to==e)&&(n(Math.max(a.from,e),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(e,r,"ltr")}(g,r||0,null==n?p:n,(function(t,e,i,u){var m="ltr"==i,v=h(t,m?"left":"right"),y=h(e-1,m?"right":"left"),b=null==r&&0==t,x=null==n&&e==p,w=0==u,k=!g||u==g.length-1;if(y.top-v.top<=3){var C=(c?x:b)&&k,S=(c?b:x)&&w?s:(m?v:y).left,_=C?l:(m?y:v).right;d(S,v.top,_-S,v.bottom)}else{var T,E,P,M;m?(T=c&&b&&w?s:v.left,E=c?l:f(t,i,"before"),P=c?s:f(e,i,"after"),M=c&&x&&k?l:y.right):(T=c?f(t,i,"before"):s,E=!c&&b&&w?l:v.right,P=!c&&x&&k?s:y.left,M=c?f(e,i,"after"):l),d(T,v.top,E-T,v.bottom),v.bottom<y.top&&d(s,v.bottom,null,y.top),d(P,y.top,M-P,y.bottom)}(!o||bn(v,o)<0)&&(o=v),bn(y,o)<0&&(o=y),(!a||bn(v,a)<0)&&(a=v),bn(y,a)<0&&(a=y)})),{start:o,end:a}}var p=e.from(),h=e.to();if(p.line==h.line)u(p.line,p.ch,h.ch);else{var f=qt(i,p.line),g=qt(i,h.line),m=Be(f)==Be(g),v=u(p.line,p.ch,m?f.text.length+1:null).end,y=u(h.line,m?0:null,h.ch).start;m&&(v.top<y.top-2?(d(v.right,v.top,null,v.bottom),d(s,y.top,y.left,y.bottom)):d(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&d(s,v.bottom,null,y.top)}r.appendChild(o)}function wn(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||_n(t),e.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function kn(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Sn(t))}function Cn(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&_n(t))}),100)}function Sn(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(ft(t,"focus",t,e),t.state.focused=!0,N(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),wn(t))}function _n(t,e){t.state.delayingBlurEvent||(t.state.focused&&(ft(t,"blur",t,e),t.state.focused=!1,T(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Tn(t){for(var e=t.display,r=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var i=e.view[n],o=t.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(a&&s<8){var d=i.node.offsetTop+i.node.offsetHeight;l=d-r,r=d}else{var u=i.node.getBoundingClientRect();l=u.bottom-u.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-u.left-1)}var p=i.line.height-l;if((p>.005||p<-.005)&&(Kt(i.line,l),En(i.line),i.rest))for(var h=0;h<i.rest.length;h++)En(i.rest[h]);if(c>t.display.sizerWidth){var f=Math.ceil(c/nn(t.display));f>t.display.maxLineLength&&(t.display.maxLineLength=f,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function En(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var r=t.widgets[e],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Pn(t,e,r){var n=r&&null!=r.top?Math.max(0,r.top):t.scroller.scrollTop;n=Math.floor(n-kr(t));var i=r&&null!=r.bottom?r.bottom:n+t.wrapper.clientHeight,o=Zt(e,n),a=Zt(e,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<o?(o=s,a=Zt(e,Ve(qt(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=Zt(e,Ve(qt(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Mn(t,e){var r=t.display,n=rn(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:r.scroller.scrollTop,o=Er(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var s=t.doc.height+Cr(r),l=e.top<n,c=e.bottom>s-n;if(e.top<i)a.scrollTop=l?0:e.top;else if(e.bottom>i+o){var d=Math.min(e.top,(c?s:e.bottom)-o);d!=i&&(a.scrollTop=d)}var u=t.options.fixedGutter?0:r.gutters.offsetWidth,p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:r.scroller.scrollLeft-u,h=Tr(t)-r.gutters.offsetWidth,f=e.right-e.left>h;return f&&(e.right=e.left+h),e.left<10?a.scrollLeft=0:e.left<p?a.scrollLeft=Math.max(0,e.left+u-(f?0:10)):e.right>h+p-3&&(a.scrollLeft=e.right+(f?0:10)-h),a}function Dn(t,e){null!=e&&(Nn(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function An(t){Nn(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ln(t,e,r){null==e&&null==r||Nn(t),null!=e&&(t.curOp.scrollLeft=e),null!=r&&(t.curOp.scrollTop=r)}function Nn(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,On(t,Xr(t,e.from),Xr(t,e.to),e.margin))}function On(t,e,r,n){var i=Mn(t,{left:Math.min(e.left,r.left),top:Math.min(e.top,r.top)-n,right:Math.max(e.right,r.right),bottom:Math.max(e.bottom,r.bottom)+n});Ln(t,i.scrollLeft,i.scrollTop)}function Fn(t,e){Math.abs(t.doc.scrollTop-e)<2||(r||li(t,{top:e}),zn(t,e,!0),r&&li(t),ni(t,100))}function zn(t,e,r){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||r)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function In(t,e,r,n){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n||(t.doc.scrollLeft=e,ui(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Bn(t){var e=t.display,r=e.gutters.offsetWidth,n=Math.round(t.doc.height+Cr(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+_r(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:r}}var Rn=function(t,e,r){this.cm=r;var n=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,t(n),t(i),ut(n,"scroll",(function(){n.clientHeight&&e(n.scrollTop,"vertical")})),ut(i,"scroll",(function(){i.clientWidth&&e(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Rn.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,r=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var i=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:e?n:0}},Rn.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rn.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rn.prototype.zeroWidthHack=function(){var t=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Rn.prototype.enableZeroWidthBar=function(t,e,r){t.style.pointerEvents="auto",e.set(1e3,(function n(){var i=t.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,n)}))},Rn.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var jn=function(){};function Hn(t,e){e||(e=Bn(t));var r=t.display.barWidth,n=t.display.barHeight;Gn(t,e);for(var i=0;i<4&&r!=t.display.barWidth||n!=t.display.barHeight;i++)r!=t.display.barWidth&&t.options.lineWrapping&&Tn(t),Gn(t,Bn(t)),r=t.display.barWidth,n=t.display.barHeight}function Gn(t,e){var r=t.display,n=r.scrollbars.update(e);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=e.gutterWidth+"px"):r.gutterFiller.style.display=""}jn.prototype.update=function(){return{bottom:0,right:0}},jn.prototype.setScrollLeft=function(){},jn.prototype.setScrollTop=function(){},jn.prototype.clear=function(){};var Vn={native:Rn,null:jn};function Wn(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Vn[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ut(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,r){"horizontal"==r?In(t,e):Fn(t,e)}),t),t.display.scrollbars.addClass&&N(t.display.wrapper,t.display.scrollbars.addClass)}var Un=0;function qn(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Un},e=t.curOp,or?or.ops.push(e):e.ownsGroup=or={ops:[e],delayedCallbacks:[]}}function Xn(t){var e=t.curOp;e&&function(t,e){var r=t.ownsGroup;if(r)try{!function(t){var e=t.delayedCallbacks,r=0;do{for(;r<e.length;r++)e[r].call(null);for(var n=0;n<t.ops.length;n++){var i=t.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<e.length)}(r)}finally{or=null,e(r)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,r=0;r<e.length;r++)Yn(e[r]);for(var n=0;n<e.length;n++)Kn(e[n]);for(var i=0;i<e.length;i++)$n(e[i]);for(var o=0;o<e.length;o++)Zn(e[o]);for(var a=0;a<e.length;a++)Qn(e[a])}(t)}))}function Yn(t){var e=t.cm,r=e.display;(function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=_r(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=_r(t)+"px",e.scrollbarsClipped=!0)})(e),t.updateMaxLine&&Ue(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new oi(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Kn(t){t.updatedDisplay=t.mustUpdate&&ai(t.cm,t.update)}function $n(t){var e=t.cm,r=e.display;t.updatedDisplay&&Tn(e),t.barMeasure=Bn(e),r.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Mr(e,r.maxLine,r.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+t.adjustWidthTo+_r(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+t.adjustWidthTo-Tr(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=r.input.prepareSelection())}function Zn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&In(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var r=t.focus&&t.focus==L();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,r),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Hn(e,t.barMeasure),t.updatedDisplay&&di(e,t.barMeasure),t.selectionChanged&&wn(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),r&&kn(t.cm)}function Qn(t){var e=t.cm,r=e.display,n=e.doc;t.updatedDisplay&&si(e,t.update),null==r.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=t.scrollTop&&zn(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&In(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!gt(t,"scrollCursorIntoView")){var r=t.display,n=r.sizer.getBoundingClientRect(),i=null;if(e.top+n.top<0?i=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!f){var o=M("div","​",null,"position: absolute;\n                         top: "+(e.top-r.viewOffset-kr(t.display))+"px;\n                         height: "+(e.bottom-e.top+_r(t)+r.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,r,n){var i;null==n&&(n=0),t.options.lineWrapping||e!=r||(r="before"==(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?te(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,s=qr(t,e),l=r&&r!=e?qr(t,r):s,c=Mn(t,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),d=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=c.scrollTop&&(Fn(t,c.scrollTop),Math.abs(t.doc.scrollTop-d)>1&&(a=!0)),null!=c.scrollLeft&&(In(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(a=!0)),!a)break}return i}(e,se(n,t.scrollToPos.from),se(n,t.scrollToPos.to),t.scrollToPos.margin));var i=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ft(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&ft(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&ft(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Jn(t,e){if(t.curOp)return e();qn(t);try{return e()}finally{Xn(t)}}function ti(t,e){return function(){if(t.curOp)return e.apply(t,arguments);qn(t);try{return e.apply(t,arguments)}finally{Xn(t)}}}function ei(t){return function(){if(this.curOp)return t.apply(this,arguments);qn(this);try{return t.apply(this,arguments)}finally{Xn(this)}}}function ri(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);qn(e);try{return t.apply(this,arguments)}finally{Xn(e)}}}function ni(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,z(ii,t))}function ii(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var r=+new Date+t.options.workTime,n=he(t,e.highlightFrontier),i=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(n.line>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength?Gt(e.mode,n.state):null,l=ue(t,o,n,!0);s&&(n.state=s),o.styles=l.styles;var c=o.styleClasses,d=l.classes;d?o.styleClasses=d:c&&(o.styleClasses=null);for(var u=!a||a.length!=o.styles.length||c!=d&&(!c||!d||c.bgClass!=d.bgClass||c.textClass!=d.textClass),p=0;!u&&p<a.length;++p)u=a[p]!=o.styles[p];u&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=t.options.maxHighlightLength&&fe(t,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ni(t,t.options.workDelay),!0})),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),i.length&&Jn(t,(function(){for(var e=0;e<i.length;e++)pn(t,i[e],"text")}))}}var oi=function(t,e,r){var n=t.display;this.viewport=e,this.visible=Pn(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tr(t),this.force=r,this.dims=on(t),this.events=[]};function ai(t,e){var r=t.display,n=t.doc;if(e.editorIsHidden)return hn(t),!1;if(!e.force&&e.visible.from>=r.viewFrom&&e.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==gn(t))return!1;pi(t)&&(hn(t),e.dims=on(t));var i=n.first+n.size,o=Math.max(e.visible.from-t.options.viewportMargin,n.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),ke&&(o=Re(t.doc,o),a=je(t.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=e.wrapperHeight||r.lastWrapWidth!=e.wrapperWidth;(function(t,e,r){var n=t.display;0==n.view.length||e>=n.viewTo||r<=n.viewFrom?(n.view=ir(t,e,r),n.viewFrom=e):(n.viewFrom>e?n.view=ir(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(dn(t,e))),n.viewFrom=e,n.viewTo<r?n.view=n.view.concat(ir(t,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,dn(t,r)))),n.viewTo=r})(t,o,a),r.viewOffset=Ve(qt(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var c=gn(t);if(!s&&0==c&&!e.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var d=function(t){if(t.hasFocus())return null;var e=L();if(!e||!A(t.display.lineDiv,e))return null;var r={activeElt:e};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&A(t.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(t);return c>4&&(r.lineDiv.style.display="none"),function(t,e,r){var n=t.display,i=t.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(e){var r=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),r}for(var c=n.view,d=n.viewFrom,u=0;u<c.length;u++){var p=c[u];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;a!=p.node;)a=s(a);var h=i&&null!=e&&e<=d&&p.lineNumber;p.changes&&(j(p.changes,"gutter")>-1&&(h=!1),cr(t,p,d,r)),h&&(E(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(Jt(t.options,d)))),a=p.node.nextSibling}else{var f=mr(t,p,d,r);o.insertBefore(f,a)}d+=p.size}for(;a;)a=s(a)}(t,r.updateLineNumbers,e.dims),c>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(t){if(t&&t.activeElt&&t.activeElt!=L()&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=window.getSelection(),r=document.createRange();r.setEnd(t.anchorNode,t.anchorOffset),r.collapse(!1),e.removeAllRanges(),e.addRange(r),e.extend(t.focusNode,t.focusOffset)}}(d),E(r.cursorDiv),E(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=e.wrapperHeight,r.lastWrapWidth=e.wrapperWidth,ni(t,400)),r.updateLineNumbers=null,!0}function si(t,e){for(var r=e.viewport,n=!0;;n=!1){if(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Tr(t))n&&(e.visible=Pn(t.display,t.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(t.doc.height+Cr(t.display)-Er(t),r.top)}),e.visible=Pn(t.display,t.doc,r),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!ai(t,e))break;Tn(t);var i=Bn(t);mn(t),Hn(t,i),di(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function li(t,e){var r=new oi(t,e);if(ai(t,r)){Tn(t),si(t,r);var n=Bn(t);mn(t),Hn(t,n),di(t,n),r.finish()}}function ci(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",sr(t,"gutterChanged",t)}function di(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+_r(t)+"px"}function ui(t){var e=t.display,r=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=an(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){t.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+i+"px")}}function pi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=Jt(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(M("div",[M("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ci(t.display),!0}return!1}function hi(t,e){for(var r=[],n=!1,i=0;i<t.length;i++){var o=t[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;n=!0}r.push({className:o,style:a})}return e&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function fi(t){var e=t.gutters,r=t.gutterSpecs;E(e),t.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=e.appendChild(M("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=r.length?"":"none",ci(t)}function gi(t){fi(t.display),un(t),ui(t)}function mi(t,e,n,i){var o=this;this.input=n,o.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=D("div",null,"CodeMirror-code"),o.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=M("div",null,"CodeMirror-cursors"),o.measure=M("div",null,"CodeMirror-measure"),o.lineMeasure=M("div",null,"CodeMirror-measure"),o.lineSpace=D("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=D("div",[o.lineSpace],"CodeMirror-lines");o.mover=M("div",[c],null,"position: relative"),o.sizer=M("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=M("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=M("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=M("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=M("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||r&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=hi(i.gutters,i.lineNumbers),fi(o),n.init(o)}oi.prototype.signal=function(t,e){vt(t,e)&&this.events.push(arguments)},oi.prototype.finish=function(){for(var t=0;t<this.events.length;t++)ft.apply(null,this.events[t])};var vi=0,yi=null;function bi(t){var e=t.wheelDeltaX,r=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta),{x:e,y:r}}function xi(t){var e=bi(t);return e.x*=yi,e.y*=yi,e}function wi(t,e){var n=bi(e),i=n.x,o=n.y,a=t.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,d=s.scrollHeight>s.clientHeight;if(i&&c||o&&d){if(o&&y&&l)t:for(var p=e.target,h=a.view;p!=s;p=p.parentNode)for(var f=0;f<h.length;f++)if(h[f].node==p){t.display.currentWheelTarget=p;break t}if(i&&!r&&!u&&null!=yi)return o&&d&&Fn(t,Math.max(0,s.scrollTop+o*yi)),In(t,Math.max(0,s.scrollLeft+i*yi)),(!o||o&&d)&&bt(e),void(a.wheelStartX=null);if(o&&null!=yi){var g=o*yi,m=t.doc.scrollTop,v=m+a.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(t.doc.height,v+g+50),li(t,{top:m,bottom:v})}vi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,r=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(yi=(yi*vi+r)/(vi+1),++vi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?yi=-.53:r?yi=15:d?yi=-.7:p&&(yi=-1/3);var ki=function(t,e){this.ranges=t,this.primIndex=e};ki.prototype.primary=function(){return this.ranges[this.primIndex]},ki.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var r=this.ranges[e],n=t.ranges[e];if(!re(r.anchor,n.anchor)||!re(r.head,n.head))return!1}return!0},ki.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ci(ne(this.ranges[e].anchor),ne(this.ranges[e].head));return new ki(t,this.primIndex)},ki.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},ki.prototype.contains=function(t,e){e||(e=t);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ee(e,n.from())>=0&&ee(t,n.to())<=0)return r}return-1};var Ci=function(t,e){this.anchor=t,this.head=e};function Si(t,e,r){var n=t&&t.options.selectionsMayTouch,i=e[r];e.sort((function(t,e){return ee(t.from(),e.from())})),r=j(e,i);for(var o=1;o<e.length;o++){var a=e[o],s=e[o-1],l=ee(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var c=oe(s.from(),a.from()),d=ie(s.to(),a.to()),u=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,e.splice(--o,2,new Ci(u?d:c,u?c:d))}}return new ki(e,r)}function _i(t,e){return new ki([new Ci(t,e||t)],0)}function Ti(t){return t.text?te(t.from.line+t.text.length-1,Y(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Ei(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return Ti(e);var r=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=Ti(e).ch-e.to.ch),te(r,n)}function Pi(t,e){for(var r=[],n=0;n<t.sel.ranges.length;n++){var i=t.sel.ranges[n];r.push(new Ci(Ei(i.anchor,e),Ei(i.head,e)))}return Si(t.cm,r,t.sel.primIndex)}function Mi(t,e,r){return t.line==e.line?te(r.line,t.ch-e.ch+r.ch):te(r.line+(t.line-e.line),t.ch)}function Di(t){t.doc.mode=Rt(t.options,t.doc.modeOption),Ai(t)}function Ai(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ni(t,100),t.state.modeGen++,t.curOp&&un(t)}function Li(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Y(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ni(t,e,r,n){function i(t){return r?r[t]:null}function o(t,r,i){(function(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Pe(t),Me(t,r);var i=n?n(t):1;i!=t.height&&Kt(t,i)})(t,r,i,n),sr(t,"change",t,e)}function a(t,e){for(var r=[],o=t;o<e;++o)r.push(new qe(c[o],i(o),n));return r}var s=e.from,l=e.to,c=e.text,d=qt(t,s.line),u=qt(t,l.line),p=Y(c),h=i(c.length-1),f=l.line-s.line;if(e.full)t.insert(0,a(0,c.length)),t.remove(c.length,t.size-c.length);else if(Li(t,e)){var g=a(0,c.length-1);o(u,u.text,h),f&&t.remove(s.line,f),g.length&&t.insert(s.line,g)}else if(d==u)if(1==c.length)o(d,d.text.slice(0,s.ch)+p+d.text.slice(l.ch),h);else{var m=a(1,c.length-1);m.push(new qe(p+d.text.slice(l.ch),h,n)),o(d,d.text.slice(0,s.ch)+c[0],i(0)),t.insert(s.line+1,m)}else if(1==c.length)o(d,d.text.slice(0,s.ch)+c[0]+u.text.slice(l.ch),i(0)),t.remove(s.line+1,f);else{o(d,d.text.slice(0,s.ch)+c[0],i(0)),o(u,p+u.text.slice(l.ch),h);var v=a(1,c.length-1);f>1&&t.remove(s.line+1,f-1),t.insert(s.line+1,v)}sr(t,"change",t,e)}function Oi(t,e,r){!function t(n,i,o){if(n.linked)for(var a=0;a<n.linked.length;++a){var s=n.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;r&&!l||(e(s.doc,l),t(s.doc,n,l))}}}(t,null,!0)}function Fi(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ln(t),Di(t),zi(t),t.options.lineWrapping||Ue(t),t.options.mode=e.modeOption,un(t)}function zi(t){("rtl"==t.doc.direction?N:T)(t.display.lineDiv,"CodeMirror-rtl")}function Ii(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Bi(t,e){var r={from:ne(e.from),to:Ti(e),text:Xt(t,e.from,e.to)};return Vi(t,r,e.from.line,e.to.line+1),Oi(t,(function(t){return Vi(t,r,e.from.line,e.to.line+1)}),!0),r}function Ri(t){for(;t.length&&Y(t).ranges;)t.pop()}function ji(t,e,r,n){var i=t.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Ri(t.done),Y(t.done)):t.done.length&&!Y(t.done).ranges?Y(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Y(t.done)):void 0}(i,i.lastOp==n)))a=Y(o.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=Ti(e):o.changes.push(Bi(t,e));else{var l=Y(i.done);for(l&&l.ranges||Gi(t.sel,i.done),o={changes:[Bi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=e.origin,a||ft(t,"historyAdded")}function Hi(t,e,r,n){var i=t.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,r,n){var i=e.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Y(i.done),e))?i.done[i.done.length-1]=e:Gi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&Ri(i.undone)}function Gi(t,e){var r=Y(e);r&&r.ranges&&r.equals(t)||e.push(t)}function Vi(t,e,r,n){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),(function(r){r.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=r.markedSpans),++o}))}function Wi(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function Ui(t,e){var r=function(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=[],i=0;i<e.text.length;++i)n.push(Wi(r[i]));return n}(t,e),n=Te(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else a&&(r[i]=a)}return r}function qi(t,e,r){for(var n=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)n.push(r?ki.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],d=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(d=u.match(/^spans_(\d+)$/))&&j(e,Number(d[1]))>-1&&(Y(s)[u]=c[u],delete c[u])}}}return n}function Xi(t,e,r,n){if(n){var i=t.anchor;if(r){var o=ee(e,i)<0;o!=ee(r,i)<0?(i=e,e=r):o!=ee(e,r)<0&&(e=r)}return new Ci(i,e)}return new Ci(r||e,e)}function Yi(t,e,r,n,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Ji(t,new ki([Xi(t.sel.primary(),e,r,i)],0),n)}function Ki(t,e,r){for(var n=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)n[o]=Xi(t.sel.ranges[o],e[o],null,i);Ji(t,Si(t.cm,n,t.sel.primIndex),r)}function $i(t,e,r,n){var i=t.sel.ranges.slice(0);i[e]=r,Ji(t,Si(t.cm,i,t.sel.primIndex),n)}function Zi(t,e,r,n){Ji(t,_i(e,r),n)}function Qi(t,e,r){var n=t.history.done,i=Y(n);i&&i.ranges?(n[n.length-1]=e,to(t,e,r)):Ji(t,e,r)}function Ji(t,e,r){to(t,e,r),Hi(t,t.sel,t.cm?t.cm.curOp.id:NaN,r)}function to(t,e,r){(vt(t,"beforeSelectionChange")||t.cm&&vt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,r){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var r=0;r<e.length;r++)this.ranges[r]=new Ci(se(t,e[r].anchor),se(t,e[r].head))},origin:r&&r.origin};return ft(t,"beforeSelectionChange",t,n),t.cm&&ft(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?Si(t.cm,n.ranges,n.ranges.length-1):e}(t,e,r));var n=r&&r.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);eo(t,no(t,e,n,!0)),r&&!1===r.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||An(t.cm)}function eo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,mt(t.cm)),sr(t,"cursorActivity",t))}function ro(t){eo(t,no(t,t.sel,null,!1))}function no(t,e,r,n){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=oo(t,a.anchor,s&&s.anchor,r,n),c=oo(t,a.head,s&&s.head,r,n);(i||l!=a.anchor||c!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new Ci(l,c))}return i?Si(t.cm,i,e.primIndex):e}function io(t,e,r,n,i){var o=qt(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,d="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(d?s.to>=e.ch:s.to>e.ch))){if(i&&(ft(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(r){var u=l.find(n<0?1:-1),p=void 0;if((n<0?d:c)&&(u=ao(t,u,-n,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(p=ee(u,r))&&(n<0?p<0:p>0))return io(t,u,e,n,i)}var h=l.find(n<0?-1:1);return(n<0?c:d)&&(h=ao(t,h,n,h.line==e.line?o:null)),h?io(t,h,e,n,i):null}}return e}function oo(t,e,r,n,i){var o=n||1;return io(t,e,r,o,i)||!i&&io(t,e,r,o,!0)||io(t,e,r,-o,i)||!i&&io(t,e,r,-o,!0)||(t.cantEdit=!0,te(t.first,0))}function ao(t,e,r,n){return r<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:r>0&&e.ch==(n||qt(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+r)}function so(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),G)}function lo(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(e,r,i,o){e&&(n.from=se(t,e)),r&&(n.to=se(t,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),ft(t,"beforeChange",t,n),t.cm&&ft(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function co(t,e,r){if(t.cm){if(!t.cm.curOp)return ti(t.cm,co)(t,e,r);if(t.cm.state.suppressEdits)return}if(!(vt(t,"beforeChange")||t.cm&&vt(t.cm,"beforeChange"))||(e=lo(t,e,!0))){var n=we&&!r&&function(t,e,r){var n=null;if(t.iter(e.line,r.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=j(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:e,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ee(c.to,s.from)<0||ee(c.from,s.to)>0)){var d=[l,1],u=ee(c.from,s.from),p=ee(c.to,s.to);(u<0||!a.inclusiveLeft&&!u)&&d.push({from:c.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&d.push({from:s.to,to:c.to}),i.splice.apply(i,d),l+=d.length-3}}return i}(t,e.from,e.to);if(n)for(var i=n.length-1;i>=0;--i)uo(t,{from:n[i].from,to:n[i].to,text:i?[""]:e.text,origin:e.origin});else uo(t,e)}}function uo(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var r=Pi(t,e);ji(t,e,r,t.cm?t.cm.curOp.id:NaN),fo(t,e,r,Te(t,e));var n=[];Oi(t,(function(t,r){r||-1!=j(n,t.history)||(yo(t.history,e),n.push(t.history)),fo(t,e,null,Te(t,e))}))}}function po(t,e,r){var n=t.cm&&t.cm.state.suppressEdits;if(!n||r){for(var i,o=t.history,a=t.sel,s="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<s.length&&(i=s[c],r?!i.ranges||i.equals(t.sel):i.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Gi(i,l),r&&!i.equals(t.sel))return void Ji(t,i,{clearRedo:!1});a=i}var d=[];Gi(a,l),l.push({changes:d,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var u=vt(t,"beforeChange")||t.cm&&vt(t.cm,"beforeChange"),p=function(r){var n=i.changes[r];if(n.origin=e,u&&!lo(t,n,!1))return s.length=0,{};d.push(Bi(t,n));var o=r?Pi(t,n):Y(s);fo(t,n,o,Ui(t,n)),!r&&t.cm&&t.cm.scrollIntoView({from:n.from,to:Ti(n)});var a=[];Oi(t,(function(t,e){e||-1!=j(a,t.history)||(yo(t.history,n),a.push(t.history)),fo(t,n,null,Ui(t,n))}))},h=i.changes.length-1;h>=0;--h){var f=p(h);if(f)return f.v}}}}function ho(t,e){if(0!=e&&(t.first+=e,t.sel=new ki(K(t.sel.ranges,(function(t){return new Ci(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){un(t.cm,t.first,t.first-e,e);for(var r=t.cm.display,n=r.viewFrom;n<r.viewTo;n++)pn(t.cm,n,"gutter")}}function fo(t,e,r,n){if(t.cm&&!t.cm.curOp)return ti(t.cm,fo)(t,e,r,n);if(e.to.line<t.first)ho(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);ho(t,i),e={from:te(t.first,0),to:te(e.to.line+i,e.to.ch),text:[Y(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:te(o,qt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Xt(t,e.from,e.to),r||(r=Pi(t,e)),t.cm?function(t,e,r){var n=t.doc,i=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=$t(Be(qt(n,o.line))),n.iter(l,a.line+1,(function(t){if(t==i.maxLine)return s=!0,!0}))),n.sel.contains(e.from,e.to)>-1&&mt(t),Ni(n,e,r,sn(t)),t.options.lineWrapping||(n.iter(l,o.line+e.text.length,(function(t){var e=We(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)})),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var r=t.first,n=e-1;n>r;n--){var i=qt(t,n).stateAfter;if(i&&(!(i instanceof ce)||n+i.lookAhead<e)){r=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,r)}}(n,o.line),ni(t,400);var c=e.text.length-(a.line-o.line)-1;e.full?un(t):o.line!=a.line||1!=e.text.length||Li(t.doc,e)?un(t,o.line,a.line+1,c):pn(t,o.line,"text");var d=vt(t,"changes"),u=vt(t,"change");if(u||d){var p={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};u&&sr(t,"change",t,p),d&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}(t.cm,e,n):Ni(t,e,n),to(t,r,G),t.cantEdit&&oo(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function go(t,e,r,n,i){var o;n||(n=r),ee(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof e&&(e=t.splitLines(e)),co(t,{from:r,to:n,text:e,origin:i})}function mo(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function vo(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)mo(o.ranges[s].anchor,e,r,n),mo(o.ranges[s].head,e,r,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(r<c.from.line)c.from=te(c.from.line+n,c.from.ch),c.to=te(c.to.line+n,c.to.ch);else if(e<=c.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function yo(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;vo(t.done,r,n,i),vo(t.undone,r,n,i)}function bo(t,e,r,n){var i=e,o=e;return"number"==typeof e?o=qt(t,ae(t,e)):i=$t(e),null==i?null:(n(o,i)&&t.cm&&pn(t.cm,i,r),o)}function xo(t){this.lines=t,this.parent=null;for(var e=0,r=0;r<t.length;++r)t[r].parent=this,e+=t[r].height;this.height=e}function wo(t){this.children=t;for(var e=0,r=0,n=0;n<t.length;++n){var i=t[n];e+=i.chunkSize(),r+=i.height,i.parent=this}this.size=e,this.height=r,this.parent=null}Ci.prototype.from=function(){return oe(this.anchor,this.head)},Ci.prototype.to=function(){return ie(this.anchor,this.head)},Ci.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},xo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;r<n;++r){var i=this.lines[r];this.height-=i.height,Xe(i),sr(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;t<n;++t)if(r(this.lines[t]))return!0}},wo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(t<i){var o=Math.min(e,i-t),a=n.height;if(n.removeInner(t,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof xo))){var s=[];this.collapse(s),this.children=[new xo(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new xo(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new wo(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var r=j(t.parent.children,t);t.parent.children.splice(r+1,0,e)}else{var n=new wo(t.children);n.parent=t,t.children=[n,e],t=n}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,r))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var ko=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=t,this.node=e};function Co(t,e,r){Ve(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Dn(t,r)}ko.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,r=this.line,n=$t(r);if(null!=n&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(r.widgets=null);var o=xr(this);Kt(r,Math.max(0,r.height-o)),t&&(Jn(t,(function(){Co(t,r,-o),pn(t,n,"widget")})),sr(t,"lineWidgetCleared",t,this,n))}},ko.prototype.changed=function(){var t=this,e=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=xr(this)-e;i&&(He(this.doc,n)||Kt(n,n.height+i),r&&Jn(r,(function(){r.curOp.forceUpdate=!0,Co(r,n,i),sr(r,"lineWidgetChanged",r,t,$t(n))})))},yt(ko);var So=0,_o=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++So};function To(t,e,r,n,i){if(n&&n.shared)return function(t,e,r,n,i){(n=I(n)).shared=!1;var o=[To(t,e,r,n,i)],a=o[0],s=n.widgetNode;return Oi(t,(function(t){s&&(n.widgetNode=s.cloneNode(!0)),o.push(To(t,se(t,e),se(t,r),n,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=Y(o)})),new Eo(o,a)}(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return ti(t.cm,To)(t,e,r,n,i);var o=new _o(t,i),a=ee(e,r);if(n&&I(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=D("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ie(t,e.line,e,r,o)||e.line!=r.line&&Ie(t,r.line,e,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke=!0}o.addToHistory&&ji(t,{from:e,to:r,origin:"markText"},t.sel,NaN);var s,l=e.line,c=t.cm;if(t.iter(l,r.line+1,(function(t){c&&o.collapsed&&!c.options.lineWrapping&&Be(t)==c.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&Kt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Ce(o,l==e.line?e.ch:null,l==r.line?r.ch:null)),++l})),o.collapsed&&t.iter(e.line,r.line+1,(function(e){He(t,e)&&Kt(e,0)})),o.clearOnEnter&&ut(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(we=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++So,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)un(c,e.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var d=e.line;d<=r.line;d++)pn(c,d,"text");o.atomic&&ro(c.doc),sr(c,"markerAdded",c,o)}return o}_o.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&qn(t),vt(this,"clear")){var r=this.find();r&&sr(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Se(a.markedSpans,this);t&&!this.collapsed?pn(t,$t(a),"text"):t&&(null!=s.to&&(i=$t(a)),null!=s.from&&(n=$t(a))),a.markedSpans=_e(a.markedSpans,s),null==s.from&&this.collapsed&&!He(this.doc,a)&&t&&Kt(a,rn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Be(this.lines[l]),d=We(c);d>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&un(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ro(t.doc)),t&&sr(t,"markerCleared",t,this,n,i),e&&Xn(t),this.parent&&this.parent.clear()}},_o.prototype.find=function(t,e){var r,n;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Se(o.markedSpans,this);if(null!=a.from&&(r=te(e?o:$t(o),a.from),-1==t))return r;if(null!=a.to&&(n=te(e?o:$t(o),a.to),1==t))return n}return r&&{from:r,to:n}},_o.prototype.changed=function(){var t=this,e=this.find(-1,!0),r=this,n=this.doc.cm;e&&n&&Jn(n,(function(){var i=e.line,o=$t(e.line),a=Dr(n,o);if(a&&(Ir(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!He(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=xr(r)-s;l&&Kt(i,i.height+l)}sr(n,"markerChanged",n,t)}))},_o.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=j(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},_o.prototype.detachLine=function(t){if(this.lines.splice(j(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},yt(_o);var Eo=function(t,e){this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=this};function Po(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),(function(t){return t.parent}))}function Mo(t){for(var e=function(e){var r=t[e],n=[r.primary.doc];Oi(r.primary.doc,(function(t){return n.push(t)}));for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==j(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<t.length;r++)e(r)}Eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();sr(this,"clear")}},Eo.prototype.find=function(t,e){return this.primary.find(t,e)},yt(Eo);var Do=0,Ao=function(t,e,r,n,i){if(!(this instanceof Ao))return new Ao(t,e,r,n,i);null==r&&(r=0),wo.call(this,[new xo([new qe("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=te(r,0);this.sel=_i(o),this.history=new Ii(null),this.id=++Do,this.modeOption=e,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ni(this,{from:o,to:o,text:t}),Ji(this,_i(o),G)};Ao.prototype=Z(wo.prototype,{constructor:Ao,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0;n<e.length;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Yt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ri((function(t){var e=te(this.first,0),r=this.first+this.size-1;co(this,{from:e,to:te(r,qt(this,r).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ln(this.cm,0,0),Ji(this,_i(e),G)})),replaceRange:function(t,e,r,n){go(this,t,e=se(this,e),r=r?se(this,r):e,n)},getRange:function(t,e,r){var n=Xt(this,se(this,t),se(this,e));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Qt(this,t))return qt(this,t)},getLineNumber:function(t){return $t(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=qt(this,t)),Be(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ri((function(t,e,r){Zi(this,se(this,"number"==typeof t?te(t,e||0):t),null,r)})),setSelection:ri((function(t,e,r){Zi(this,se(this,t),se(this,e||t),r)})),extendSelection:ri((function(t,e,r){Yi(this,se(this,t),e&&se(this,e),r)})),extendSelections:ri((function(t,e){Ki(this,le(this,t),e)})),extendSelectionsBy:ri((function(t,e){Ki(this,le(this,K(this.sel.ranges,t)),e)})),setSelections:ri((function(t,e,r){if(t.length){for(var n=[],i=0;i<t.length;i++)n[i]=new Ci(se(this,t[i].anchor),se(this,t[i].head||t[i].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Ji(this,Si(this.cm,n,e),r)}})),addSelection:ri((function(t,e,r){var n=this.sel.ranges.slice(0);n.push(new Ci(se(this,t),se(this,e||t))),Ji(this,Si(this.cm,n,n.length-1),r)})),getSelection:function(t){for(var e,r=this.sel.ranges,n=0;n<r.length;n++){var i=Xt(this,r[n].from(),r[n].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Xt(this,r[n].from(),r[n].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[n]=i}return e},replaceSelection:function(t,e,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=t;this.replaceSelections(n,e,r||"+input")},replaceSelections:ri((function(t,e,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:r}}for(var s=e&&"end"!=e&&function(t,e,r){for(var n=[],i=te(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=Mi(s.from,i,o),c=Mi(Ti(s),i,o);if(i=s.to,o=c,"around"==r){var d=t.sel.ranges[a],u=ee(d.head,d.anchor)<0;n[a]=new Ci(u?c:l,u?l:c)}else n[a]=new Ci(l,l)}return new ki(n,t.sel.primIndex)}(this,n,e),l=n.length-1;l>=0;l--)co(this,n[l]);s?Qi(this,s):this.cm&&An(this.cm)})),undo:ri((function(){po(this,"undo")})),redo:ri((function(){po(this,"redo")})),undoSelection:ri((function(){po(this,"undo",!0)})),redoSelection:ri((function(){po(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,r=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++r;return{undo:e,redo:r}},clearHistory:function(){var t=this;this.history=new Ii(this.history),Oi(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:qi(this.history.done),undone:qi(this.history.undone)}},setHistory:function(t){var e=this.history=new Ii(this.history);e.done=qi(t.done.slice(0),null,!0),e.undone=qi(t.undone.slice(0),null,!0)},setGutterMarker:ri((function(t,e,r){return bo(this,t,"gutter",(function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&et(n)&&(t.gutterMarkers=null),!0}))})),clearGutter:ri((function(t){var e=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[t]&&bo(e,r,"gutter",(function(){return r.gutterMarkers[t]=null,et(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!Qt(this,t))return null;if(e=t,!(t=qt(this,t)))return null}else if(null==(e=$t(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ri((function(t,e,r){return bo(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(S(r).test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0}))})),removeLineClass:ri((function(t,e,r){return bo(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[n];if(!i)return!1;if(null==r)t[n]=null;else{var o=i.match(S(r));if(!o)return!1;var a=o.index+o[0].length;t[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:ri((function(t,e,r){return function(t,e,r,n){var i=new ko(t,r,n),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),bo(t,e,"widget",(function(e){var r=e.widgets||(e.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!He(t,e)){var n=Ve(e)<t.scrollTop;Kt(e,e.height+xr(i)),n&&Dn(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&sr(o,"lineWidgetAdded",o,i,"number"==typeof e?e:$t(e)),i}(this,t,e,r)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,r){return To(this,se(this,t),se(this,e),r,r&&r.type||"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return To(this,t=se(this,t),t,r,"bookmark")},findMarksAt:function(t){var e=[],r=qt(this,(t=se(this,t)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,r){t=se(this,t),e=se(this,e);var n=[],i=t.line;return this.iter(t.line,e.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var t=[];return this.iter((function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&t.push(r[n].marker)})),t},posFromIndex:function(t){var e,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+n;if(o>t)return e=t,!0;t-=o,++r})),se(this,te(r,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+r})),e},copy:function(t){var e=new Ao(Yt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var n=new Ao(Yt(this,e,r),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(ee(o,a)){var s=To(t,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,Po(this)),n},unlinkDoc:function(t){if(t instanceof Ea&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Mo(Po(this));break}if(t.history==this.history){var r=[t.id];Oi(t,(function(t){return r.push(t.id)}),!0),t.history=new Ii(null),t.history.done=qi(this.history.done,r),t.history.undone=qi(this.history.undone,r)}},iterLinkedDocs:function(t){Oi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):At(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ri((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&Jn(e=this.cm,(function(){zi(e),un(e)})))}))}),Ao.prototype.eachLine=Ao.prototype.iter;var Lo=0;function No(t){var e=this;if(Oo(e),!gt(e,t)&&!wr(e.display,t)){bt(t),a&&(Lo=+new Date);var r=cn(e,t,!0),n=t.dataTransfer.files;if(r&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,l=function(){++s==i&&ti(e,(function(){var t={from:r=se(e.doc,r),to:r,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};co(e.doc,t),Qi(e.doc,_i(se(e.doc,r),se(e.doc,Ti(t))))}))()},c=function(t,r){if(e.options.allowDropFileTypes&&-1==j(e.options.allowDropFileTypes,t.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var t=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[r]=t),l()},n.readAsText(t)}},d=0;d<n.length;d++)c(n[d],d);else{if(e.state.draggingText&&e.doc.sel.contains(r)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var u=t.dataTransfer.getData("Text");if(u){var p;if(e.state.draggingText&&!e.state.draggingText.copy&&(p=e.listSelections()),to(e.doc,_i(r,r)),p)for(var h=0;h<p.length;++h)go(e.doc,"",p[h].anchor,p[h].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Oo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Fo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var e=0;e<r.length;e++)t(r[e])}))}}var zo=!1;function Io(){var t;zo||(ut(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Fo(Bo)}),100))})),ut(window,"blur",(function(){return Fo(_n)})),zo=!0)}function Bo(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},jo=0;jo<10;jo++)Ro[jo+48]=Ro[jo+96]=String(jo);for(var Ho=65;Ho<=90;Ho++)Ro[Ho]=String.fromCharCode(Ho);for(var Go=1;Go<=12;Go++)Ro[Go+111]=Ro[Go+63235]="F"+Go;var Vo={};function Wo(t){var e,r,n,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return e&&(t="Alt-"+t),r&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function Uo(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete t[r];continue}for(var i=K(r.split(" "),Wo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[r]}for(var c in e)t[c]=e[c];return t}function qo(t,e,r,n){var i=(e=$o(e)).call?e.call(t,n):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return qo(t,e.fallthrough,r,n);for(var o=0;o<e.fallthrough.length;o++){var a=qo(t,e.fallthrough[o],r,n);if(a)return a}}}function Xo(t){var e="string"==typeof t?t:Ro[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Yo(t,e,r){var n=t;return e.altKey&&"Alt"!=n&&(t="Alt-"+t),(k?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(t="Ctrl-"+t),(k?e.ctrlKey:e.metaKey)&&"Mod"!=n&&(t="Cmd-"+t),!r&&e.shiftKey&&"Shift"!=n&&(t="Shift-"+t),t}function Ko(t,e){if(u&&34==t.keyCode&&t.char)return!1;var r=Ro[t.keyCode];return null!=r&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(r=t.code),Yo(r,t,e))}function $o(t){return"string"==typeof t?Vo[t]:t}function Zo(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=e(r[i]);n.length&&ee(o.from,Y(n).to)<=0;){var a=n.pop();if(ee(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Jn(t,(function(){for(var e=n.length-1;e>=0;e--)go(t.doc,"",n[e].from,n[e].to,"+delete");An(t)}))}function Qo(t,e,r){var n=it(t.text,e+r,r);return n<0||n>t.text.length?null:n}function Jo(t,e,r){var n=Qo(t,e.ch,r);return null==n?null:new te(e.line,n,r<0?"after":"before")}function ta(t,e,r,n,i){if(t){"rtl"==e.doc.direction&&(i=-i);var o=ct(r,e.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var c=Ar(e,r);a=i<0?r.text.length-1:0;var d=Lr(e,c,a).top;a=ot((function(t){return Lr(e,c,t).top==d}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Qo(r,a,1))}else a=i<0?s.to:s.from;return new te(n,a,l)}}return new te(n,i<0?r.text.length:0,i<0?"before":"after")}Vo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vo.default=y?Vo.macDefault:Vo.pcDefault;var ea={selectAll:so,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),G)},killLine:function(t){return Zo(t,(function(e){if(e.empty()){var r=qt(t.doc,e.head.line).text.length;return e.head.ch==r&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,r)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Zo(t,(function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}}))},delLineLeft:function(t){return Zo(t,(function(t){return{from:te(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Zo(t,(function(e){var r=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:r},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return Zo(t,(function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div");return{from:e.from(),to:n}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return ra(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return na(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var r=qt(t.doc,e),n=function(t){for(var e;e=Fe(t);)t=e.find(1,!0).line;return t}(r);return n!=r&&(e=$t(n)),ta(!0,t,r,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div")}),W)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:r},"div")}),W)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var r=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return n.ch<t.getLine(n.line).search(/\S/)?na(t,e.head):n}),W)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],r=t.listSelections(),n=t.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=B(t.getLine(o.line),o.ch,n);e.push(X(n-a%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Jn(t,(function(){for(var e=t.listSelections(),r=[],n=0;n<e.length;n++)if(e[n].empty()){var i=e[n].head,o=qt(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new te(i.line,i.ch-1)),i.ch>0)i=new te(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),te(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=qt(t.doc,i.line-1).text;a&&(i=new te(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(i.line-1,a.length-1),i,"+transpose"))}r.push(new Ci(i,i))}t.setSelections(r)}))},newlineAndIndent:function(t){return Jn(t,(function(){for(var e=t.listSelections(),r=e.length-1;r>=0;r--)t.replaceRange(t.doc.lineSeparator(),e[r].anchor,e[r].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);An(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function ra(t,e){var r=qt(t.doc,e),n=Be(r);return n!=r&&(e=$t(n)),ta(!0,t,n,e,1)}function na(t,e){var r=ra(t,e.line),n=qt(t.doc,r.line),i=ct(n,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/)),a=e.line==r.line&&e.ch<=o&&e.ch;return te(r.line,a?0:o,r.sticky)}return r}function ia(t,e,r){if("string"==typeof e&&!(e=ea[e]))return!1;t.display.input.ensurePolled();var n=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r&&(t.display.shift=!1),i=e(t)!=H}finally{t.display.shift=n,t.state.suppressEdits=!1}return i}var oa=new R;function aa(t,e,r,n){var i=t.state.keySeq;if(i){if(Xo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:oa.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),sa(t,i+" "+e,r,n))return!0}return sa(t,e,r,n)}function sa(t,e,r,n){var i=function(t,e,r){for(var n=0;n<t.state.keyMaps.length;n++){var i=qo(e,t.state.keyMaps[n],r,t);if(i)return i}return t.options.extraKeys&&qo(e,t.options.extraKeys,r,t)||qo(e,t.options.keyMap,r,t)}(t,e,n);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&sr(t,"keyHandled",t,e,r),"handled"!=i&&"multi"!=i||(bt(r),wn(t)),!!i}function la(t,e){var r=Ko(e,!0);return!!r&&(e.shiftKey&&!t.state.keySeq?aa(t,"Shift-"+r,e,(function(e){return ia(t,e,!0)}))||aa(t,r,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ia(t,e)})):aa(t,r,e,(function(e){return ia(t,e)})))}var ca=null;function da(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=L(),gt(e,t)))){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=la(e,t);u&&(ca=i?n:null,i||88!=n||Nt||!(y?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),r&&!y&&!i&&46==n&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function r(t){18!=t.keyCode&&t.altKey||(T(e,"CodeMirror-crosshair"),ht(document,"keyup",r),ht(document,"mouseover",r))}N(e,"CodeMirror-crosshair"),ut(document,"keyup",r),ut(document,"mouseover",r)}(e)}}function ua(t){16==t.keyCode&&(this.doc.sel.shift=!1),gt(this,t)}function pa(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||wr(e.display,t)||gt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var r=t.keyCode,n=t.charCode;if(u&&r==ca)return ca=null,void bt(t);if(!u||t.which&&!(t.which<10)||!la(e,t)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(t,e,r){return aa(t,"'"+r+"'",e,(function(e){return ia(t,e,!0)}))}(e,t,i)||e.display.input.onKeyPress(t))}}}var ha,fa,ga=function(t,e,r){this.time=t,this.pos=e,this.button=r};function ma(t){var e=this,r=e.display;if(!(gt(e,t)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=t.shiftKey,wr(r,t))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!ba(e,t)){var n=cn(e,t),i=St(t),o=n?function(t,e){var r=+new Date;return fa&&fa.compare(r,t,e)?(ha=fa=null,"triple"):ha&&ha.compare(r,t,e)?(fa=new ga(r,t,e),ha=null,"double"):(ha=new ga(r,t,e),fa=null,"single")}(n,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),n&&function(t,e,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),aa(t,Yo(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,(function(e){if("string"==typeof e&&(e=ea[e]),!e)return!1;var n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n=e(t,r)!=H}finally{t.state.suppressEdits=!1}return n}))}(e,i,n,o,t)||(1==i?n?function(t,e,r,n){a?setTimeout(z(kn,t),0):t.curOp.focus=L();var i,o=function(t,e,r){var n=t.getOption("configureMouse"),i=n?n(t,e,r):{};if(null==i.unit){var o=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=y?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?r.altKey:r.ctrlKey)),i}(t,r,n),c=t.doc.sel;t.options.dragDrop&&Et&&!t.isReadOnly()&&"single"==r&&(i=c.contains(e))>-1&&(ee((i=c.ranges[i]).from(),e)<0||e.xRel>0)&&(ee(i.to(),e)>0||e.xRel<0)?function(t,e,r,n){var i=t.display,o=!1,c=ti(t,(function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Cn(t)),ht(i.wrapper.ownerDocument,"mouseup",c),ht(i.wrapper.ownerDocument,"mousemove",d),ht(i.scroller,"dragstart",u),ht(i.scroller,"drop",c),o||(bt(e),n.addNew||Yi(t.doc,r,null,null,n.extend),l&&!p||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),d=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},u=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!n.moveOnDrag,ut(i.wrapper.ownerDocument,"mouseup",c),ut(i.wrapper.ownerDocument,"mousemove",d),ut(i.scroller,"dragstart",u),ut(i.scroller,"drop",c),t.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(t,n,e,o):function(t,e,r,n){a&&Cn(t);var i=t.display,o=t.doc;bt(e);var s,l,c=o.sel,d=c.ranges;if(n.addNew&&!n.extend?(l=o.sel.contains(r),s=l>-1?d[l]:new Ci(r,r)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new Ci(r,r)),r=cn(t,e,!0,!0),l=-1;else{var u=va(t,r,n.unit);s=n.extend?Xi(s,u.anchor,u.head,n.extend):u}n.addNew?-1==l?(l=d.length,Ji(o,Si(t,d.concat([s]),l),{scroll:!1,origin:"*mouse"})):d.length>1&&d[l].empty()&&"char"==n.unit&&!n.extend?(Ji(o,Si(t,d.slice(0,l).concat(d.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):$i(o,l,s,V):(l=0,Ji(o,new ki([s],0),V),c=o.sel);var p=r;function h(e){if(0!=ee(p,e))if(p=e,"rectangle"==n.unit){for(var i=[],a=t.options.tabSize,d=B(qt(o,r.line).text,r.ch,a),u=B(qt(o,e.line).text,e.ch,a),h=Math.min(d,u),f=Math.max(d,u),g=Math.min(r.line,e.line),m=Math.min(t.lastLine(),Math.max(r.line,e.line));g<=m;g++){var v=qt(o,g).text,y=U(v,h,a);h==f?i.push(new Ci(te(g,y),te(g,y))):v.length>y&&i.push(new Ci(te(g,y),te(g,U(v,f,a))))}i.length||i.push(new Ci(r,r)),Ji(o,Si(t,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,x=s,w=va(t,e,n.unit),k=x.anchor;ee(w.anchor,k)>0?(b=w.head,k=oe(x.from(),w.anchor)):(b=w.anchor,k=ie(x.to(),w.head));var C=c.ranges.slice(0);C[l]=function(t,e){var r=e.anchor,n=e.head,i=qt(t.doc,r.line);if(0==ee(r,n)&&r.sticky==n.sticky)return e;var o=ct(i);if(!o)return e;var a=st(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return e;var l,c=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return e;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==t.doc.direction?1:-1)>0;else{var d=st(o,n.ch,n.sticky),u=d-a||(n.ch-r.ch)*(1==s.level?-1:1);l=d==c-1||d==c?u<0:u>0}var p=o[c+(l?-1:0)],h=l==(1==p.level),f=h?p.from:p.to,g=h?"after":"before";return r.ch==f&&r.sticky==g?e:new Ci(new te(r.line,f,g),n)}(t,new Ci(se(o,k),b)),Ji(o,Si(t,C,l),V)}}var f=i.wrapper.getBoundingClientRect(),g=0;function m(e){var r=++g,a=cn(t,e,!0,"rectangle"==n.unit);if(a)if(0!=ee(a,p)){t.curOp.focus=L(),h(a);var s=Pn(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(ti(t,(function(){g==r&&m(e)})),150)}else{var l=e.clientY<f.top?-20:e.clientY>f.bottom?20:0;l&&setTimeout(ti(t,(function(){g==r&&(i.scroller.scrollTop+=l,m(e))})),50)}}function v(e){t.state.selectingText=!1,g=1/0,e&&(bt(e),i.input.focus()),ht(i.wrapper.ownerDocument,"mousemove",y),ht(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=ti(t,(function(t){0!==t.buttons&&St(t)?m(t):v(t)})),b=ti(t,v);t.state.selectingText=b,ut(i.wrapper.ownerDocument,"mousemove",y),ut(i.wrapper.ownerDocument,"mouseup",b)}(t,n,e,o)}(e,n,o,t):Ct(t)==r.scroller&&bt(t):2==i?(n&&Yi(e.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(C?e.display.input.onContextMenu(t):Cn(e)))}}function va(t,e,r){if("char"==r)return new Ci(e,e);if("word"==r)return t.findWordAt(e);if("line"==r)return new Ci(te(e.line,0),se(t.doc,te(e.line+1,0)));var n=r(t,e);return new Ci(n.from,n.to)}function ya(t,e,r,n){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(t){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&bt(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!vt(t,r))return wt(e);o-=s.top-a.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return ft(t,r,t,Zt(t.doc,o),t.display.gutterSpecs[l].className,e),wt(e)}}function ba(t,e){return ya(t,e,"gutterClick",!0)}function xa(t,e){wr(t.display,e)||function(t,e){return!!vt(t,"gutterContextMenu")&&ya(t,e,"gutterContextMenu",!1)}(t,e)||gt(t,e,"contextmenu")||C||t.display.input.onContextMenu(e)}function wa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Rr(t)}ga.prototype.compare=function(t,e,r){return this.time+400>t&&0==ee(e,this.pos)&&r==this.button};var ka={toString:function(){return"CodeMirror.Init"}},Ca={},Sa={};function _a(t,e,r){if(!e!=!(r&&r!=ka)){var n=t.display.dragFunctions,i=e?ut:ht;i(t.display.scroller,"dragstart",n.start),i(t.display.scroller,"dragenter",n.enter),i(t.display.scroller,"dragover",n.over),i(t.display.scroller,"dragleave",n.leave),i(t.display.scroller,"drop",n.drop)}}function Ta(t){t.options.lineWrapping?(N(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(T(t.display.wrapper,"CodeMirror-wrap"),Ue(t)),ln(t),un(t),Rr(t),setTimeout((function(){return Hn(t)}),100)}function Ea(t,e){var r=this;if(!(this instanceof Ea))return new Ea(t,e);this.options=e=e?I(e):{},I(Ca,e,!1);var n=e.value;"string"==typeof n?n=new Ao(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var i=new Ea.inputStyles[e.inputStyle](this),o=this.display=new mi(t,n,i,e);for(var c in o.wrapper.CodeMirror=this,wa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(t){var e=t.display;ut(e.scroller,"mousedown",ti(t,ma)),ut(e.scroller,"dblclick",a&&s<11?ti(t,(function(e){if(!gt(t,e)){var r=cn(t,e);if(r&&!ba(t,e)&&!wr(t.display,e)){bt(e);var n=t.findWordAt(r);Yi(t.doc,n.anchor,n.head)}}})):function(e){return gt(t,e)||bt(e)}),ut(e.scroller,"contextmenu",(function(e){return xa(t,e)})),ut(e.input.getField(),"contextmenu",(function(r){e.scroller.contains(r.target)||xa(t,r)}));var r,n={end:0};function i(){e.activeTouch&&(r=setTimeout((function(){return e.activeTouch=null}),1e3),(n=e.activeTouch).end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var r=e.left-t.left,n=e.top-t.top;return r*r+n*n>400}ut(e.scroller,"touchstart",(function(i){if(!gt(t,i)&&!o(i)&&!ba(t,i)){e.input.ensurePolled(),clearTimeout(r);var a=+new Date;e.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}})),ut(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),ut(e.scroller,"touchend",(function(r){var n=e.activeTouch;if(n&&!wr(e,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,a=t.coordsChar(e.activeTouch,"page");o=!n.prev||l(n,n.prev)?new Ci(a,a):!n.prev.prev||l(n,n.prev.prev)?t.findWordAt(a):new Ci(te(a.line,0),se(t.doc,te(a.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),bt(r)}i()})),ut(e.scroller,"touchcancel",i),ut(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Fn(t,e.scroller.scrollTop),In(t,e.scroller.scrollLeft,!0),ft(t,"scroll",t))})),ut(e.scroller,"mousewheel",(function(e){return wi(t,e)})),ut(e.scroller,"DOMMouseScroll",(function(e){return wi(t,e)})),ut(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){gt(t,e)||kt(e)},over:function(e){gt(t,e)||(function(t,e){var r=cn(t,e);if(r){var n=document.createDocumentFragment();yn(t,r,n),t.display.dragCursor||(t.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),P(t.display.dragCursor,n)}}(t,e),kt(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Lo<100))kt(e);else if(!gt(t,e)&&!wr(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!p)){var r=M("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),u&&r.parentNode.removeChild(r)}}(t,e)},drop:ti(t,No),leave:function(e){gt(t,e)||Oo(t)}};var c=e.input.getField();ut(c,"keyup",(function(e){return ua.call(t,e)})),ut(c,"keydown",ti(t,da)),ut(c,"keypress",ti(t,pa)),ut(c,"focus",(function(e){return Sn(t,e)})),ut(c,"blur",(function(e){return _n(t,e)}))}(this),Io(),qn(this),this.curOp.forceUpdate=!0,Fi(this,n),e.autofocus&&!v||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Sn(r)}),20):_n(this),Sa)Sa.hasOwnProperty(c)&&Sa[c](this,e[c],ka);pi(this),e.finishInit&&e.finishInit(this);for(var d=0;d<Pa.length;++d)Pa[d](this);Xn(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ea.defaults=Ca,Ea.optionHandlers=Sa;var Pa=[];function Ma(t,e,r,n){var i,o=t.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=he(t,e).state:r="prev");var a=t.options.tabSize,s=qt(o,e),l=B(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,d=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((c=o.mode.indent(i,s.text.slice(d.length),s.text))==H||c>150)){if(!n)return;r="prev"}}else c=0,r="not";"prev"==r?c=e>o.first?B(qt(o,e-1).text,null,a):0:"add"==r?c=l+t.options.indentUnit:"subtract"==r?c=l-t.options.indentUnit:"number"==typeof r&&(c=l+r),c=Math.max(0,c);var u="",p=0;if(t.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)p+=a,u+="\t";if(p<c&&(u+=X(c-p)),u!=d)return go(o,u,te(e,0),te(e,d.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];if(g.head.line==e&&g.head.ch<d.length){var m=te(e,d.length);$i(o,f,new Ci(m,m));break}}}Ea.defineInitHook=function(t){return Pa.push(t)};var Da=null;function Aa(t){Da=t}function La(t,e,r,n,i){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||t.state.pasteIncoming>a,l=At(e),c=null;if(s&&n.ranges.length>1)if(Da&&Da.text.join("\n")==e){if(n.ranges.length%Da.text.length==0){c=[];for(var d=0;d<Da.text.length;d++)c.push(o.splitLines(Da.text[d]))}}else l.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(c=K(l,(function(t){return[t]})));for(var u=t.curOp.updateInput,p=n.ranges.length-1;p>=0;p--){var h=n.ranges[p],f=h.from(),g=h.to();h.empty()&&(r&&r>0?f=te(f.line,f.ch-r):t.state.overwrite&&!s?g=te(g.line,Math.min(qt(o,g.line).text.length,g.ch+Y(l).length)):s&&Da&&Da.lineWise&&Da.text.join("\n")==l.join("\n")&&(f=g=te(f.line,0)));var m={from:f,to:g,text:c?c[p%c.length]:l,origin:i||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};co(t.doc,m),sr(t,"inputRead",t,m)}e&&!s&&Oa(t,e),An(t),t.curOp.updateInput<2&&(t.curOp.updateInput=u),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Na(t,e){var r=t.clipboardData&&t.clipboardData.getData("Text");if(r)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Jn(e,(function(){return La(e,r,0,null,"paste")})),!0}function Oa(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var r=t.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Ma(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(qt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ma(t,i.head.line,"smart"));a&&sr(t,"electricInput",t,i.head.line)}}}function Fa(t){for(var e=[],r=[],n=0;n<t.doc.sel.ranges.length;n++){var i=t.doc.sel.ranges[n].head.line,o={anchor:te(i,0),head:te(i+1,0)};r.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:r}}function za(t,e,r,n){t.setAttribute("autocorrect",r?"":"off"),t.setAttribute("autocapitalize",n?"":"off"),t.setAttribute("spellcheck",!!e)}function Ia(){var t=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=M("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),za(t),e}function Ba(t,e,r,n,i){var o=e,a=r,s=qt(t,e.line),l=i&&"rtl"==t.direction?-r:r;function c(o){var a,c;if("codepoint"==n){var d=s.text.charCodeAt(e.ch+(r>0?0:-1));if(isNaN(d))a=null;else{var u=r>0?d>=55296&&d<56320:d>=56320&&d<57343;a=new te(e.line,Math.max(0,Math.min(s.text.length,e.ch+r*(u?2:1))),-r)}}else a=i?function(t,e,r,n){var i=ct(e,t.doc.direction);if(!i)return Jo(e,r,n);r.ch>=e.text.length?(r.ch=e.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=st(i,r.ch,r.sticky),a=i[o];if("ltr"==t.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return Jo(e,r,n);var s,l=function(t,r){return Qo(e,t instanceof te?t.ch:t,r)},c=function(r){return t.options.lineWrapping?(s=s||Ar(t,e),Zr(t,e,s,r)):{begin:0,end:e.text.length}},d=c("before"==r.sticky?l(r,-1):r.ch);if("rtl"==t.doc.direction||1==a.level){var u=1==a.level==n<0,p=l(r,u?1:-1);if(null!=p&&(u?p<=a.to&&p<=d.end:p>=a.from&&p>=d.begin)){var h=u?"before":"after";return new te(r.line,p,h)}}var f=function(t,e,n){for(var o=function(t,e){return e?new te(r.line,l(t,1),"before"):new te(r.line,t,"after")};t>=0&&t<i.length;t+=e){var a=i[t],s=e>0==(1!=a.level),c=s?n.begin:l(n.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),n.begin<=c&&c<n.end)return o(c,s)}},g=f(o+n,n,d);if(g)return g;var m=n>0?d.end:l(d.begin,-1);return null==m||n>0&&m==e.text.length||!(g=f(n>0?0:i.length-1,n,c(m)))?null:g}(t.cm,s,e,r):Jo(s,e,r);if(null==a){if(o||((c=e.line+l)<t.first||c>=t.first+t.size||(e=new te(c,e.ch,e.sticky),!(s=qt(t,c)))))return!1;e=ta(i,t.cm,s,e.line,l)}else e=a;return!0}if("char"==n||"codepoint"==n)c();else if("column"==n)c(!0);else if("word"==n||"group"==n)for(var d=null,u="group"==n,p=t.cm&&t.cm.getHelper(e,"wordChars"),h=!0;!(r<0)||c(!h);h=!1){var f=s.text.charAt(e.ch)||"\n",g=tt(f,p)?"w":u&&"\n"==f?"n":!u||/\s/.test(f)?null:"p";if(!u||h||g||(g="s"),d&&d!=g){r<0&&(r=1,c(),e.sticky="after");break}if(g&&(d=g),r>0&&!c(!h))break}var m=oo(t,e,o,a,!0);return re(o,m)&&(m.hitSide=!0),m}function Ra(t,e,r,n){var i,o,a=t.doc,s=e.left;if("page"==n){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*rn(t.display),3);i=(r>0?e.bottom:e.top)+r*c}else"line"==n&&(i=r>0?e.bottom+3:e.top-3);for(;(o=Kr(t,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var ja=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ha(t,e){var r=Dr(t,e.line);if(!r||r.hidden)return null;var n=qt(t.doc,e.line),i=Pr(r,n,e.line),o=ct(n,t.doc.direction),a="left";o&&(a=st(o,e.ch)%2?"right":"left");var s=Fr(i.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Ga(t,e){return e&&(t.bad=!0),t}function Va(t,e,r){var n;if(e==t.display.lineDiv){if(!(n=t.display.lineDiv.childNodes[r]))return Ga(t.clipPos(te(t.display.viewTo-1)),!0);e=null,r=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==n)return Wa(o,e,r)}}function Wa(t,e,r){var n=t.text.firstChild,i=!1;if(!e||!A(n,e))return Ga(te($t(t.line),0),!0);if(e==n&&(i=!0,e=n.childNodes[r],r=0,!e)){var o=t.rest?Y(t.rest):t.line;return Ga(te($t(o),o.text.length),i)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=t.measure,c=l.maps;function d(e,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==r){var d=$t(i<0?t.line:t.rest[i]),u=o[a]+n;return(n<0||s!=e)&&(u=o[a+(n?1:0)]),te(d,u)}}}var u=d(a,s,r);if(u)return Ga(u,i);for(var p=s.nextSibling,h=a?a.nodeValue.length-r:0;p;p=p.nextSibling){if(u=d(p,p.firstChild,0))return Ga(te(u.line,u.ch-h),i);h+=p.textContent.length}for(var f=s.previousSibling,g=r;f;f=f.previousSibling){if(u=d(f,f.firstChild,-1))return Ga(te(u.line,u.ch+g),i);g+=f.textContent.length}}ja.prototype.init=function(t){var e=this,r=this,n=r.cm,i=r.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function a(t){if(o(t)&&!gt(n,t)){if(n.somethingSelected())Aa({lineWise:!1,text:n.getSelections()}),"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=Fa(n);Aa({lineWise:!0,text:e.text}),"cut"==t.type&&n.operation((function(){n.setSelections(e.ranges,0,G),n.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var a=Da.text.join("\n");if(t.clipboardData.setData("Text",a),t.clipboardData.getData("Text")==a)return void t.preventDefault()}var s=Ia(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=Da.text.join("\n");var c=L();F(l),setTimeout((function(){n.display.lineSpace.removeChild(s),c.focus(),c==i&&r.showPrimarySelection()}),50)}}i.contentEditable=!0,za(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),ut(i,"paste",(function(t){!o(t)||gt(n,t)||Na(t,n)||s<=11&&setTimeout(ti(n,(function(){return e.updateFromDOM()})),20)})),ut(i,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),ut(i,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),ut(i,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),ut(i,"touchstart",(function(){return r.forceCompositionEnd()})),ut(i,"input",(function(){e.composing||e.readFromDOMSoon()})),ut(i,"copy",a),ut(i,"cut",a)},ja.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},ja.prototype.prepareSelection=function(){var t=vn(this.cm,!1);return t.focus=L()==this.div,t},ja.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},ja.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ja.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,n=e.doc.sel.primary(),i=n.from(),o=n.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var a=Va(e,t.anchorNode,t.anchorOffset),s=Va(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(oe(a,s),i)||0!=ee(ie(a,s),o)){var l=e.display.view,c=i.line>=e.display.viewFrom&&Ha(e,i)||{node:l[0].measure.map[2],offset:0},d=o.line<e.display.viewTo&&Ha(e,o);if(!d){var u=l[l.length-1].measure,p=u.maps?u.maps[u.maps.length-1]:u.map;d={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&d){var h,f=t.rangeCount&&t.getRangeAt(0);try{h=_(c.node,c.offset,d.offset,d.node)}catch(t){}h&&(!r&&e.state.focused?(t.collapse(c.node,c.offset),h.collapsed||(t.removeAllRanges(),t.addRange(h))):(t.removeAllRanges(),t.addRange(h)),f&&null==t.anchorNode?t.addRange(f):r&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},ja.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},ja.prototype.showMultipleSelections=function(t){P(this.cm.display.cursorDiv,t.cursors),P(this.cm.display.selectionDiv,t.selection)},ja.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},ja.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},ja.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&L()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ja.prototype.blur=function(){this.div.blur()},ja.prototype.getField=function(){return this.div},ja.prototype.supportsTouch=function(){return!0},ja.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Jn(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},ja.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},ja.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(m&&d&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Va(e,t.anchorNode,t.anchorOffset),n=Va(e,t.focusNode,t.focusOffset);r&&n&&Jn(e,(function(){Ji(e.doc,_i(r,n),G),(r.bad||n.bad)&&(e.curOp.selectionChanged=!0)}))}}},ja.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=te(a.line-1,qt(n.doc,a.line-1).length)),s.ch==qt(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=te(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(t=dn(n,a.line))?(e=$t(i.view[0].line),r=i.view[0].node):(e=$t(i.view[t].line),r=i.view[t-1].node.nextSibling);var l,c,d=dn(n,s.line);if(d==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=$t(i.view[d+1].line)-1,c=i.view[d+1].node.previousSibling),!r)return!1;for(var u=n.doc.splitLines(function(t,e,r,n,i){var o="",a=!1,s=t.doc.lineSeparator(),l=!1;function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function d(t){t&&(c(),o+=t)}function u(e){if(1==e.nodeType){var r=e.getAttribute("cm-text");if(r)return void d(r);var o,p=e.getAttribute("cm-marker");if(p){var h=t.findMarks(te(n,0),te(i+1,0),(m=+p,function(t){return t.id==m}));return void(h.length&&(o=h[0].find(0))&&d(Xt(t.doc,o.from,o.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;f&&c();for(var g=0;g<e.childNodes.length;g++)u(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),f&&(a=!0)}else 3==e.nodeType&&d(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;u(e),e!=r;)e=e.nextSibling,l=!1;return o}(n,r,c,e,l)),p=Xt(n.doc,te(e,0),te(l,qt(n.doc,l).text.length));u.length>1&&p.length>1;)if(Y(u)==Y(p))u.pop(),p.pop(),l--;else{if(u[0]!=p[0])break;u.shift(),p.shift(),e++}for(var h=0,f=0,g=u[0],m=p[0],v=Math.min(g.length,m.length);h<v&&g.charCodeAt(h)==m.charCodeAt(h);)++h;for(var y=Y(u),b=Y(p),x=Math.min(y.length-(1==u.length?h:0),b.length-(1==p.length?h:0));f<x&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;if(1==u.length&&1==p.length&&e==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)h--,f++;u[u.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),u[0]=u[0].slice(h).replace(/\u200b+$/,"");var w=te(e,h),k=te(l,p.length?Y(p).length-f:0);return u.length>1||u[0]||ee(w,k)?(go(n.doc,u,w,k,"+input"),!0):void 0},ja.prototype.ensurePolled=function(){this.forceCompositionEnd()},ja.prototype.reset=function(){this.forceCompositionEnd()},ja.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ja.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},ja.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Jn(this.cm,(function(){return un(t.cm)}))},ja.prototype.setUneditable=function(t){t.contentEditable="false"},ja.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||ti(this.cm,La)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},ja.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},ja.prototype.onContextMenu=function(){},ja.prototype.resetPosition=function(){},ja.prototype.needsContentAttribute=!0;var Ua=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Ua.prototype.init=function(t){var e=this,r=this,n=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!gt(n,t)){if(n.somethingSelected())Aa({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var e=Fa(n);Aa({lineWise:!0,text:e.text}),"cut"==t.type?n.setSelections(e.ranges,null,G):(r.prevInput="",i.value=e.text.join("\n"),F(i))}"cut"==t.type&&(n.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(i.style.width="0px"),ut(i,"input",(function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),r.poll()})),ut(i,"paste",(function(t){gt(n,t)||Na(t,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),ut(i,"cut",o),ut(i,"copy",o),ut(t.scroller,"paste",(function(e){if(!wr(t,e)&&!gt(n,e)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}})),ut(t.lineSpace,"selectstart",(function(e){wr(t,e)||bt(e)})),ut(i,"compositionstart",(function(){var t=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}})),ut(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},Ua.prototype.createField=function(t){this.wrapper=Ia(),this.textarea=this.wrapper.firstChild},Ua.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Ua.prototype.prepareSelection=function(){var t=this.cm,e=t.display,r=t.doc,n=vn(t);if(t.options.moveInputWithCursor){var i=qr(t,r.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},Ua.prototype.showSelection=function(t){var e=this.cm.display;P(e.cursorDiv,t.cursors),P(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Ua.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var r=e.getSelection();this.textarea.value=r,e.state.focused&&F(this.textarea),a&&s>=9&&(this.hasSelection=r)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Ua.prototype.getField=function(){return this.textarea},Ua.prototype.supportsTouch=function(){return!1},Ua.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||L()!=this.textarea))try{this.textarea.focus()}catch(t){}},Ua.prototype.blur=function(){this.textarea.blur()},Ua.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ua.prototype.receivedFocus=function(){this.slowPoll()},Ua.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Ua.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function r(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,r))}))},Ua.prototype.poll=function(){var t=this,e=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Lt(r)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=r.value;if(i==n&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,i.length);l<c&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return Jn(e,(function(){La(e,i.slice(l),n.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Ua.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ua.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ua.prototype.onContextMenu=function(t){var e=this,r=e.cm,n=r.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=cn(r,t),c=n.scroller.scrollTop;if(o&&!u){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&ti(r,Ji)(r.doc,_i(o),G);var d,p=i.style.cssText,h=e.wrapper.style.cssText,f=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-f.top-5)+"px; left: "+(t.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(d=window.scrollY),n.input.focus(),l&&window.scrollTo(null,d),n.input.reset(),r.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=v,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&m(),C){kt(t);var g=function(){ht(window,"mouseup",g),setTimeout(v,20)};ut(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=i.selectionStart){var t=r.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=h,i.style.cssText=p,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&s<9)&&m();var t=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?ti(r,so)(r):t++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},Ua.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Ua.prototype.setUneditable=function(){},Ua.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function r(r,n,i,o){t.defaults[r]=n,i&&(e[r]=o?function(t,e,r){r!=ka&&i(t,e,r)}:i)}t.defineOption=r,t.Init=ka,r("value","",(function(t,e){return t.setValue(e)}),!0),r("mode",null,(function(t,e){t.doc.modeOption=e,Di(t)}),!0),r("indentUnit",2,Di,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(t){Ai(t),Rr(t),un(t)}),!0),r("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var r=[],n=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,r.push(te(n,o))}n++}));for(var i=r.length-1;i>=0;i--)go(t.doc,e,r[i],te(r[i].line,r[i].ch+e.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,r){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),r!=ka&&t.refresh()})),r("specialCharPlaceholder",Qe,(function(t){return t.refresh()}),!0),r("electricChars",!0),r("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),r("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),r("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),r("rtlMoveVisually",!x),r("wholeLineUpdateBefore",!0),r("theme","default",(function(t){wa(t),gi(t)}),!0),r("keyMap","default",(function(t,e,r){var n=$o(e),i=r!=ka&&$o(r);i&&i.detach&&i.detach(t,n),n.attach&&n.attach(t,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Ta,!0),r("gutters",[],(function(t,e){t.display.gutterSpecs=hi(e,t.options.lineNumbers),gi(t)}),!0),r("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?an(t.display)+"px":"0",t.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(t){return Hn(t)}),!0),r("scrollbarStyle","native",(function(t){Wn(t),Hn(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=hi(t.options.gutters,e),gi(t)}),!0),r("firstLineNumber",1,gi,!0),r("lineNumberFormatter",(function(t){return t}),gi,!0),r("showCursorWhenSelecting",!1,mn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(t,e){"nocursor"==e&&(_n(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),r("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),r("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),r("dragDrop",!0,_a),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,mn,!0),r("singleCursorHeightPerLine",!0,mn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ai,!0),r("addModeClass",!1,Ai,!0),r("pollInterval",100),r("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),r("historyEventDelay",1250),r("viewportMargin",10,(function(t){return t.refresh()}),!0),r("maxHighlightLength",1e4,Ai,!0),r("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),r("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),r("autofocus",null),r("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),r("phrases",null)}(Ea),function(t){var e=t.optionHandlers,r=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,r){var n=this.options,i=n[t];n[t]==r&&"mode"!=t||(n[t]=r,e.hasOwnProperty(t)&&ti(this,e[t])(this,r,i),ft(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"]($o(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||e[r].name==t)return e.splice(r,1),!0},addOverlay:ei((function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");(function(t,e,r){for(var n=0,i=r(e);n<t.length&&r(t[n])<=i;)n++;t.splice(n,0,e)})(this.state.overlays,{mode:n,modeSpec:e,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(t){return t.priority})),this.state.modeGen++,un(this)})),removeOverlay:ei((function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var n=e[r].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(r,1),this.state.modeGen++,void un(this)}})),indentLine:ei((function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Qt(this.doc,t)&&Ma(this,t,e,r)})),indentSelection:ei((function(t){for(var e=this.doc.sel.ranges,r=-1,n=0;n<e.length;n++){var i=e[n];if(i.empty())i.head.line>r&&(Ma(this,i.head.line,t,!0),r=i.head.line,n==this.doc.sel.primIndex&&An(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<r;++l)Ma(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[n].from().ch>0&&$i(this.doc,n,new Ci(o,c[n].to()),G)}}})),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,r=pe(this,qt(this.doc,t.line)),n=0,i=(r.length-1)/2,o=t.ch;if(0==o)e=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){e=r[2*a+2];break}n=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!r.hasOwnProperty(e))return n;var i=r[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&n.push(i[o[e]]);else if(o[e])for(var a=0;a<o[e].length;a++){var s=i[o[e][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==j(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(t,e){var r=this.doc;return he(this,(t=ae(r,null==t?r.first+r.size-1:t))+1,e).state},cursorCoords:function(t,e){var r=this.doc.sel.primary();return qr(this,null==t?r.head:"object"==typeof t?se(this.doc,t):t?r.from():r.to(),e||"page")},charCoords:function(t,e){return Ur(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Kr(this,(t=Wr(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Wr(this,{top:t,left:0},e||"page").top,Zt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,r){var n,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),n=qt(this.doc,t)}else n=t;return Vr(this,n,{top:0,left:0},e||"page",r||i).top+(i?this.doc.height-Ve(n):0)},defaultTextHeight:function(){return rn(this.display)},defaultCharWidth:function(){return nn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,r,n,i){var o,a,s,l=this.display,c=(t=qr(this,se(this.doc,t))).bottom,d=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==n)c=t.top;else if("above"==n||"near"==n){var u=Math.max(l.wrapper.clientHeight,this.doc.height),p=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>u)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=u&&(c=t.bottom),d+e.offsetWidth>p&&(d=p-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==i?(d=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?d=0:"middle"==i&&(d=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=d+"px"),r&&(o=this,a={left:d,top:c,right:d+e.offsetWidth,bottom:c+e.offsetHeight},null!=(s=Mn(o,a)).scrollTop&&Fn(o,s.scrollTop),null!=s.scrollLeft&&In(o,s.scrollLeft))},triggerOnKeyDown:ei(da),triggerOnKeyPress:ei(pa),triggerOnKeyUp:ua,triggerOnMouseDown:ei(ma),execCommand:function(t){if(ea.hasOwnProperty(t))return ea[t].call(null,this)},triggerElectric:ei((function(t){Oa(this,t)})),findPosH:function(t,e,r,n){var i=1;e<0&&(i=-1,e=-e);for(var o=se(this.doc,t),a=0;a<e&&!(o=Ba(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:ei((function(t,e){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Ba(r.doc,n.head,t,e,r.options.rtlMoveVisually):t<0?n.from():n.to()}),W)})),deleteH:ei((function(t,e){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Zo(this,(function(r){var i=Ba(n,r.head,t,e,!1);return t<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(t,e,r,n){var i=1,o=n;e<0&&(i=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var l=qr(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Ra(this,l,i,r)).hitSide)break}return a},moveV:ei((function(t,e){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return t<0?a.from():a.to();var s=qr(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Ra(r,s,t,e);return"page"==e&&a==n.sel.primary()&&Dn(r,Ur(r,l,"div").top-s.top),l}),W),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(t){var e=qt(this.doc,t.line).text,r=t.ch,n=t.ch;if(e){var i=this.getHelper(t,"wordChars");"before"!=t.sticky&&n!=e.length||!r?++n:--r;for(var o=e.charAt(r),a=tt(o,i)?function(t){return tt(t,i)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!tt(t)};r>0&&a(e.charAt(r-1));)--r;for(;n<e.length&&a(e.charAt(n));)++n}return new Ci(te(t.line,r),te(t.line,n))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),ft(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(t,e){Ln(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-_r(this)-this.display.barHeight,width:t.scrollWidth-_r(this)-this.display.barWidth,clientHeight:Er(this),clientWidth:Tr(this)}},scrollIntoView:ei((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Nn(t),t.curOp.scrollToPos=e}(this,t):On(this,t.from,t.to,t.margin)})),setSize:ei((function(t,e){var r=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&Br(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){pn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ft(this,"refresh",this)})),operation:function(t){return Jn(this,t)},startOperation:function(){return qn(this)},endOperation:function(){return Xn(this)},refresh:ei((function(){var t=this.display.cachedTextHeight;un(this),this.curOp.forceUpdate=!0,Rr(this),Ln(this,this.doc.scrollLeft,this.doc.scrollTop),ci(this.display),(null==t||Math.abs(t-rn(this.display))>.5||this.options.lineWrapping)&&ln(this),ft(this,"refresh",this)})),swapDoc:ei((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Fi(this,t),Rr(this),this.display.input.reset(),Ln(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,sr(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},yt(t),t.registerHelper=function(e,n,i){r.hasOwnProperty(e)||(r[e]=t[e]={_global:[]}),r[e][n]=i},t.registerGlobalHelper=function(e,n,i,o){t.registerHelper(e,n,o),r[e]._global.push({pred:i,val:o})}}(Ea);var qa="iter insert remove copy getEditor constructor".split(" ");for(var Xa in Ao.prototype)Ao.prototype.hasOwnProperty(Xa)&&j(qa,Xa)<0&&(Ea.prototype[Xa]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ao.prototype[Xa]));return yt(Ao),Ea.inputStyles={textarea:Ua,contenteditable:ja},Ea.defineMode=function(t){Ea.defaults.mode||"null"==t||(Ea.defaults.mode=t),It.apply(this,arguments)},Ea.defineMIME=function(t,e){zt[t]=e},Ea.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Ea.defineMIME("text/plain","null"),Ea.defineExtension=function(t,e){Ea.prototype[t]=e},Ea.defineDocExtension=function(t,e){Ao.prototype[t]=e},Ea.fromTextArea=function(t,e){if((e=e?I(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var r=L();e.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}function n(){t.value=s.getValue()}var i;if(t.form&&(ut(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(r){r.save=n,r.getTextArea=function(){return t},r.toTextArea=function(){r.toTextArea=isNaN,n(),t.parentNode.removeChild(r.getWrapperElement()),t.style.display="",t.form&&(ht(t.form,"submit",n),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var s=Ea((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return s},function(t){t.off=ht,t.on=ut,t.wheelEventPixels=xi,t.Doc=Ao,t.splitLines=At,t.countColumn=B,t.findColumn=U,t.isWordChar=J,t.Pass=H,t.signal=ft,t.Line=qe,t.changeEnd=Ti,t.scrollbarModel=Vn,t.Pos=te,t.cmpPos=ee,t.modes=Ft,t.mimeModes=zt,t.resolveMode=Bt,t.getMode=Rt,t.modeExtensions=jt,t.extendMode=Ht,t.copyState=Gt,t.startState=Wt,t.innerMode=Vt,t.commands=ea,t.keyMap=Vo,t.keyName=Ko,t.isModifierKey=Xo,t.lookupKey=qo,t.normalizeKeyMap=Uo,t.StringStream=Ut,t.SharedTextMarker=Eo,t.TextMarker=_o,t.LineWidget=ko,t.e_preventDefault=bt,t.e_stopPropagation=xt,t.e_stop=kt,t.addClass=N,t.contains=A,t.rmClass=T,t.keyNames=Ro}(Ea),Ea.version="5.61.0",Ea}()},4666:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var n=r(3645),i=r.n(n)()((function(t){return t[1]}));i.push([t.id,"@charset \"UTF-8\";/*!\n * Bootstrap v5.0.1 (https://getbootstrap.com/)\n * Copyright 2011-2021 The Bootstrap Authors\n * Copyright 2011-2021 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-font-sans-serif:system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",\"Liberation Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-font-sans-serif);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:\"— \"}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:#6c757d}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{width:100%;padding-right:var(--bs-gutter-x,.75rem);padding-left:var(--bs-gutter-x,.75rem);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x)/ -2);margin-left:calc(var(--bs-gutter-x)/ -2)}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x)/ 2);padding-left:calc(var(--bs-gutter-x)/ 2);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.3333333333%}.col-2{flex:0 0 auto;width:16.6666666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.3333333333%}.col-5{flex:0 0 auto;width:41.6666666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.3333333333%}.col-8{flex:0 0 auto;width:66.6666666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.3333333333%}.col-11{flex:0 0 auto;width:91.6666666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.3333333333%}.offset-2{margin-left:16.6666666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.3333333333%}.offset-5{margin-left:41.6666666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.3333333333%}.offset-8{margin-left:66.6666666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.3333333333%}.offset-11{margin-left:91.6666666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.3333333333%}.col-sm-2{flex:0 0 auto;width:16.6666666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.3333333333%}.col-sm-5{flex:0 0 auto;width:41.6666666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.3333333333%}.col-sm-8{flex:0 0 auto;width:66.6666666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.3333333333%}.col-sm-11{flex:0 0 auto;width:91.6666666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.3333333333%}.offset-sm-2{margin-left:16.6666666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.3333333333%}.offset-sm-5{margin-left:41.6666666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.3333333333%}.offset-sm-8{margin-left:66.6666666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.3333333333%}.offset-sm-11{margin-left:91.6666666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.3333333333%}.col-md-2{flex:0 0 auto;width:16.6666666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.3333333333%}.col-md-5{flex:0 0 auto;width:41.6666666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.3333333333%}.col-md-8{flex:0 0 auto;width:66.6666666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.3333333333%}.col-md-11{flex:0 0 auto;width:91.6666666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.3333333333%}.offset-md-2{margin-left:16.6666666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.3333333333%}.offset-md-5{margin-left:41.6666666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.3333333333%}.offset-md-8{margin-left:66.6666666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.3333333333%}.offset-md-11{margin-left:91.6666666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.3333333333%}.col-lg-2{flex:0 0 auto;width:16.6666666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.3333333333%}.col-lg-5{flex:0 0 auto;width:41.6666666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.3333333333%}.col-lg-8{flex:0 0 auto;width:66.6666666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.3333333333%}.col-lg-11{flex:0 0 auto;width:91.6666666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.3333333333%}.offset-lg-2{margin-left:16.6666666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.3333333333%}.offset-lg-5{margin-left:41.6666666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.3333333333%}.offset-lg-8{margin-left:66.6666666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.3333333333%}.offset-lg-11{margin-left:91.6666666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.3333333333%}.col-xl-2{flex:0 0 auto;width:16.6666666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.3333333333%}.col-xl-5{flex:0 0 auto;width:41.6666666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.3333333333%}.col-xl-8{flex:0 0 auto;width:66.6666666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.3333333333%}.col-xl-11{flex:0 0 auto;width:91.6666666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.3333333333%}.offset-xl-2{margin-left:16.6666666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.3333333333%}.offset-xl-5{margin-left:41.6666666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.3333333333%}.offset-xl-8{margin-left:66.6666666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.3333333333%}.offset-xl-11{margin-left:91.6666666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.3333333333%}.col-xxl-2{flex:0 0 auto;width:16.6666666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.3333333333%}.col-xxl-5{flex:0 0 auto;width:41.6666666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.3333333333%}.col-xxl-8{flex:0 0 auto;width:66.6666666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.3333333333%}.col-xxl-11{flex:0 0 auto;width:91.6666666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.3333333333%}.offset-xxl-2{margin-left:16.6666666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.3333333333%}.offset-xxl-5{margin-left:41.6666666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.3333333333%}.offset-xxl-8{margin-left:66.6666666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.3333333333%}.offset-xxl-11{margin-left:91.6666666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-bg:transparent;--bs-table-accent-bg:transparent;--bs-table-striped-color:#212529;--bs-table-striped-bg:rgba(0, 0, 0, 0.05);--bs-table-active-color:#212529;--bs-table-active-bg:rgba(0, 0, 0, 0.1);--bs-table-hover-color:#212529;--bs-table-hover-bg:rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border-color:#dee2e6}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table>:not(:last-child)>:last-child>*{border-bottom-color:currentColor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:1px 0}.table-bordered>:not(caption)>*>*{border-width:0 1px}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-striped>tbody>tr:nth-of-type(odd){--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active{--bs-table-accent-bg:var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover>tbody>tr:hover{--bs-table-accent-bg:var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary{--bs-table-bg:#cfe2ff;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:#000;border-color:#bacbe6}.table-secondary{--bs-table-bg:#e2e3e5;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:#000;border-color:#cbccce}.table-success{--bs-table-bg:#d1e7dd;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:#000;border-color:#bcd0c7}.table-info{--bs-table-bg:#cff4fc;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:#000;border-color:#badce3}.table-warning{--bs-table-bg:#fff3cd;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:#000;border-color:#e6dbb9}.table-danger{--bs-table-bg:#f8d7da;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:#000;border-color:#dfc2c4}.table-light{--bs-table-bg:#f8f9fa;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:#000;border-color:#dfe0e1}.table-dark{--bs-table-bg:#212529;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:#fff;border-color:#373b3e}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg{min-height:calc(1.5em + 1rem + 2px)}.form-control-color{max-width:3rem;height:auto;padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{height:1.5em;border-radius:.25rem}.form-control-color::-webkit-color-swatch{height:1.5em;border-radius:.25rem}.form-select{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size=\"1\"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#e9ecef}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-input{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\")}.form-check-input:checked[type=radio]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e\")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e\")}.form-switch .form-check-input:checked{background-position:right center;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}.form-range{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-select{height:calc(3.5rem + 2px);padding:1rem .75rem}.form-floating>label{position:absolute;top:0;left:0;height:100%;padding:1rem .75rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control::-moz-placeholder{color:transparent}.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:-webkit-autofill~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-select:focus{z-index:3}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:3}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(25,135,84,.9);border-radius:.25rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:#198754}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size=\"1\"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:#198754}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:#198754}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#198754}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group .form-control.is-valid,.input-group .form-select.is-valid,.was-validated .input-group .form-control:valid,.was-validated .input-group .form-select:valid{z-index:1}.input-group .form-control.is-valid:focus,.input-group .form-select.is-valid:focus,.was-validated .input-group .form-control:valid:focus,.was-validated .input-group .form-select:valid:focus{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:#dc3545}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size=\"1\"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:#dc3545}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group .form-control.is-invalid,.input-group .form-select.is-invalid,.was-validated .input-group .form-control:invalid,.was-validated .input-group .form-select:invalid{z-index:2}.input-group .form-control.is-invalid:focus,.input-group .form-select.is-invalid:focus,.was-validated .input-group .form-control:invalid:focus,.was-validated .input-group .form-select:invalid:focus{z-index:3}.btn{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529}.btn-check:focus+.btn,.btn:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{pointer-events:none;opacity:.65}.btn-primary{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}.btn-check:focus+.btn-primary,.btn-primary:focus{color:#fff;background-color:#0b5ed7;border-color:#0a58ca;box-shadow:0 0 0 .25rem rgba(49,132,253,.5)}.btn-check:active+.btn-primary,.btn-check:checked+.btn-primary,.btn-primary.active,.btn-primary:active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0a58ca;border-color:#0a53be}.btn-check:active+.btn-primary:focus,.btn-check:checked+.btn-primary:focus,.btn-primary.active:focus,.btn-primary:active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(49,132,253,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5c636a;border-color:#565e64}.btn-check:focus+.btn-secondary,.btn-secondary:focus{color:#fff;background-color:#5c636a;border-color:#565e64;box-shadow:0 0 0 .25rem rgba(130,138,145,.5)}.btn-check:active+.btn-secondary,.btn-check:checked+.btn-secondary,.btn-secondary.active,.btn-secondary:active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#565e64;border-color:#51585e}.btn-check:active+.btn-secondary:focus,.btn-check:checked+.btn-secondary:focus,.btn-secondary.active:focus,.btn-secondary:active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-success{color:#fff;background-color:#198754;border-color:#198754}.btn-success:hover{color:#fff;background-color:#157347;border-color:#146c43}.btn-check:focus+.btn-success,.btn-success:focus{color:#fff;background-color:#157347;border-color:#146c43;box-shadow:0 0 0 .25rem rgba(60,153,110,.5)}.btn-check:active+.btn-success,.btn-check:checked+.btn-success,.btn-success.active,.btn-success:active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#146c43;border-color:#13653f}.btn-check:active+.btn-success:focus,.btn-check:checked+.btn-success:focus,.btn-success.active:focus,.btn-success:active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(60,153,110,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#198754;border-color:#198754}.btn-info{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-info:hover{color:#000;background-color:#31d2f2;border-color:#25cff2}.btn-check:focus+.btn-info,.btn-info:focus{color:#000;background-color:#31d2f2;border-color:#25cff2;box-shadow:0 0 0 .25rem rgba(11,172,204,.5)}.btn-check:active+.btn-info,.btn-check:checked+.btn-info,.btn-info.active,.btn-info:active,.show>.btn-info.dropdown-toggle{color:#000;background-color:#3dd5f3;border-color:#25cff2}.btn-check:active+.btn-info:focus,.btn-check:checked+.btn-info:focus,.btn-info.active:focus,.btn-info:active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(11,172,204,.5)}.btn-info.disabled,.btn-info:disabled{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-warning{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#000;background-color:#ffca2c;border-color:#ffc720}.btn-check:focus+.btn-warning,.btn-warning:focus{color:#000;background-color:#ffca2c;border-color:#ffc720;box-shadow:0 0 0 .25rem rgba(217,164,6,.5)}.btn-check:active+.btn-warning,.btn-check:checked+.btn-warning,.btn-warning.active,.btn-warning:active,.show>.btn-warning.dropdown-toggle{color:#000;background-color:#ffcd39;border-color:#ffc720}.btn-check:active+.btn-warning:focus,.btn-check:checked+.btn-warning:focus,.btn-warning.active:focus,.btn-warning:active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(217,164,6,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#bb2d3b;border-color:#b02a37}.btn-check:focus+.btn-danger,.btn-danger:focus{color:#fff;background-color:#bb2d3b;border-color:#b02a37;box-shadow:0 0 0 .25rem rgba(225,83,97,.5)}.btn-check:active+.btn-danger,.btn-check:checked+.btn-danger,.btn-danger.active,.btn-danger:active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#b02a37;border-color:#a52834}.btn-check:active+.btn-danger:focus,.btn-check:checked+.btn-danger:focus,.btn-danger.active:focus,.btn-danger:active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-light{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check:focus+.btn-light,.btn-light:focus{color:#000;background-color:#f9fafb;border-color:#f9fafb;box-shadow:0 0 0 .25rem rgba(211,212,213,.5)}.btn-check:active+.btn-light,.btn-check:checked+.btn-light,.btn-light.active,.btn-light:active,.show>.btn-light.dropdown-toggle{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check:active+.btn-light:focus,.btn-check:checked+.btn-light:focus,.btn-light.active:focus,.btn-light:active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(211,212,213,.5)}.btn-light.disabled,.btn-light:disabled{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#212529;border-color:#212529}.btn-dark:hover{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-check:focus+.btn-dark,.btn-dark:focus{color:#fff;background-color:#1c1f23;border-color:#1a1e21;box-shadow:0 0 0 .25rem rgba(66,70,73,.5)}.btn-check:active+.btn-dark,.btn-check:checked+.btn-dark,.btn-dark.active,.btn-dark:active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1a1e21;border-color:#191c1f}.btn-check:active+.btn-dark:focus,.btn-check:checked+.btn-dark:focus,.btn-dark.active:focus,.btn-dark:active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(66,70,73,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-primary{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check:focus+.btn-outline-primary,.btn-outline-primary:focus{box-shadow:0 0 0 .25rem rgba(13,110,253,.5)}.btn-check:active+.btn-outline-primary,.btn-check:checked+.btn-outline-primary,.btn-outline-primary.active,.btn-outline-primary.dropdown-toggle.show,.btn-outline-primary:active{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check:active+.btn-outline-primary:focus,.btn-check:checked+.btn-outline-primary:focus,.btn-outline-primary.active:focus,.btn-outline-primary.dropdown-toggle.show:focus,.btn-outline-primary:active:focus{box-shadow:0 0 0 .25rem rgba(13,110,253,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#0d6efd;background-color:transparent}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check:focus+.btn-outline-secondary,.btn-outline-secondary:focus{box-shadow:0 0 0 .25rem rgba(108,117,125,.5)}.btn-check:active+.btn-outline-secondary,.btn-check:checked+.btn-outline-secondary,.btn-outline-secondary.active,.btn-outline-secondary.dropdown-toggle.show,.btn-outline-secondary:active{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check:active+.btn-outline-secondary:focus,.btn-check:checked+.btn-outline-secondary:focus,.btn-outline-secondary.active:focus,.btn-outline-secondary.dropdown-toggle.show:focus,.btn-outline-secondary:active:focus{box-shadow:0 0 0 .25rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-success{color:#198754;border-color:#198754}.btn-outline-success:hover{color:#fff;background-color:#198754;border-color:#198754}.btn-check:focus+.btn-outline-success,.btn-outline-success:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.5)}.btn-check:active+.btn-outline-success,.btn-check:checked+.btn-outline-success,.btn-outline-success.active,.btn-outline-success.dropdown-toggle.show,.btn-outline-success:active{color:#fff;background-color:#198754;border-color:#198754}.btn-check:active+.btn-outline-success:focus,.btn-check:checked+.btn-outline-success:focus,.btn-outline-success.active:focus,.btn-outline-success.dropdown-toggle.show:focus,.btn-outline-success:active:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#198754;background-color:transparent}.btn-outline-info{color:#0dcaf0;border-color:#0dcaf0}.btn-outline-info:hover{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check:focus+.btn-outline-info,.btn-outline-info:focus{box-shadow:0 0 0 .25rem rgba(13,202,240,.5)}.btn-check:active+.btn-outline-info,.btn-check:checked+.btn-outline-info,.btn-outline-info.active,.btn-outline-info.dropdown-toggle.show,.btn-outline-info:active{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check:active+.btn-outline-info:focus,.btn-check:checked+.btn-outline-info:focus,.btn-outline-info.active:focus,.btn-outline-info.dropdown-toggle.show:focus,.btn-outline-info:active:focus{box-shadow:0 0 0 .25rem rgba(13,202,240,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#0dcaf0;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check:focus+.btn-outline-warning,.btn-outline-warning:focus{box-shadow:0 0 0 .25rem rgba(255,193,7,.5)}.btn-check:active+.btn-outline-warning,.btn-check:checked+.btn-outline-warning,.btn-outline-warning.active,.btn-outline-warning.dropdown-toggle.show,.btn-outline-warning:active{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check:active+.btn-outline-warning:focus,.btn-check:checked+.btn-outline-warning:focus,.btn-outline-warning.active:focus,.btn-outline-warning.dropdown-toggle.show:focus,.btn-outline-warning:active:focus{box-shadow:0 0 0 .25rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check:focus+.btn-outline-danger,.btn-outline-danger:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.5)}.btn-check:active+.btn-outline-danger,.btn-check:checked+.btn-outline-danger,.btn-outline-danger.active,.btn-outline-danger.dropdown-toggle.show,.btn-outline-danger:active{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check:active+.btn-outline-danger:focus,.btn-check:checked+.btn-outline-danger:focus,.btn-outline-danger.active:focus,.btn-outline-danger.dropdown-toggle.show:focus,.btn-outline-danger:active:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check:focus+.btn-outline-light,.btn-outline-light:focus{box-shadow:0 0 0 .25rem rgba(248,249,250,.5)}.btn-check:active+.btn-outline-light,.btn-check:checked+.btn-outline-light,.btn-outline-light.active,.btn-outline-light.dropdown-toggle.show,.btn-outline-light:active{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check:active+.btn-outline-light:focus,.btn-check:checked+.btn-outline-light:focus,.btn-outline-light.active:focus,.btn-outline-light.dropdown-toggle.show:focus,.btn-outline-light:active:focus{box-shadow:0 0 0 .25rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#212529;border-color:#212529}.btn-outline-dark:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-check:focus+.btn-outline-dark,.btn-outline-dark:focus{box-shadow:0 0 0 .25rem rgba(33,37,41,.5)}.btn-check:active+.btn-outline-dark,.btn-check:checked+.btn-outline-dark,.btn-outline-dark.active,.btn-outline-dark.dropdown-toggle.show,.btn-outline-dark:active{color:#fff;background-color:#212529;border-color:#212529}.btn-check:active+.btn-outline-dark:focus,.btn-check:checked+.btn-outline-dark:focus,.btn-outline-dark.active:focus,.btn-outline-dark.dropdown-toggle.show:focus,.btn-outline-dark:active:focus{box-shadow:0 0 0 .25rem rgba(33,37,41,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#212529;background-color:transparent}.btn-link{font-weight:400;color:#0d6efd;text-decoration:underline}.btn-link:hover{color:#0a58ca}.btn-link.disabled,.btn-link:disabled{color:#6c757d}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.dropdown,.dropend,.dropstart,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:.125rem}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\"}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid rgba(0,0,0,.15)}.dropdown-item{display:block;width:100%;padding:.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#1e2125;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1rem;color:#212529}.dropdown-menu-dark{color:#dee2e6;background-color:#343a40;border-color:rgba(0,0,0,.15)}.dropdown-menu-dark .dropdown-item{color:#dee2e6}.dropdown-menu-dark .dropdown-item:focus,.dropdown-menu-dark .dropdown-item:hover{color:#fff;background-color:rgba(255,255,255,.15)}.dropdown-menu-dark .dropdown-item.active,.dropdown-menu-dark .dropdown-item:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark .dropdown-item.disabled,.dropdown-menu-dark .dropdown-item:disabled{color:#adb5bd}.dropdown-menu-dark .dropdown-divider{border-color:rgba(0,0,0,.15)}.dropdown-menu-dark .dropdown-item-text{color:#dee2e6}.dropdown-menu-dark .dropdown-header{color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn~.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem;color:#0d6efd;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:#0a58ca}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;background:0 0;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6;isolation:isolate}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{background:0 0;border:0;border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#0d6efd}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;text-decoration:none;white-space:nowrap}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;transition:box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.55)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.55);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-light .navbar-text{color:rgba(0,0,0,.55)}.navbar-light .navbar-text a,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.55)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.55);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-dark .navbar-text{color:rgba(255,255,255,.55)}.navbar-dark .navbar-text a,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:1rem 1rem}.card-title{margin-bottom:.5rem}.card-subtitle{margin-top:-.25rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1rem}.card-header{padding:.5rem 1rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.5rem 1rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group>.card{margin-bottom:.75rem}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:1rem 1.25rem;font-size:1rem;color:#212529;text-align:left;background-color:#fff;border:0;border-radius:0;overflow-anchor:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:#0c63e4;background-color:#e7f1ff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.125)}.accordion-button:not(.collapsed)::after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");transform:rotate(-180deg)}.accordion-button::after{flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:\"\";background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.accordion-header{margin-bottom:0}.accordion-item{background-color:#fff;border:1px solid rgba(0,0,0,.125)}.accordion-item:first-of-type{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.accordion-item:first-of-type .accordion-button{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-body{padding:1rem 1.25rem}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button{border-radius:0}.breadcrumb{display:flex;flex-wrap:wrap;padding:0 0;margin-bottom:1rem;list-style:none}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:var(--bs-breadcrumb-divider, \"/\")}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:#0a58ca;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;color:#0a58ca;background-color:#e9ecef;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.page-item:not(:first-child) .page-link{margin-left:-1px}.page-item.active .page-link{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.page-link{padding:.375rem .75rem}.page-item:first-child .page-link{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{position:relative;padding:1rem 1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe}.alert-primary .alert-link{color:#06357a}.alert-secondary{color:#41464b;background-color:#e2e3e5;border-color:#d3d6d8}.alert-secondary .alert-link{color:#34383c}.alert-success{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert-success .alert-link{color:#0c4128}.alert-info{color:#055160;background-color:#cff4fc;border-color:#b6effb}.alert-info .alert-link{color:#04414d}.alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5}.alert-warning .alert-link{color:#523e02}.alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert-danger .alert-link{color:#6a1a21}.alert-light{color:#636464;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#4f5050}.alert-dark{color:#141619;background-color:#d3d3d4;border-color:#bcbebf}.alert-dark .alert-link{color:#101214}@-webkit-keyframes progress-bar-stripes{0%{background-position-x:1rem}}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>li::before{content:counters(section, \".\") \". \";counter-increment:section}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#141619;border-color:#141619}.btn-close{box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:#000;background:transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat;border:0;border-radius:.25rem;opacity:.5}.btn-close:hover{color:#000;text-decoration:none;opacity:.75}.btn-close:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);opacity:1}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.25}.btn-close-white{filter:invert(1) grayscale(100%) brightness(200%)}.toast{width:350px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem rgba(0,0,0,.15);border-radius:.25rem}.toast:not(.showing):not(.show){opacity:0}.toast.hide{display:none}.toast-container{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:.75rem}.toast-header{display:flex;align-items:center;padding:.5rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-header .btn-close{margin-right:-.375rem;margin-left:.75rem}.toast-body{padding:.75rem;word-wrap:break-word}.modal{position:fixed;top:0;left:0;z-index:1060;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .btn-close{padding:.5rem .5rem;margin:-.5rem -.5rem -.5rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>*{margin:.25rem}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{height:calc(100% - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}.modal-fullscreen .modal-footer{border-radius:0}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}.modal-fullscreen-sm-down .modal-footer{border-radius:0}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}.modal-fullscreen-md-down .modal-footer{border-radius:0}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}.modal-fullscreen-lg-down .modal-footer{border-radius:0}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}.modal-fullscreen-xl-down .modal-footer{border-radius:0}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}.modal-fullscreen-xxl-down .modal-footer{border-radius:0}}.tooltip{position:absolute;z-index:1080;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .tooltip-arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .tooltip-arrow::before{position:absolute;content:\"\";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[data-popper-placement^=right],.bs-tooltip-end{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[data-popper-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[data-popper-placement^=left],.bs-tooltip-start{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1070;display:block;max-width:276px;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .popover-arrow{position:absolute;display:block;width:1rem;height:.5rem}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:\"\";border-color:transparent;border-style:solid}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:\"\";border-bottom:1px solid #f0f0f0}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem 1rem;margin-bottom:0;font-size:1rem;background-color:#f0f0f0;border-bottom:1px solid #d8d8d8;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:1rem 1rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:\"\"}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e\")}.carousel-control-next-icon{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-next-icon,.carousel-dark .carousel-control-prev-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}@-webkit-keyframes spinner-border{to{transform:rotate(360deg)}}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;-webkit-animation:.75s linear infinite spinner-border;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentColor;border-radius:50%;opacity:0;-webkit-animation:.75s linear infinite spinner-grow;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{-webkit-animation-duration:1.5s;animation-duration:1.5s}}.offcanvas{position:fixed;bottom:0;z-index:1050;display:flex;flex-direction:column;max-width:100%;visibility:hidden;background-color:#fff;background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem}.offcanvas-header .btn-close{padding:.5rem .5rem;margin:-.5rem -.5rem -.5rem auto}.offcanvas-title{margin-bottom:0;line-height:1.5}.offcanvas-body{flex-grow:1;padding:1rem 1rem;overflow-y:auto}.offcanvas-start{top:0;left:0;width:400px;border-right:1px solid rgba(0,0,0,.2);transform:translateX(-100%)}.offcanvas-end{top:0;right:0;width:400px;border-left:1px solid rgba(0,0,0,.2);transform:translateX(100%)}.offcanvas-top{top:0;right:0;left:0;height:30vh;max-height:100%;border-bottom:1px solid rgba(0,0,0,.2);transform:translateY(-100%)}.offcanvas-bottom{right:0;left:0;height:30vh;max-height:100%;border-top:1px solid rgba(0,0,0,.2);transform:translateY(100%)}.offcanvas.show{transform:none}.clearfix::after{display:block;clear:both;content:\"\"}.link-primary{color:#0d6efd}.link-primary:focus,.link-primary:hover{color:#0a58ca}.link-secondary{color:#6c757d}.link-secondary:focus,.link-secondary:hover{color:#565e64}.link-success{color:#198754}.link-success:focus,.link-success:hover{color:#146c43}.link-info{color:#0dcaf0}.link-info:focus,.link-info:hover{color:#3dd5f3}.link-warning{color:#ffc107}.link-warning:focus,.link-warning:hover{color:#ffcd39}.link-danger{color:#dc3545}.link-danger:focus,.link-danger:hover{color:#b02a37}.link-light{color:#f8f9fa}.link-light:focus,.link-light:hover{color:#f9fafb}.link-dark{color:#212529}.link-dark:focus,.link-dark:hover{color:#1a1e21}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:\"\"}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:calc(3 / 4 * 100%)}.ratio-16x9{--bs-aspect-ratio:calc(9 / 16 * 100%)}.ratio-21x9{--bs-aspect-ratio:calc(9 / 21 * 100%)}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:\"\"}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:1px solid #dee2e6!important}.border-0{border:0!important}.border-top{border-top:1px solid #dee2e6!important}.border-top-0{border-top:0!important}.border-end{border-right:1px solid #dee2e6!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:1px solid #dee2e6!important}.border-start-0{border-left:0!important}.border-primary{border-color:#0d6efd!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#198754!important}.border-info{border-color:#0dcaf0!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#212529!important}.border-white{border-color:#fff!important}.border-1{border-width:1px!important}.border-2{border-width:2px!important}.border-3{border-width:3px!important}.border-4{border-width:4px!important}.border-5{border-width:5px!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-light{font-weight:300!important}.fw-lighter{font-weight:lighter!important}.fw-normal{font-weight:400!important}.fw-bold{font-weight:700!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{color:#0d6efd!important}.text-secondary{color:#6c757d!important}.text-success{color:#198754!important}.text-info{color:#0dcaf0!important}.text-warning{color:#ffc107!important}.text-danger{color:#dc3545!important}.text-light{color:#f8f9fa!important}.text-dark{color:#212529!important}.text-white{color:#fff!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:rgba(255,255,255,.5)!important}.text-reset{color:inherit!important}.bg-primary{background-color:#0d6efd!important}.bg-secondary{background-color:#6c757d!important}.bg-success{background-color:#198754!important}.bg-info{background-color:#0dcaf0!important}.bg-warning{background-color:#ffc107!important}.bg-danger{background-color:#dc3545!important}.bg-light{background-color:#f8f9fa!important}.bg-dark{background-color:#212529!important}.bg-body{background-color:#fff!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:.25rem!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:.2rem!important}.rounded-2{border-radius:.25rem!important}.rounded-3{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-end{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-start{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}",""]);const o=i},1240:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var n=r(3645),i=r.n(n)()((function(t){return t[1]}));i.push([t.id,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""]);const o=i},5426:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(3645),i=r.n(n),o=r(1667),a=r.n(o),s=r(8930),l=r(6839),c=r(1239),d=r(6431),u=i()((function(t){return t[1]})),p=a()(s.Z),h=a()(l.Z),f=a()(c.Z),g=a()(d.Z);u.push([t.id,"@font-face {\n  font-family: 'CMU Concrete';\n  src        : url("+p+") format('truetype');\n  font-weight: normal;\n  font-style : normal;\n}\n\n@font-face {\n  font-family: 'CMU Serif';\n  src        : url("+h+") format('truetype');\n  font-weight: normal;\n  font-style : normal;\n}\n\n@font-face {\n  font-family: 'CMU Sans Serif';\n  src        : url("+f+") format('truetype');\n  font-weight: normal;\n  font-style : normal;\n}\n\n@font-face {\n  font-family: 'CMU Typewriter Text';\n  src        : url("+g+") format('truetype');\n  font-weight: normal;\n  font-style : normal;\n}",""]);const m=u},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),e.push(l))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},9058:(t,e,r)=>{"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i=n(r(1296)),o=n(r(4485));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p="undefined"==typeof window?null:window,h=p?p.navigator:null,f=(p&&p.document,a("")),g=a({}),m=a((function(){})),v="undefined"==typeof HTMLElement?"undefined":a(HTMLElement),y=function(t){return t&&t.instanceString&&x(t.instanceString)?t.instanceString():null},b=function(t){return null!=t&&a(t)==f},x=function(t){return null!=t&&a(t)===m},w=function(t){return!_(t)&&(Array.isArray?Array.isArray(t):null!=t&&t instanceof Array)},k=function(t){return null!=t&&a(t)===g&&!w(t)&&t.constructor===Object},C=function(t){return null!=t&&a(t)===a(1)&&!isNaN(t)},S=function(t){return"undefined"===v?void 0:null!=t&&t instanceof HTMLElement},_=function(t){return T(t)||E(t)},T=function(t){return"collection"===y(t)&&t._private.single},E=function(t){return"collection"===y(t)&&!t._private.single},P=function(t){return"core"===y(t)},M=function(t){return"stylesheet"===y(t)},D=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},A=function(t){return function(t){return null!=t&&a(t)===g}(t)&&x(t.then)},L=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var r=function r(){var n,i=this,o=arguments,a=e.apply(i,o),s=r.cache;return(n=s[a])||(n=s[a]=t.apply(i,o)),n};return r.cache={},r},N=L((function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})),O=L((function(t){return t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}))})),F=L((function(t,e){return t+e[0].toUpperCase()+e.substring(1)}),(function(t,e){return t+"$"+e})),z=function(t){return D(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},I="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",B=function(t,e){return t<e?-1:t>e?1:0},R=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(null!=n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];t[a]=n[a]}}return t},j={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},H=function(t){for(var e=t.map,r=t.keys,n=r.length,i=0;i<n;i++){var o=r[i];if(k(o))throw Error("Tried to set map with object key");i<r.length-1?(null==e[o]&&(e[o]={}),e=e[o]):e[o]=t.value}},G=function(t){for(var e=t.map,r=t.keys,n=r.length,i=0;i<n;i++){var o=r[i];if(k(o))throw Error("Tried to get map with object key");if(null==(e=e[o]))return e}return e},V=p?p.performance:null,W=V&&V.now?function(){return V.now()}:function(){return Date.now()},U=function(){if(p){if(p.requestAnimationFrame)return function(t){p.requestAnimationFrame(t)};if(p.mozRequestAnimationFrame)return function(t){p.mozRequestAnimationFrame(t)};if(p.webkitRequestAnimationFrame)return function(t){p.webkitRequestAnimationFrame(t)};if(p.msRequestAnimationFrame)return function(t){p.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout((function(){t(W())}),1e3/60)}}(),q=function(t){return U(t)},X=W,Y=9261,K=65599,$=5381,Z=function(t){for(var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,n=r;!(e=t.next()).done;)n=n*K+e.value|0;return n},Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;return e*K+t|0},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;return(e<<5)+e+t|0},tt=function(t){return 2097152*t[0]+t[1]},et=function(t,e){return[Q(t[0],e[0]),J(t[1],e[1])]},rt=function(t,e){var r={value:0,done:!1},n=0,i=t.length;return Z({next:function(){return n<i?r.value=t.charCodeAt(n++):r.done=!0,r}},e)},nt=function(){return it(arguments)},it=function(t){for(var e,r=0;r<t.length;r++){var n=t[r];e=0===r?rt(n):rt(n,e)}return e},ot=!0,at=null!=console.warn,st=null!=console.trace,lt=Number.MAX_SAFE_INTEGER||9007199254740991,ct=function(){return!0},dt=function(){return!1},ut=function(){return 0},pt=function(){},ht=function(t){throw new Error(t)},ft=function(t){if(void 0===t)return ot;ot=!!t},gt=function(t){ft()&&(at?console.warn(t):(console.log(t),st&&console.trace()))},mt=function(t){return null==t?t:w(t)?t.slice():k(t)?function(t){return R({},t)}(t):t},vt=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},yt={},bt=function(){return yt},xt=function(t){var e=Object.keys(t);return function(r){for(var n={},i=0;i<e.length;i++){var o=e[i],a=null==r?void 0:r[o];n[o]=void 0===a?t[o]:a}return n}},wt=function(t,e,r){for(var n=t.length-1;n>=0&&(t[n]!==e||(t.splice(n,1),!r));n--);},kt=function(t){t.splice(0,t.length)},Ct=function(t,e,r){return r&&(e=F(r,e)),t[e]},St=function(t,e,r,n){r&&(e=F(r,e)),t[e]=n},_t="undefined"!=typeof Map?Map:function(){function t(){s(this,t),this._obj={}}return c(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Tt=function(){function t(e){if(s(this,t),this._obj=Object.create(null),this.size=0,null!=e){var r;r=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<r.length;n++)this.add(r[n])}}return c(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter((function(e){return t.has(e)}))}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),Et="undefined"!==("undefined"==typeof Set?"undefined":a(Set))?Set:Tt,Pt=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==t&&void 0!==e&&P(t)){var n=e.group;if(null==n&&(n=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===n||"edges"===n){this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===n:!!e.pannable,active:!1,classes:new Et,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),e.renderedPosition){var o=e.renderedPosition,a=t.pan(),s=t.zoom();i.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var l=[];w(e.classes)?l=e.classes:b(e.classes)&&(l=e.classes.split(/\s+/));for(var c=0,d=l.length;c<d;c++){var u=l[c];u&&""!==u&&i.classes.add(u)}this.createEmitter();var p=e.style||e.css;p&&(gt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p)),(void 0===r||r)&&this.restore()}else ht("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else ht("An element must have a core reference and parameters set")},Mt=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,r,n){var i;k(e)&&!_(e)&&(e=(i=e).roots||i.root,r=i.visit,n=i.directed),n=2!==arguments.length||x(r)?n:r,r=x(r)?r:function(){};for(var o,a=this._private.cy,s=e=b(e)?this.filter(e):e,l=[],c=[],d={},u={},p={},h=0,f=this.byGroup(),g=f.nodes,m=f.edges,v=0;v<s.length;v++){var y=s[v],w=y.id();y.isNode()&&(l.unshift(y),t.bfs&&(p[w]=!0,c.push(y)),u[w]=0)}var C=function(){var e=t.bfs?l.shift():l.pop(),i=e.id();if(t.dfs){if(p[i])return"continue";p[i]=!0,c.push(e)}var a,s=u[i],f=d[i],v=null!=f?f.source():null,y=null!=f?f.target():null,b=null==f?void 0:e.same(v)?y[0]:v[0];if(!0===(a=r(e,f,b,h++,s)))return o=e,"break";if(!1===a)return"break";for(var x=e.connectedEdges().filter((function(t){return(!n||t.source().same(e))&&m.has(t)})),w=0;w<x.length;w++){var k=x[w],C=k.connectedNodes().filter((function(t){return!t.same(e)&&g.has(t)})),S=C.id();0===C.length||p[S]||(C=C[0],l.push(C),t.bfs&&(p[S]=!0,c.push(C)),d[S]=k,u[S]=u[i]+1)}};t:for(;0!==l.length;){var S=C();switch(S){case"continue":continue;case"break":break t}}for(var T=a.collection(),E=0;E<c.length;E++){var P=c[E],M=d[P.id()];null!=M&&T.push(M),T.push(P)}return{path:a.collection(T),found:a.collection(o)}}},Dt={breadthFirstSearch:Mt({bfs:!0}),depthFirstSearch:Mt({dfs:!0})};Dt.bfs=Dt.breadthFirstSearch,Dt.dfs=Dt.depthFirstSearch;var At=xt({root:null,weight:function(t){return 1},directed:!1}),Lt={dijkstra:function(t){if(!k(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var r=At(t),n=r.root,i=r.weight,a=r.directed,s=this,l=i,c=b(n)?this.filter(n)[0]:n[0],d={},u={},p={},h=this.byGroup(),f=h.nodes,g=h.edges;g.unmergeBy((function(t){return t.isLoop()}));for(var m=function(t){return d[t.id()]},v=function(t,e){d[t.id()]=e,y.updateItem(t)},y=new o((function(t,e){return m(t)-m(e)})),x=0;x<f.length;x++){var w=f[x];d[w.id()]=w.same(c)?0:1/0,y.push(w)}for(var C=function(t,e){for(var r,n=(a?t.edgesTo(e):t.edgesWith(e)).intersect(g),i=1/0,o=0;o<n.length;o++){var s=n[o],c=l(s);(c<i||!r)&&(i=c,r=s)}return{edge:r,dist:i}};y.size()>0;){var S=y.pop(),_=m(S),T=S.id();if(p[T]=_,_!==1/0)for(var E=S.neighborhood().intersect(f),P=0;P<E.length;P++){var M=E[P],D=M.id(),A=C(S,M),L=_+A.dist;L<m(M)&&(v(M,L),u[D]={node:S,edge:A.edge})}}return{distanceTo:function(t){var e=b(t)?f.filter(t)[0]:t[0];return p[e.id()]},pathTo:function(t){var e=b(t)?f.filter(t)[0]:t[0],r=[],n=e,i=n.id();if(e.length>0)for(r.unshift(e);u[i];){var o=u[i];r.unshift(o.edge),r.unshift(o.node),i=(n=o.node).id()}return s.spawn(r)}}}},Nt={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),r=e.nodes,n=e.edges,i=r.length,o=new Array(i),a=r,s=function(t){for(var e=0;e<o.length;e++)if(o[e].has(t))return e},l=0;l<i;l++)o[l]=this.spawn(r[l]);for(var c=n.sort((function(e,r){return t(e)-t(r)})),d=0;d<c.length;d++){var u=c[d],p=u.source()[0],h=u.target()[0],f=s(p),g=s(h),m=o[f],v=o[g];f!==g&&(a.merge(u),m.merge(v),o.splice(g,1))}return a}},Ot=xt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Ft={aStar:function(t){var e=this.cy(),r=Ot(t),n=r.root,i=r.goal,a=r.heuristic,s=r.directed,l=r.weight;n=e.collection(n)[0],i=e.collection(i)[0];var c,d,u=n.id(),p=i.id(),h={},f={},g={},m=new o((function(t,e){return f[t.id()]-f[e.id()]})),v=new Et,y={},b={},x=function(t,e){m.push(t),v.add(e)};x(n,u),h[u]=0,f[u]=a(n);for(var w,k=0;m.size()>0;){if(d=(c=m.pop()).id(),v.delete(d),k++,d===p){for(var C=[],S=i,_=p,T=b[_];C.unshift(S),null!=T&&C.unshift(T),null!=(S=y[_]);)T=b[_=S.id()];return{found:!0,distance:h[d],path:this.spawn(C),steps:k}}g[d]=!0;for(var E=c._private.edges,P=0;P<E.length;P++){var M=E[P];if(this.hasElementWithId(M.id())&&(!s||M.data("source")===d)){var D=M.source(),A=M.target(),L=D.id()!==d?D:A,N=L.id();if(this.hasElementWithId(N)&&!g[N]){var O=h[d]+l(M);w=N,v.has(w)?O<h[N]&&(h[N]=O,f[N]=O+a(L),y[N]=c,b[N]=M):(h[N]=O,f[N]=O+a(L),x(L,N),y[N]=c,b[N]=M)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},zt=xt({weight:function(t){return 1},directed:!1}),It={floydWarshall:function(t){for(var e=this.cy(),r=zt(t),n=r.weight,i=r.directed,o=n,a=this.byGroup(),s=a.nodes,l=a.edges,c=s.length,d=c*c,u=function(t){return s.indexOf(t)},p=function(t){return s[t]},h=new Array(d),f=0;f<d;f++){var g=f%c,m=(f-g)/c;h[f]=m===g?0:1/0}for(var v=new Array(d),y=new Array(d),x=0;x<l.length;x++){var w=l[x],k=w.source()[0],C=w.target()[0];if(k!==C){var S=u(k),_=u(C),T=S*c+_,E=o(w);if(h[T]>E&&(h[T]=E,v[T]=_,y[T]=w),!i){var P=_*c+S;!i&&h[P]>E&&(h[P]=E,v[P]=S,y[P]=w)}}}for(var M=0;M<c;M++)for(var D=0;D<c;D++)for(var A=D*c+M,L=0;L<c;L++){var N=D*c+L,O=M*c+L;h[A]+h[O]<h[N]&&(h[N]=h[A]+h[O],v[N]=v[A])}var F=function(t){return u(function(t){return(b(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var r=F(t),n=F(e);return h[r*c+n]},path:function(t,r){var n=F(t),i=F(r),o=p(n);if(n===i)return o.collection();if(null==v[n*c+i])return e.collection();var a,s=e.collection(),l=n;for(s.merge(o);n!==i;)l=n,n=v[n*c+i],a=y[l*c+n],s.merge(a),s.merge(p(n));return s}}}},Bt=xt({weight:function(t){return 1},directed:!1,root:null}),Rt={bellmanFord:function(t){var e=this,r=Bt(t),n=r.weight,i=r.directed,o=r.root,a=n,s=this,l=this.cy(),c=this.byGroup(),d=c.edges,u=c.nodes,p=u.length,h=new _t,f=!1;o=l.collection(o)[0],d.unmergeBy((function(t){return t.isLoop()}));for(var g=d.length,m=function(t){var e=h.get(t.id());return e||(e={},h.set(t.id(),e)),e},v=function(t){return(b(t)?l.$(t):t)[0]},y=0;y<p;y++){var x=u[y],w=m(x);x.same(o)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var k=!1,C=function(t,e,r,n,i,o){var a=n.dist+o;a<i.dist&&!r.same(n.edge)&&(i.dist=a,i.pred=t,i.edge=r,k=!0)},S=1;S<p;S++){k=!1;for(var _=0;_<g;_++){var T=d[_],E=T.source(),P=T.target(),M=a(T),D=m(E),A=m(P);C(E,0,T,D,A,M),i||C(P,0,T,A,D,M)}if(!k)break}if(k)for(var L=0;L<g;L++){var N=d[L],O=N.source(),F=N.target(),z=a(N),I=m(O).dist,B=m(F).dist;if(I+z<B||!i&&B+z<I){gt("Graph contains a negative weight cycle for Bellman-Ford"),f=!0;break}}return{distanceTo:function(t){return m(v(t)).dist},pathTo:function(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=v(t),i=[],a=n;;){if(null==a)return e.spawn();var l=m(a),c=l.edge,d=l.pred;if(i.unshift(a[0]),a.same(r)&&i.length>0)break;null!=c&&i.unshift(c),a=d}return s.spawn(i)},hasNegativeWeightCycle:f,negativeWeightCycles:[]}}},jt=Math.sqrt(2),Ht=function(t,e,r){0===r.length&&ht("Karger-Stein must be run on a connected (sub)graph");for(var n=r[t],i=n[1],o=n[2],a=e[i],s=e[o],l=r,c=l.length-1;c>=0;c--){var d=l[c],u=d[1],p=d[2];(e[u]===a&&e[p]===s||e[u]===s&&e[p]===a)&&l.splice(c,1)}for(var h=0;h<l.length;h++){var f=l[h];f[1]===s?(l[h]=f.slice(),l[h][1]=a):f[2]===s&&(l[h]=f.slice(),l[h][2]=a)}for(var g=0;g<e.length;g++)e[g]===s&&(e[g]=a);return l},Gt=function(t,e,r,n){for(;r>n;){var i=Math.floor(Math.random()*e.length);e=Ht(i,t,e),r--}return e},Vt={kargerStein:function(){var t=this,e=this.byGroup(),r=e.nodes,n=e.edges;n.unmergeBy((function(t){return t.isLoop()}));var i=r.length,o=n.length,a=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/jt);if(!(i<2)){for(var l=[],c=0;c<o;c++){var d=n[c];l.push([c,r.indexOf(d.source()),r.indexOf(d.target())])}for(var u=1/0,p=[],h=new Array(i),f=new Array(i),g=new Array(i),m=function(t,e){for(var r=0;r<i;r++)e[r]=t[r]},v=0;v<=a;v++){for(var y=0;y<i;y++)f[y]=y;var b=Gt(f,l.slice(),i,s),x=b.slice();m(f,g);var w=Gt(f,b,s,2),k=Gt(g,x,s,2);w.length<=k.length&&w.length<u?(u=w.length,p=w,m(f,h)):k.length<=w.length&&k.length<u&&(u=k.length,p=k,m(g,h))}for(var C=this.spawn(p.map((function(t){return n[t[0]]}))),S=this.spawn(),_=this.spawn(),T=h[0],E=0;E<h.length;E++){var P=h[E],M=r[E];P===T?S.merge(M):_.merge(M)}var D=function(e){var r=t.spawn();return e.forEach((function(e){r.merge(e),e.connectedEdges().forEach((function(e){t.contains(e)&&!C.contains(e)&&r.merge(e)}))})),r},A=[D(S),D(_)];return{cut:C,components:A,partition1:S,partition2:_}}ht("At least 2 nodes are required for Karger-Stein algorithm")}},Wt=function(t,e,r){return{x:t.x*e+r.x,y:t.y*e+r.y}},Ut=function(t,e,r){return{x:(t.x-r.x)/e,y:(t.y-r.y)/e}},qt=function(t){return{x:t[0],y:t[1]}},Xt=function(t,e){return Math.atan2(e,t)-Math.PI/2},Yt=Math.log2||function(t){return Math.log(t)/Math.log(2)},Kt=function(t){return t>0?1:t<0?-1:0},$t=function(t,e){return Math.sqrt(Zt(t,e))},Zt=function(t,e){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n},Qt=function(t){for(var e=t.length,r=0,n=0;n<e;n++)r+=t[n];for(var i=0;i<e;i++)t[i]=t[i]/r;return t},Jt=function(t,e,r,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*r},te=function(t,e,r,n){return{x:Jt(t.x,e.x,r.x,n),y:Jt(t.y,e.y,r.y,n)}},ee=function(t,e,r){return Math.max(t,Math.min(r,e))},re=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},ne=function(t,e,r){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r),t.y2=Math.max(t.y2,r),t.h=t.y2-t.y1},ie=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},oe=function(t){var e,r,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)e=r=n=i=o[0];else if(2===o.length)e=n=o[0],i=r=o[1];else if(4===o.length){var a=u(o,4);e=a[0],r=a[1],n=a[2],i=a[3]}return t.x1-=i,t.x2+=r,t.y1-=e,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ae=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},se=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},le=function(t,e,r){return t.x1<=e&&e<=t.x2&&t.y1<=r&&r<=t.y2},ce=function(t,e){return le(t,e.x1,e.y1)&&le(t,e.x2,e.y2)},de=function(t,e,r,n,i,o,a){var s,l=Pe(i,o),c=i/2,d=o/2,u=n-d-a;if((s=ke(t,e,r,n,r-c+l-a,u,r+c-l+a,u,!1)).length>0)return s;var p=r+c+a;if((s=ke(t,e,r,n,p,n-d+l-a,p,n+d-l+a,!1)).length>0)return s;var h=n+d+a;if((s=ke(t,e,r,n,r-c+l-a,h,r+c-l+a,h,!1)).length>0)return s;var f,g=r-c-a;if((s=ke(t,e,r,n,g,n-d+l-a,g,n+d-l+a,!1)).length>0)return s;var m=r-c+l,v=n-d+l;if((f=xe(t,e,r,n,m,v,l+a)).length>0&&f[0]<=m&&f[1]<=v)return[f[0],f[1]];var y=r+c-l,b=n-d+l;if((f=xe(t,e,r,n,y,b,l+a)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var x=r+c-l,w=n+d-l;if((f=xe(t,e,r,n,x,w,l+a)).length>0&&f[0]>=x&&f[1]>=w)return[f[0],f[1]];var k=r-c+l,C=n+d-l;return(f=xe(t,e,r,n,k,C,l+a)).length>0&&f[0]<=k&&f[1]>=C?[f[0],f[1]]:[]},ue=function(t,e,r,n,i,o,a){var s=a,l=Math.min(r,i),c=Math.max(r,i),d=Math.min(n,o),u=Math.max(n,o);return l-s<=t&&t<=c+s&&d-s<=e&&e<=u+s},pe=function(t,e,r,n,i,o,a,s,l){var c=Math.min(r,a,i)-l,d=Math.max(r,a,i)+l,u=Math.min(n,s,o)-l,p=Math.max(n,s,o)+l;return!(t<c||t>d||e<u||e>p)},he=function(t,e,r,n,i,o,a,s){var l,c,d,u,p,h,f,g,m,v,y,b,x,w=[];c=9*r*i-3*r*r-3*r*a-6*i*i+3*i*a+9*n*o-3*n*n-3*n*s-6*o*o+3*o*s,d=3*r*r-6*r*i+r*a-r*t+2*i*i+2*i*t-a*t+3*n*n-6*n*o+n*s-n*e+2*o*o+2*o*e-s*e,u=1*r*i-r*r+r*t-i*t+n*o-n*n+n*e-o*e,0===(l=1*r*r-4*r*i+2*r*a+4*i*i-4*i*a+a*a+n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s)&&(l=1e-5),g=-27*(u/=l)+(c/=l)*(9*(d/=l)-c*c*2),h=(f=(3*d-c*c)/9)*f*f+(g/=54)*g,(p=w)[1]=0,b=c/3,h>0?(v=(v=g+Math.sqrt(h))<0?-Math.pow(-v,1/3):Math.pow(v,1/3),y=(y=g-Math.sqrt(h))<0?-Math.pow(-y,1/3):Math.pow(y,1/3),p[0]=-b+v+y,b+=(v+y)/2,p[4]=p[2]=-b,b=Math.sqrt(3)*(-y+v)/2,p[3]=b,p[5]=-b):(p[5]=p[3]=0,0===h?(x=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),p[0]=2*x-b,p[4]=p[2]=-(x+b)):(m=(f=-f)*f*f,m=Math.acos(g/Math.sqrt(m)),x=2*Math.sqrt(f),p[0]=-b+x*Math.cos(m/3),p[2]=-b+x*Math.cos((m+2*Math.PI)/3),p[4]=-b+x*Math.cos((m+4*Math.PI)/3)));for(var k=[],C=0;C<6;C+=2)Math.abs(w[C+1])<1e-7&&w[C]>=0&&w[C]<=1&&k.push(w[C]);k.push(1),k.push(0);for(var S,_,T,E=-1,P=0;P<k.length;P++)S=Math.pow(1-k[P],2)*r+2*(1-k[P])*k[P]*i+k[P]*k[P]*a,_=Math.pow(1-k[P],2)*n+2*(1-k[P])*k[P]*o+k[P]*k[P]*s,T=Math.pow(S-t,2)+Math.pow(_-e,2),E>=0?T<E&&(E=T):E=T;return E},fe=function(t,e,r,n,i,o){var a=[t-r,e-n],s=[i-r,o-n],l=s[0]*s[0]+s[1]*s[1],c=a[0]*a[0]+a[1]*a[1],d=a[0]*s[0]+a[1]*s[1],u=d*d/l;return d<0?c:u>l?(t-i)*(t-i)+(e-o)*(e-o):c-u},ge=function(t,e,r){for(var n,i,o,a,s=0,l=0;l<r.length/2;l++)if(n=r[2*l],i=r[2*l+1],l+1<r.length/2?(o=r[2*(l+1)],a=r[2*(l+1)+1]):(o=r[2*(l+1-r.length/2)],a=r[2*(l+1-r.length/2)+1]),n==t&&o==t);else{if(!(n>=t&&t>=o||n<=t&&t<=o))continue;(t-n)/(o-n)*(a-i)+i>e&&s++}return s%2!=0},me=function(t,e,r,n,i,o,a,s,l){var c,d=new Array(r.length);null!=s[0]?(c=Math.atan(s[1]/s[0]),s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=s;for(var u,p=Math.cos(-c),h=Math.sin(-c),f=0;f<d.length/2;f++)d[2*f]=o/2*(r[2*f]*p-r[2*f+1]*h),d[2*f+1]=a/2*(r[2*f+1]*p+r[2*f]*h),d[2*f]+=n,d[2*f+1]+=i;if(l>0){var g=ye(d,-l);u=ve(g)}else u=d;return ge(t,e,u)},ve=function(t){for(var e,r,n,i,o,a,s,l,c=new Array(t.length/2),d=0;d<t.length/4;d++){e=t[4*d],r=t[4*d+1],n=t[4*d+2],i=t[4*d+3],d<t.length/4-1?(o=t[4*(d+1)],a=t[4*(d+1)+1],s=t[4*(d+1)+2],l=t[4*(d+1)+3]):(o=t[0],a=t[1],s=t[2],l=t[3]);var u=ke(e,r,n,i,o,a,s,l,!0);c[2*d]=u[0],c[2*d+1]=u[1]}return c},ye=function(t,e){for(var r,n,i,o,a=new Array(2*t.length),s=0;s<t.length/2;s++){r=t[2*s],n=t[2*s+1],s<t.length/2-1?(i=t[2*(s+1)],o=t[2*(s+1)+1]):(i=t[0],o=t[1]);var l=o-n,c=-(i-r),d=Math.sqrt(l*l+c*c),u=l/d,p=c/d;a[4*s]=r+u*e,a[4*s+1]=n+p*e,a[4*s+2]=i+u*e,a[4*s+3]=o+p*e}return a},be=function(t,e,r,n,i,o,a){return t-=i,e-=o,(t/=r/2+a)*t+(e/=n/2+a)*e<=1},xe=function(t,e,r,n,i,o,a){var s=[r-t,n-e],l=[t-i,e-o],c=s[0]*s[0]+s[1]*s[1],d=2*(l[0]*s[0]+l[1]*s[1]),u=d*d-4*c*(l[0]*l[0]+l[1]*l[1]-a*a);if(u<0)return[];var p=(-d+Math.sqrt(u))/(2*c),h=(-d-Math.sqrt(u))/(2*c),f=Math.min(p,h),g=Math.max(p,h),m=[];if(f>=0&&f<=1&&m.push(f),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*s[0]+t,y=m[0]*s[1]+e;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*s[0]+t,m[1]*s[1]+e]:[v,y]},we=function(t,e,r){return e<=t&&t<=r||r<=t&&t<=e?t:t<=e&&e<=r||r<=e&&e<=t?e:r},ke=function(t,e,r,n,i,o,a,s,l){var c=t-i,d=r-t,u=a-i,p=e-o,h=n-e,f=s-o,g=u*p-f*c,m=d*p-h*c,v=f*d-u*h;if(0!==v){var y=g/v,b=m/v,x=-.001;return x<=y&&y<=1.001&&x<=b&&b<=1.001||l?[t+y*d,e+y*h]:[]}return 0===g||0===m?we(t,r,a)===a?[a,s]:we(t,r,i)===i?[i,o]:we(i,a,r)===r?[r,n]:[]:[]},Ce=function(t,e,r,n,i,o,a,s){var l,c,d,u,p,h,f=[],g=new Array(r.length),m=!0;if(null==o&&(m=!1),m){for(var v=0;v<g.length/2;v++)g[2*v]=r[2*v]*o+n,g[2*v+1]=r[2*v+1]*a+i;if(s>0){var y=ye(g,-s);c=ve(y)}else c=g}else c=r;for(var b=0;b<c.length/2;b++)d=c[2*b],u=c[2*b+1],b<c.length/2-1?(p=c[2*(b+1)],h=c[2*(b+1)+1]):(p=c[0],h=c[1]),0!==(l=ke(t,e,n,i,d,u,p,h)).length&&f.push(l[0],l[1]);return f},Se=function(t,e,r){var n=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(i-r)/i;return o<0&&(o=1e-5),[e[0]+o*n[0],e[1]+o*n[1]]},_e=function(t,e){var r=Ee(t,e);return Te(r)},Te=function(t){for(var e,r,n=t.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<n;l++)e=t[2*l],r=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,r),s=Math.max(s,r);for(var c=2/(a-i),d=2/(s-o),u=0;u<n;u++)e=t[2*u]=t[2*u]*c,r=t[2*u+1]=t[2*u+1]*d,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,r),s=Math.max(s,r);if(o<-1)for(var p=0;p<n;p++)r=t[2*p+1]=t[2*p+1]+(-1-o);return t},Ee=function(t,e){var r=1/t*2*Math.PI,n=t%2==0?Math.PI/2+r/2:Math.PI/2;n+=e;for(var i,o=new Array(2*t),a=0;a<t;a++)i=a*r+n,o[2*a]=Math.cos(i),o[2*a+1]=Math.sin(-i);return o},Pe=function(t,e){return Math.min(t/4,e/4,8)},Me=function(t,e){return Math.min(t/10,e/10,8)},De=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},Ae=xt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),Le={pageRank:function(t){for(var e=Ae(t),r=e.dampingFactor,n=e.precision,i=e.iterations,o=e.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,c=s.edges,d=l.length,u=d*d,p=c.length,h=new Array(u),f=new Array(d),g=(1-r)/d,m=0;m<d;m++){for(var v=0;v<d;v++)h[m*d+v]=0;f[m]=0}for(var y=0;y<p;y++){var b=c[y],x=b.data("source"),w=b.data("target");if(x!==w){var k=l.indexOfId(x),C=l.indexOfId(w),S=o(b);h[C*d+k]+=S,f[k]+=S}}for(var _=1/d+g,T=0;T<d;T++)if(0===f[T])for(var E=0;E<d;E++)h[E*d+T]=_;else for(var P=0;P<d;P++){var M=P*d+T;h[M]=h[M]/f[T]+g}for(var D,A=new Array(d),L=new Array(d),N=0;N<d;N++)A[N]=1;for(var O=0;O<i;O++){for(var F=0;F<d;F++)L[F]=0;for(var z=0;z<d;z++)for(var I=0;I<d;I++){var B=z*d+I;L[z]+=h[B]*A[I]}Qt(L),D=A,A=L,L=D;for(var R=0,j=0;j<d;j++){var H=D[j]-A[j];R+=H*H}if(R<n)break}return{rank:function(t){return t=a.collection(t)[0],A[l.indexOf(t)]}}}},Ne=xt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Oe={degreeCentralityNormalized:function(t){t=Ne(t);var e=this.cy(),r=this.nodes(),n=r.length;if(t.directed){for(var i={},o={},a=0,s=0,l=0;l<n;l++){var c=r[l],d=c.id();t.root=c;var u=this.degreeCentrality(t);a<u.indegree&&(a=u.indegree),s<u.outdegree&&(s=u.outdegree),i[d]=u.indegree,o[d]=u.outdegree}return{indegree:function(t){return 0==a?0:(b(t)&&(t=e.filter(t)),i[t.id()]/a)},outdegree:function(t){return 0===s?0:(b(t)&&(t=e.filter(t)),o[t.id()]/s)}}}for(var p={},h=0,f=0;f<n;f++){var g=r[f];t.root=g;var m=this.degreeCentrality(t);h<m.degree&&(h=m.degree),p[g.id()]=m.degree}return{degree:function(t){return 0===h?0:(b(t)&&(t=e.filter(t)),p[t.id()]/h)}}},degreeCentrality:function(t){t=Ne(t);var e=this.cy(),r=this,n=t,i=n.root,o=n.weight,a=n.directed,s=n.alpha;if(i=e.collection(i)[0],a){for(var l=i.connectedEdges(),c=l.filter((function(t){return t.target().same(i)&&r.has(t)})),d=l.filter((function(t){return t.source().same(i)&&r.has(t)})),u=c.length,p=d.length,h=0,f=0,g=0;g<c.length;g++)h+=o(c[g]);for(var m=0;m<d.length;m++)f+=o(d[m]);return{indegree:Math.pow(u,1-s)*Math.pow(h,s),outdegree:Math.pow(p,1-s)*Math.pow(f,s)}}for(var v=i.connectedEdges().intersection(r),y=v.length,b=0,x=0;x<v.length;x++)b+=o(v[x]);return{degree:Math.pow(y,1-s)*Math.pow(b,s)}}};Oe.dc=Oe.degreeCentrality,Oe.dcn=Oe.degreeCentralityNormalised=Oe.degreeCentralityNormalized;var Fe=xt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ze={closenessCentralityNormalized:function(t){for(var e=Fe(t),r=e.harmonic,n=e.weight,i=e.directed,o=this.cy(),a={},s=0,l=this.nodes(),c=this.floydWarshall({weight:n,directed:i}),d=0;d<l.length;d++){for(var u=0,p=l[d],h=0;h<l.length;h++)if(d!==h){var f=c.distance(p,l[h]);u+=r?1/f:f}r||(u=1/u),s<u&&(s=u),a[p.id()]=u}return{closeness:function(t){return 0==s?0:(t=b(t)?o.filter(t)[0].id():t.id(),a[t]/s)}}},closenessCentrality:function(t){var e=Fe(t),r=e.root,n=e.weight,i=e.directed,o=e.harmonic;r=this.filter(r)[0];for(var a=this.dijkstra({root:r,weight:n,directed:i}),s=0,l=this.nodes(),c=0;c<l.length;c++){var d=l[c];if(!d.same(r)){var u=a.distanceTo(d);s+=o?1/u:u}}return o?s:1/s}};ze.cc=ze.closenessCentrality,ze.ccn=ze.closenessCentralityNormalised=ze.closenessCentralityNormalized;var Ie=xt({weight:null,directed:!1}),Be={betweennessCentrality:function(t){for(var e=Ie(t),r=e.directed,n=e.weight,i=null!=n,a=this.cy(),s=this.nodes(),l={},c={},d=0,u=function(t,e){c[t]=e,e>d&&(d=e)},p=function(t){return c[t]},h=0;h<s.length;h++){var f=s[h],g=f.id();l[g]=r?f.outgoers().nodes():f.openNeighborhood().nodes(),u(g,0)}for(var m=function(t){for(var e=s[t].id(),r=[],c={},d={},h={},f=new o((function(t,e){return h[t]-h[e]})),g=0;g<s.length;g++){var m=s[g].id();c[m]=[],d[m]=0,h[m]=1/0}for(d[e]=1,h[e]=0,f.push(e);!f.empty();){var v=f.pop();if(r.push(v),i)for(var y=0;y<l[v].length;y++){var b,x=l[v][y],w=a.getElementById(v);b=w.edgesTo(x).length>0?w.edgesTo(x)[0]:x.edgesTo(w)[0];var k=n(b);x=x.id(),h[x]>h[v]+k&&(h[x]=h[v]+k,f.nodes.indexOf(x)<0?f.push(x):f.updateItem(x),d[x]=0,c[x]=[]),h[x]==h[v]+k&&(d[x]=d[x]+d[v],c[x].push(v))}else for(var C=0;C<l[v].length;C++){var S=l[v][C].id();h[S]==1/0&&(f.push(S),h[S]=h[v]+1),h[S]==h[v]+1&&(d[S]=d[S]+d[v],c[S].push(v))}}for(var _={},T=0;T<s.length;T++)_[s[T].id()]=0;for(;r.length>0;){for(var E=r.pop(),P=0;P<c[E].length;P++){var M=c[E][P];_[M]=_[M]+d[M]/d[E]*(1+_[E])}E!=s[t].id()&&u(E,p(E)+_[E])}},v=0;v<s.length;v++)m(v);var y={betweenness:function(t){var e=a.collection(t).id();return p(e)},betweennessNormalized:function(t){if(0==d)return 0;var e=a.collection(t).id();return p(e)/d}};return y.betweennessNormalised=y.betweennessNormalized,y}};Be.bc=Be.betweennessCentrality;var Re=xt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),je=function(t,e){for(var r=0,n=0;n<e.length;n++)r+=e[n](t);return r},He=function(t,e){for(var r,n=0;n<e;n++){r=0;for(var i=0;i<e;i++)r+=t[i*e+n];for(var o=0;o<e;o++)t[o*e+n]=t[o*e+n]/r}},Ge=function(t,e,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var o=0;o<r;o++)n[i*r+o]=0;for(var a=0;a<r;a++)for(var s=0;s<r;s++)n[i*r+s]+=t[i*r+a]*e[a*r+s]}return n},Ve=function(t,e,r){for(var n=t.slice(0),i=1;i<r;i++)t=Ge(t,n,e);return t},We=function(t,e,r){for(var n=new Array(e*e),i=0;i<e*e;i++)n[i]=Math.pow(t[i],r);return He(n,e),n},Ue=function(t,e,r,n){for(var i=0;i<r;i++)if(Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n)!=Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n))return!1;return!0},qe=function(t,e){for(var r=0;r<t.length;r++)if(!e[r]||t[r].id()!==e[r].id())return!1;return!0},Xe=function(t){for(var e=this.nodes(),r=this.edges(),n=this.cy(),i=function(t){return Re(t)}(t),o={},a=0;a<e.length;a++)o[e[a].id()]=a;for(var s,l=e.length,c=l*l,d=new Array(c),u=0;u<c;u++)d[u]=0;for(var p=0;p<r.length;p++){var h=r[p],f=o[h.source().id()],g=o[h.target().id()],m=je(h,i.attributes);d[f*l+g]+=m,d[g*l+f]+=m}!function(t,e,r){for(var n=0;n<e;n++)t[n*e+n]=r}(d,l,i.multFactor),He(d,l);for(var v=!0,y=0;v&&y<i.maxIterations;)v=!1,s=Ve(d,l,i.expandFactor),d=We(s,l,i.inflateFactor),Ue(d,s,c,4)||(v=!0),y++;var b=function(t,e,r,n){for(var i=[],o=0;o<e;o++){for(var a=[],s=0;s<e;s++)Math.round(1e3*t[o*e+s])/1e3>0&&a.push(r[s]);0!==a.length&&i.push(n.collection(a))}return i}(d,l,e,n);return function(t){for(var e=0;e<t.length;e++)for(var r=0;r<t.length;r++)e!=r&&qe(t[e],t[r])&&t.splice(r,1);return t}(b)},Ye={markovClustering:Xe,mcl:Xe},Ke=function(t){return t},$e=function(t,e){return Math.abs(e-t)},Ze=function(t,e,r){return t+$e(e,r)},Qe=function(t,e,r){return t+Math.pow(r-e,2)},Je=function(t){return Math.sqrt(t)},tr=function(t,e,r){return Math.max(t,$e(e,r))},er=function(t,e,r,n,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ke,a=n,s=0;s<t;s++)a=i(a,e(s),r(s));return o(a)},rr={euclidean:function(t,e,r){return t>=2?er(t,e,r,0,Qe,Je):er(t,e,r,0,Ze)},squaredEuclidean:function(t,e,r){return er(t,e,r,0,Qe)},manhattan:function(t,e,r){return er(t,e,r,0,Ze)},max:function(t,e,r){return er(t,e,r,-1/0,tr)}};function nr(t,e,r,n,i,o){var a;return a=x(t)?t:rr[t]||rr.euclidean,0===e&&x(t)?a(i,o):a(e,r,n,i,o)}rr["squared-euclidean"]=rr.squaredEuclidean,rr.squaredeuclidean=rr.squaredEuclidean;var ir=xt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),or=function(t){return ir(t)},ar=function(t,e,r,n,i){var o="kMedoids"!==i?function(t){return r[t]}:function(t){return n[t](r)},a=r,s=e;return nr(t,n.length,o,(function(t){return n[t](e)}),a,s)},sr=function(t,e,r){for(var n=r.length,i=new Array(n),o=new Array(n),a=new Array(e),s=null,l=0;l<n;l++)i[l]=t.min(r[l]).value,o[l]=t.max(r[l]).value;for(var c=0;c<e;c++){s=[];for(var d=0;d<n;d++)s[d]=Math.random()*(o[d]-i[d])+i[d];a[c]=s}return a},lr=function(t,e,r,n,i){for(var o=1/0,a=0,s=0;s<e.length;s++){var l=ar(r,t,e[s],n,i);l<o&&(o=l,a=s)}return a},cr=function(t,e,r){for(var n=[],i=null,o=0;o<e.length;o++)r[(i=e[o]).id()]===t&&n.push(i);return n},dr=function(t,e,r){for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)if(Math.abs(t[n][i]-e[n][i])>r)return!1;return!0},ur=function(t,e,r){for(var n=0;n<r;n++)if(t===e[n])return!0;return!1},pr=function(t,e){var r=new Array(e);if(t.length<50)for(var n=0;n<e;n++){for(var i=t[Math.floor(Math.random()*t.length)];ur(i,r,n);)i=t[Math.floor(Math.random()*t.length)];r[n]=i}else for(var o=0;o<e;o++)r[o]=t[Math.floor(Math.random()*t.length)];return r},hr=function(t,e,r){for(var n=0,i=0;i<e.length;i++)n+=ar("manhattan",e[i],t,r,"kMedoids");return n},fr=function(t,e,r,n,i){for(var o,a,s=0;s<e.length;s++)for(var l=0;l<t.length;l++)n[s][l]=Math.pow(r[s][l],i.m);for(var c=0;c<t.length;c++)for(var d=0;d<i.attributes.length;d++){o=0,a=0;for(var u=0;u<e.length;u++)o+=n[u][c]*i.attributes[d](e[u]),a+=n[u][c];t[c][d]=o/a}},gr=function(t,e,r,n,i){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var a,s,l,c=2/(i.m-1),d=0;d<r.length;d++)for(var u=0;u<n.length;u++){a=0;for(var p=0;p<r.length;p++)s=ar(i.distance,n[u],r[d],i.attributes,"cmeans"),l=ar(i.distance,n[u],r[p],i.attributes,"cmeans"),a+=Math.pow(s/l,c);t[u][d]=1/a}},mr=function(t){var e,r,n,i,o=this.cy(),a=this.nodes(),s=or(t);n=new Array(a.length);for(var l=0;l<a.length;l++)n[l]=new Array(s.k);r=new Array(a.length);for(var c=0;c<a.length;c++)r[c]=new Array(s.k);for(var d=0;d<a.length;d++){for(var u=0,p=0;p<s.k;p++)r[d][p]=Math.random(),u+=r[d][p];for(var h=0;h<s.k;h++)r[d][h]=r[d][h]/u}e=new Array(s.k);for(var f=0;f<s.k;f++)e[f]=new Array(s.attributes.length);i=new Array(a.length);for(var g=0;g<a.length;g++)i[g]=new Array(s.k);for(var m=!0,v=0;m&&v<s.maxIterations;)m=!1,fr(e,a,r,i,s),gr(r,n,e,a,s),dr(r,n,s.sensitivityThreshold)||(m=!0),v++;return{clusters:function(t,e,r,n){for(var i,o,a=new Array(r.k),s=0;s<a.length;s++)a[s]=[];for(var l=0;l<e.length;l++){i=-1/0,o=-1;for(var c=0;c<e[0].length;c++)e[l][c]>i&&(i=e[l][c],o=c);a[o].push(t[l])}for(var d=0;d<a.length;d++)a[d]=n.collection(a[d]);return a}(a,r,s,o),degreeOfMembership:r}},vr={kMeans:function(t){var e,r=this.cy(),n=this.nodes(),i=null,o=or(t),s=new Array(o.k),l={};e=o.testMode?"number"==typeof o.testCentroids?sr(n,o.k,o.attributes):"object"===a(o.testCentroids)?o.testCentroids:sr(n,o.k,o.attributes):sr(n,o.k,o.attributes);for(var c,d,u,p=!0,h=0;p&&h<o.maxIterations;){for(var f=0;f<n.length;f++)l[(i=n[f]).id()]=lr(i,e,o.distance,o.attributes,"kMeans");p=!1;for(var g=0;g<o.k;g++){var m=cr(g,n,l);if(0!==m.length){for(var v=o.attributes.length,y=e[g],b=new Array(v),x=new Array(v),w=0;w<v;w++){x[w]=0;for(var k=0;k<m.length;k++)i=m[k],x[w]+=o.attributes[w](i);b[w]=x[w]/m.length,c=b[w],d=y[w],u=o.sensitivityThreshold,Math.abs(d-c)<=u||(p=!0)}e[g]=b,s[g]=r.collection(m)}}h++}return s},kMedoids:function(t){var e,r,n=this.cy(),i=this.nodes(),o=null,s=or(t),l=new Array(s.k),c={},d=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(e="object"===a(s.testCentroids)?s.testCentroids:pr(i,s.k)):e=pr(i,s.k);for(var u=!0,p=0;u&&p<s.maxIterations;){for(var h=0;h<i.length;h++)c[(o=i[h]).id()]=lr(o,e,s.distance,s.attributes,"kMedoids");u=!1;for(var f=0;f<e.length;f++){var g=cr(f,i,c);if(0!==g.length){d[f]=hr(e[f],g,s.attributes);for(var m=0;m<g.length;m++)(r=hr(g[m],g,s.attributes))<d[f]&&(d[f]=r,e[f]=g[m],u=!0);l[f]=n.collection(g)}}p++}return l},fuzzyCMeans:mr,fcm:mr},yr=xt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),br={single:"min",complete:"max"},xr=function(t,e,r,n,i){for(var o,a=0,s=1/0,l=i.attributes,c=function(t,e){return nr(i.distance,l.length,(function(e){return l[e](t)}),(function(t){return l[t](e)}),t,e)},d=0;d<t.length;d++){var u=t[d].key,p=r[u][n[u]];p<s&&(a=u,s=p)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===t.length)return!1;var h,f=e[a],g=e[n[a]];h="dendrogram"===i.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},t[f.index]=h,t.splice(g.index,1),e[f.key]=h;for(var m=0;m<t.length;m++){var v=t[m];f.key===v.key?o=1/0:"min"===i.linkage?(o=r[f.key][v.key],r[f.key][v.key]>r[g.key][v.key]&&(o=r[g.key][v.key])):"max"===i.linkage?(o=r[f.key][v.key],r[f.key][v.key]<r[g.key][v.key]&&(o=r[g.key][v.key])):o="mean"===i.linkage?(r[f.key][v.key]*f.size+r[g.key][v.key]*g.size)/(f.size+g.size):"dendrogram"===i.mode?c(v.value,f.value):c(v.value[0],f.value[0]),r[f.key][v.key]=r[v.key][f.key]=o}for(var y=0;y<t.length;y++){var b=t[y].key;if(n[b]===f.key||n[b]===g.key){for(var x=b,w=0;w<t.length;w++){var k=t[w].key;r[b][k]<r[b][x]&&(x=k)}n[b]=x}t[y].index=y}return f.key=g.key=f.index=g.index=null,!0},wr=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},kr=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),o=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}return e.value?e.value.id():void 0},Cr=function t(e,r,n){if(!e)return[];var i=[],o=[],a=[];return 0===r?(e.left&&wr(e.left,i),e.right&&wr(e.right,o),a=i.concat(o),[n.collection(a)]):1===r?e.value?[n.collection(e.value)]:(e.left&&wr(e.left,i),e.right&&wr(e.right,o),[n.collection(i),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(o=t(e.right,r-1,n)),i.concat(o))},Sr=function(t){for(var e=this.cy(),r=this.nodes(),n=function(t){var e=yr(t),r=br[e.linkage];return null!=r&&(e.linkage=r),e}(t),i=n.attributes,o=function(t,e){return nr(n.distance,i.length,(function(e){return i[e](t)}),(function(t){return i[t](e)}),t,e)},a=[],s=[],l=[],c=[],d=0;d<r.length;d++){var u={value:"dendrogram"===n.mode?r[d]:[r[d]],key:d,index:d};a[d]=u,c[d]=u,s[d]=[],l[d]=0}for(var p=0;p<a.length;p++)for(var h=0;h<=p;h++){var f;f="dendrogram"===n.mode?p===h?1/0:o(a[p].value,a[h].value):p===h?1/0:o(a[p].value[0],a[h].value[0]),s[p][h]=f,s[h][p]=f,f<s[p][l[p]]&&(l[p]=h)}for(var g,m=xr(a,c,s,l,n);m;)m=xr(a,c,s,l,n);return"dendrogram"===n.mode?(g=Cr(a[0],n.dendrogramDepth,e),n.addDendrogram&&kr(a[0],e)):(g=new Array(a.length),a.forEach((function(t,r){t.key=t.index=null,g[r]=e.collection(t.value)}))),g},_r={hierarchicalClustering:Sr,hca:Sr},Tr=xt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Er=function(t,e,r,n){var i=function(t,e){return n[e](t)};return-nr(t,n.length,(function(t){return i(e,t)}),(function(t){return i(r,t)}),e,r)},Pr=function(t,e,r){for(var n=[],i=0;i<t;i++){for(var o=-1,a=-1/0,s=0;s<r.length;s++){var l=r[s];e[i*t+l]>a&&(o=l,a=e[i*t+l])}o>0&&n.push(o)}for(var c=0;c<r.length;c++)n[r[c]]=r[c];return n},Mr=function(t){for(var e,r,n,i,o,a,s=this.cy(),l=this.nodes(),c=function(t){var e=t.damping,r=t.preference;.5<=e&&e<1||ht("Damping must range on [0.5, 1).  Got: ".concat(e));var n=["median","mean","min","max"];return n.some((function(t){return t===r}))||C(r)||ht("Preference must be one of [".concat(n.map((function(t){return"'".concat(t,"'")})).join(", "),"] or a number.  Got: ").concat(r)),Tr(t)}(t),d={},u=0;u<l.length;u++)d[l[u].id()]=u;r=(e=l.length)*e,n=new Array(r);for(var p=0;p<r;p++)n[p]=-1/0;for(var h=0;h<e;h++)for(var f=0;f<e;f++)h!==f&&(n[h*e+f]=Er(c.distance,l[h],l[f],c.attributes));i=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(r<t.length&&t.splice(r,t.length-r),e>0&&t.splice(0,e)):t=t.slice(e,r);for(var o=0,a=t.length-1;a>=0;a--){var s=t[a];i?isFinite(s)||(t[a]=-1/0,o++):t.splice(a,1)}n&&t.sort((function(t,e){return t-e}));var l=t.length,c=Math.floor(l/2);return l%2!=0?t[c+1+o]:(t[c-1+o]+t[c+o])/2}(t):"mean"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,i=0,o=e;o<r;o++){var a=t[o];isFinite(a)&&(n+=a,i++)}return n/i}(t):"min"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=1/0,i=e;i<r;i++){var o=t[i];isFinite(o)&&(n=Math.min(o,n))}return n}(t):"max"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=-1/0,i=e;i<r;i++){var o=t[i];isFinite(o)&&(n=Math.max(o,n))}return n}(t):e}(n,c.preference);for(var g=0;g<e;g++)n[g*e+g]=i;o=new Array(r);for(var m=0;m<r;m++)o[m]=0;a=new Array(r);for(var v=0;v<r;v++)a[v]=0;for(var y=new Array(e),b=new Array(e),x=new Array(e),w=0;w<e;w++)y[w]=0,b[w]=0,x[w]=0;for(var k,S=new Array(e*c.minIterations),_=0;_<S.length;_++)S[_]=0;for(k=0;k<c.maxIterations;k++){for(var T=0;T<e;T++){for(var E=-1/0,P=-1/0,M=-1,D=0,A=0;A<e;A++)y[A]=o[T*e+A],(D=a[T*e+A]+n[T*e+A])>=E?(P=E,E=D,M=A):D>P&&(P=D);for(var L=0;L<e;L++)o[T*e+L]=(1-c.damping)*(n[T*e+L]-E)+c.damping*y[L];o[T*e+M]=(1-c.damping)*(n[T*e+M]-P)+c.damping*y[M]}for(var N=0;N<e;N++){for(var O=0,F=0;F<e;F++)y[F]=a[F*e+N],b[F]=Math.max(0,o[F*e+N]),O+=b[F];O-=b[N],b[N]=o[N*e+N],O+=b[N];for(var z=0;z<e;z++)a[z*e+N]=(1-c.damping)*Math.min(0,O-b[z])+c.damping*y[z];a[N*e+N]=(1-c.damping)*(O-b[N])+c.damping*y[N]}for(var I=0,B=0;B<e;B++){var R=a[B*e+B]+o[B*e+B]>0?1:0;S[k%c.minIterations*e+B]=R,I+=R}if(I>0&&(k>=c.minIterations-1||k==c.maxIterations-1)){for(var j=0,H=0;H<e;H++){x[H]=0;for(var G=0;G<c.minIterations;G++)x[H]+=S[G*e+H];0!==x[H]&&x[H]!==c.minIterations||j++}if(j===e)break}}for(var V=function(t,e,r){for(var n=[],i=0;i<t;i++)e[i*t+i]+r[i*t+i]>0&&n.push(i);return n}(e,o,a),W=function(t,e,r){for(var n=Pr(t,e,r),i=0;i<r.length;i++){for(var o=[],a=0;a<n.length;a++)n[a]===r[i]&&o.push(a);for(var s=-1,l=-1/0,c=0;c<o.length;c++){for(var d=0,u=0;u<o.length;u++)d+=e[o[u]*t+o[c]];d>l&&(s=c,l=d)}r[i]=o[s]}return Pr(t,e,r)}(e,n,V),U={},q=0;q<V.length;q++)U[V[q]]=[];for(var X=0;X<l.length;X++){var Y=W[d[l[X].id()]];null!=Y&&U[Y].push(l[X])}for(var K=new Array(V.length),$=0;$<V.length;$++)K[$]=s.collection(U[V[$]]);return K},Dr={affinityPropagation:Mr,ap:Mr},Ar=xt({root:void 0,directed:!1}),Lr=function(){var t=this,e={},r=0,n=0,i=[],o=[],a={},s=function s(l,c,d){l===d&&(n+=1),e[c]={id:r,low:r++,cutVertex:!1};var u,p,h,f,g=t.getElementById(c).connectedEdges().intersection(t);0===g.size()?i.push(t.spawn(t.getElementById(c))):g.forEach((function(r){u=r.source().id(),p=r.target().id(),(h=u===c?p:u)!==d&&(f=r.id(),a[f]||(a[f]=!0,o.push({x:c,y:h,edge:r})),h in e?e[c].low=Math.min(e[c].low,e[h].id):(s(l,h,c),e[c].low=Math.min(e[c].low,e[h].low),e[c].id<=e[h].low&&(e[c].cutVertex=!0,function(r,n){for(var a=o.length-1,s=[],l=t.spawn();o[a].x!=r||o[a].y!=n;)s.push(o.pop().edge),a--;s.push(o.pop().edge),s.forEach((function(r){var n=r.connectedNodes().intersection(t);l.merge(r),n.forEach((function(r){var n=r.id(),i=r.connectedEdges().intersection(t);l.merge(r),e[n].cutVertex?l.merge(i.filter((function(t){return t.isLoop()}))):l.merge(i)}))})),i.push(l)}(c,h))))}))};t.forEach((function(t){if(t.isNode()){var r=t.id();r in e||(n=0,s(r,r),e[r].cutVertex=n>1)}}));var l=Object.keys(e).filter((function(t){return e[t].cutVertex})).map((function(e){return t.getElementById(e)}));return{cut:t.spawn(l),components:i}},Nr=function(){var t=this,e={},r=0,n=[],i=[],o=t.spawn(t),a=function a(s){if(i.push(s),e[s]={index:r,low:r++,explored:!1},t.getElementById(s).connectedEdges().intersection(t).forEach((function(t){var r=t.target().id();r!==s&&(r in e||a(r),e[r].explored||(e[s].low=Math.min(e[s].low,e[r].low)))})),e[s].index===e[s].low){for(var l=t.spawn();;){var c=i.pop();if(l.merge(t.getElementById(c)),e[c].low=e[s].index,e[c].explored=!0,c===s)break}var d=l.edgesWith(l),u=l.merge(d);n.push(u),o=o.difference(u)}};return t.forEach((function(t){if(t.isNode()){var r=t.id();r in e||a(r)}})),{cut:o,components:n}},Or={};[Dt,Lt,Nt,Ft,It,Rt,Vt,Le,Oe,ze,Be,Ye,vr,_r,Dr,{hierholzer:function(t){if(!k(t)){var e=arguments;t={root:e[0],directed:e[1]}}var r,n,i,o=Ar(t),a=o.root,s=o.directed,l=this,c=!1;a&&(i=b(a)?this.filter(a)[0].id():a[0].id());var d={},u={};s?l.forEach((function(t){var e=t.id();if(t.isNode()){var i=t.indegree(!0),o=t.outdegree(!0),a=i-o,s=o-i;1==a?r?c=!0:r=e:1==s?n?c=!0:n=e:(s>1||a>1)&&(c=!0),d[e]=[],t.outgoers().forEach((function(t){t.isEdge()&&d[e].push(t.id())}))}else u[e]=[void 0,t.target().id()]})):l.forEach((function(t){var e=t.id();t.isNode()?(t.degree(!0)%2&&(r?n?c=!0:n=e:r=e),d[e]=[],t.connectedEdges().forEach((function(t){return d[e].push(t.id())}))):u[e]=[t.source().id(),t.target().id()]}));var p={found:!1,trail:void 0};if(c)return p;if(n&&r)if(s){if(i&&n!=i)return p;i=n}else{if(i&&n!=i&&r!=i)return p;i||(i=n)}else i||(i=l[0].id());var h=function(t){for(var e,r,n,i=t,o=[t];d[i].length;)e=d[i].shift(),r=u[e][0],i!=(n=u[e][1])?(d[n]=d[n].filter((function(t){return t!=e})),i=n):s||i==r||(d[r]=d[r].filter((function(t){return t!=e})),i=r),o.unshift(e),o.unshift(i);return o},f=[],g=[];for(g=h(i);1!=g.length;)0==d[g[0]].length?(f.unshift(l.getElementById(g.shift())),f.unshift(l.getElementById(g.shift()))):g=h(g.shift()).concat(g);for(var m in f.unshift(l.getElementById(g.shift())),d)if(d[m].length)return p;return p.found=!0,p.trail=this.spawn(f,!0),p}},{hopcroftTarjanBiconnected:Lr,htbc:Lr,htb:Lr,hopcroftTarjanBiconnectedComponents:Lr},{tarjanStronglyConnected:Nr,tsc:Nr,tscc:Nr,tarjanStronglyConnectedComponents:Nr}].forEach((function(t){R(Or,t)}));var Fr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Fr.prototype={fulfill:function(t){return zr(this,1,"fulfillValue",t)},reject:function(t){return zr(this,2,"rejectReason",t)},then:function(t,e){var r=this,n=new Fr;return r.onFulfilled.push(Rr(t,n,"fulfill")),r.onRejected.push(Rr(e,n,"reject")),Ir(r),n.proxy}};var zr=function(t,e,r,n){return 0===t.state&&(t.state=e,t[r]=n,Ir(t)),t},Ir=function(t){1===t.state?Br(t,"onFulfilled",t.fulfillValue):2===t.state&&Br(t,"onRejected",t.rejectReason)},Br=function(t,e,r){if(0!==t[e].length){var n=t[e];t[e]=[];var i=function(){for(var t=0;t<n.length;t++)n[t](r)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},Rr=function(t,e,r){return function(n){if("function"!=typeof t)e[r].call(e,n);else{var i;try{i=t(n)}catch(t){return void e.reject(t)}jr(e,i)}}},jr=function t(e,r){if(e!==r&&e.proxy!==r){var n;if("object"===a(r)&&null!==r||"function"==typeof r)try{n=r.then}catch(t){return void e.reject(t)}if("function"!=typeof n)e.fulfill(r);else{var i=!1;try{n.call(r,(function(n){i||(i=!0,n===r?e.reject(new TypeError("circular thenable chain")):t(e,n))}),(function(t){i||(i=!0,e.reject(t))}))}catch(t){i||e.reject(t)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Fr.all=function(t){return new Fr((function(e,r){for(var n=new Array(t.length),i=0,o=function(r,o){n[r]=o,++i===t.length&&e(n)},a=0;a<t.length;a++)!function(e){var n=t[e];null!=n&&null!=n.then?n.then((function(t){o(e,t)}),(function(t){r(t)})):o(e,n)}(a)}))},Fr.resolve=function(t){return new Fr((function(e,r){e(t)}))},Fr.reject=function(t){return new Fr((function(e,r){r(t)}))};var Hr="undefined"!=typeof Promise?Promise:Fr,Gr=function(t,e,r){var n=P(t),i=!n,o=this._private=R({duration:1e3},e,r);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&x(o.complete)&&o.completes.push(o.complete),i){var a=t.position();o.startPosition=o.startPosition||{x:a.x,y:a.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(n){var s=t.pan();o.startPan={x:s.x,y:s.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Vr=Gr.prototype;R(Vr,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),_(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,r=e.playing;return void 0===t?e.progress:(r&&this.pause(),e.progress=t,e.started=!1,r&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var r=function(e,r){var n=t[e];null!=n&&(t[e]=t[r],t[r]=n)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),t.style)for(var n=0;n<t.style.length;n++){var i=t.style[n],o=i.name,a=t.startStyle[o];t.startStyle[o]=i,t.style[n]=a}return e&&this.play(),this},promise:function(t){var e,r=this._private;switch(t){case"frame":e=r.frames;break;default:case"complete":case"completed":e=r.completes}return new Hr((function(t,r){e.push((function(){t()}))}))}}),Vr.complete=Vr.completed,Vr.run=Vr.play,Vr.running=Vr.playing;var Wr={};[{animated:function(){return function(){var t=this,e=void 0!==t.length?t:[t];if(!(this._private.cy||this).styleEnabled())return!1;var r=e[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=this,e=void 0!==t.length?t:[t];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<e.length;r++)e[r]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var r=this,n=void 0!==r.length,i=n?r:[r],o=this._private.cy||this,a=!n,s=!a;if(!o.styleEnabled())return this;var l=o.style();if(t=R({},t,e),0===Object.keys(t).length)return new Gr(i[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(s&&(t.style=l.getPropsList(t.style||t.css),t.css=void 0),s&&null!=t.renderedPosition){var c=t.renderedPosition,d=o.pan(),u=o.zoom();t.position=Ut(c,u,d)}if(a&&null!=t.panBy){var p=t.panBy,h=o.pan();t.pan={x:h.x+p.x,y:h.y+p.y}}var f=t.center||t.centre;if(a&&null!=f){var g=o.getCenterPan(f.eles,t.zoom);null!=g&&(t.pan=g)}if(a&&null!=t.fit){var m=t.fit,v=o.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(t.pan=v.pan,t.zoom=v.zoom)}if(a&&k(t.zoom)){var y=o.getZoomedViewport(t.zoom);null!=y?(y.zoomed&&(t.zoom=y.zoom),y.panned&&(t.pan=y.pan)):t.zoom=null}return new Gr(i[0],t)}},animate:function(){return function(t,e){var r=this,n=void 0!==r.length?r:[r];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=R({},t,e));for(var i=0;i<n.length;i++){var o=n[i],a=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var r=this,n=void 0!==r.length?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<n.length;o++){for(var a=n[o]._private,s=a.animation.current,l=0;l<s.length;l++){var c=s[l]._private;e&&(c.duration=0)}t&&(a.animation.queue=[]),e||(a.animation.current=[])}return i.notify("draw"),this}}},{data:function(t){return t=R({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,r){var n=t,i=this,o=void 0!==i.length,a=o?i:[i],s=o?i[0]:i;if(b(e)){var l;if(n.allowGetting&&void 0===r)return s&&(n.beforeGet(s),l=s._private[n.field][e]),l;if(n.allowSetting&&void 0!==r&&!n.immutableKeys[e]){var c=d({},e,r);n.beforeSet(i,c);for(var u=0,p=a.length;u<p;u++){var h=a[u];n.canSet(h)&&(h._private[n.field][e]=r)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&k(e)){var f,g,m=e,v=Object.keys(m);n.beforeSet(i,m);for(var y=0;y<v.length;y++)if(g=m[f=v[y]],!n.immutableKeys[f])for(var w=0;w<a.length;w++){var C=a[w];n.canSet(C)&&(C._private[n.field][f]=g)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&x(e)){var S=e;i.on(n.bindingEvent,S)}else if(n.allowGetting&&void 0===e){var _;return s&&(n.beforeGet(s),_=s._private[n.field]),_}return i}},removeData:function(t){return t=R({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var r=t,n=this,i=void 0!==n.length?n:[n];if(b(e)){for(var o=e.split(/\s+/),a=o.length,s=0;s<a;s++){var l=o[s];if(!D(l)&&!r.immutableKeys[l])for(var c=0,d=i.length;c<d;c++)i[c]._private[r.field][l]=void 0}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(void 0===e){for(var u=0,p=i.length;u<p;u++)for(var h=i[u]._private[r.field],f=Object.keys(h),g=0;g<f.length;g++){var m=f[g];!r.immutableKeys[m]&&(h[m]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var r=this,n=Array.prototype.slice.call(arguments,0);return new Hr((function(t,e){var i=n.concat([function(e){r.off.apply(r,o),t(e)}]),o=i.concat([]);r.on.apply(r,i)}))}}}].forEach((function(t){R(Wr,t)}));var Ur={animate:Wr.animate(),animation:Wr.animation(),animated:Wr.animated(),clearQueue:Wr.clearQueue(),delay:Wr.delay(),delayAnimation:Wr.delayAnimation(),stop:Wr.stop()},qr={classes:function(t){var e=this;if(void 0===t){var r=[];return e[0]._private.classes.forEach((function(t){return r.push(t)})),r}w(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],i=new Et(t),o=0;o<e.length;o++){for(var a=e[o],s=a._private,l=s.classes,c=!1,d=0;d<t.length;d++){var u=t[d];if(!l.has(u)){c=!0;break}}c||(c=l.size!==t.length),c&&(s.classes=i,n.push(a))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){w(t)||(t=t.match(/\S+/g)||[]);for(var r=this,n=void 0===e,i=[],o=0,a=r.length;o<a;o++)for(var s=r[o],l=s._private.classes,c=!1,d=0;d<t.length;d++){var u=t[d],p=l.has(u),h=!1;e||n&&!p?(l.add(u),h=!0):(!e||n&&p)&&(l.delete(u),h=!0),!c&&h&&(i.push(s),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var r=this;if(null==e)e=250;else if(0===e)return r;return r.addClass(t),setTimeout((function(){r.removeClass(t)}),e),r}};qr.className=qr.classNames=qr.classes;var Xr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:I,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Xr.variable="(?:[\\w-]|(?:\\\\"+Xr.metaChar+"))+",Xr.value=Xr.string+"|"+Xr.number,Xr.className=Xr.variable,Xr.id=Xr.variable,function(){var t,e,r;for(t=Xr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Xr.comparatorOp+="|@"+e;for(t=Xr.comparatorOp.split("|"),r=0;r<t.length;r++)(e=t[r]).indexOf("!")>=0||"="!==e&&(Xr.comparatorOp+="|\\!"+e)}();var Yr=20,Kr=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort((function(t,e){return function(t,e){return-1*B(t,e)}(t.selector,e.selector)})),$r=function(){for(var t,e={},r=0;r<Kr.length;r++)e[(t=Kr[r]).selector]=t.matches;return e}(),Zr="("+Kr.map((function(t){return t.selector})).join("|")+")",Qr=function(t){return t.replace(new RegExp("\\\\("+Xr.metaChar+")","g"),(function(t,e){return e}))},Jr=function(t,e,r){t[t.length-1]=r},tn=[{name:"group",query:!0,regex:"("+Xr.group+")",populate:function(t,e,r){var n=u(r,1)[0];e.checks.push({type:0,value:"*"===n?n:n+"s"})}},{name:"state",query:!0,regex:Zr,populate:function(t,e,r){var n=u(r,1)[0];e.checks.push({type:7,value:n})}},{name:"id",query:!0,regex:"\\#("+Xr.id+")",populate:function(t,e,r){var n=u(r,1)[0];e.checks.push({type:8,value:Qr(n)})}},{name:"className",query:!0,regex:"\\.("+Xr.className+")",populate:function(t,e,r){var n=u(r,1)[0];e.checks.push({type:9,value:Qr(n)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Xr.variable+")\\s*\\]",populate:function(t,e,r){var n=u(r,1)[0];e.checks.push({type:4,field:Qr(n)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Xr.variable+")\\s*("+Xr.comparatorOp+")\\s*("+Xr.value+")\\s*\\]",populate:function(t,e,r){var n=u(r,3),i=n[0],o=n[1],a=n[2];a=null!=new RegExp("^"+Xr.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:3,field:Qr(i),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Xr.boolOp+")\\s*("+Xr.variable+")\\s*\\]",populate:function(t,e,r){var n=u(r,2),i=n[0],o=n[1];e.checks.push({type:5,field:Qr(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Xr.meta+")\\s*("+Xr.comparatorOp+")\\s*("+Xr.number+")\\s*\\]\\]",populate:function(t,e,r){var n=u(r,3),i=n[0],o=n[1],a=n[2];e.checks.push({type:6,field:Qr(i),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:Xr.separator,populate:function(t,e){var r=t.currentSubject,n=t.edgeCount,i=t.compoundCount,o=t[t.length-1];return null!=r&&(o.subject=r,t.currentSubject=null),o.edgeCount=n,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Xr.directedEdge,populate:function(t,e){if(null==t.currentSubject){var r={checks:[]},n=e,i={checks:[]};return r.checks.push({type:11,source:n,target:i}),Jr(t,0,r),t.edgeCount++,i}var o={checks:[]},a=e,s={checks:[]};return o.checks.push({type:12,source:a,target:s}),Jr(t,0,o),t.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:Xr.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var r={checks:[]},n=e,i={checks:[]};return r.checks.push({type:10,nodes:[n,i]}),Jr(t,0,r),t.edgeCount++,i}var o={checks:[]},a=e,s={checks:[]};return o.checks.push({type:14,node:a,neighbor:s}),Jr(t,0,o),s}},{name:"child",separator:!0,regex:Xr.child,populate:function(t,e){if(null==t.currentSubject){var r={checks:[]},n={checks:[]},i=t[t.length-1];return r.checks.push({type:15,parent:i,child:n}),Jr(t,0,r),t.compoundCount++,n}if(t.currentSubject===e){var o={checks:[]},a=t[t.length-1],s={checks:[]},l={checks:[]},c={checks:[]},d={checks:[]};return o.checks.push({type:19,left:a,right:s,subject:l}),l.checks=e.checks,e.checks=[{type:Yr}],d.checks.push({type:Yr}),s.checks.push({type:17,parent:d,child:c}),Jr(t,0,o),t.currentSubject=l,t.compoundCount++,c}var u={checks:[]},p={checks:[]},h=[{type:17,parent:u,child:p}];return u.checks=e.checks,e.checks=h,t.compoundCount++,p}},{name:"descendant",separator:!0,regex:Xr.descendant,populate:function(t,e){if(null==t.currentSubject){var r={checks:[]},n={checks:[]},i=t[t.length-1];return r.checks.push({type:16,ancestor:i,descendant:n}),Jr(t,0,r),t.compoundCount++,n}if(t.currentSubject===e){var o={checks:[]},a=t[t.length-1],s={checks:[]},l={checks:[]},c={checks:[]},d={checks:[]};return o.checks.push({type:19,left:a,right:s,subject:l}),l.checks=e.checks,e.checks=[{type:Yr}],d.checks.push({type:Yr}),s.checks.push({type:18,ancestor:d,descendant:c}),Jr(t,0,o),t.currentSubject=l,t.compoundCount++,c}var u={checks:[]},p={checks:[]},h=[{type:18,ancestor:u,descendant:p}];return u.checks=e.checks,e.checks=h,t.compoundCount++,p}},{name:"subject",modifier:!0,regex:Xr.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return gt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var r=t[t.length-1].checks[0],n=null==r?null:r.type;11===n?r.type=13:10===n&&(r.type=14,r.node=r.nodes[1],r.neighbor=r.nodes[0],r.nodes=null)}}];tn.forEach((function(t){return t.regexObj=new RegExp("^"+t.regex)}));var en=function(t){for(var e,r,n,i=0;i<tn.length;i++){var o=tn[i],a=o.name,s=t.match(o.regexObj);if(null!=s){r=s,e=o,n=a;var l=s[0];t=t.substring(l.length);break}}return{expr:e,match:r,name:n,remaining:t}},rn={parse:function(t){var e=this,r=e.inputText=t,n=e[0]={checks:[]};for(e.length=1,r=function(t){var e=t.match(/^\s+/);if(e){var r=e[0];t=t.substring(r.length)}return t}(r);;){var i=en(r);if(null==i.expr)return gt("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),a=i.expr.populate(e,n,o);if(!1===a)return!1;if(null!=a&&(n=a),(r=i.remaining).match(/^\s*$/))break}var s=e[e.length-1];null!=e.currentSubject&&(s.subject=e.currentSubject),s.edgeCount=e.edgeCount,s.compoundCount=e.compoundCount;for(var l=0;l<e.length;l++){var c=e[l];if(c.compoundCount>0&&c.edgeCount>0)return gt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return gt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===c.edgeCount&&gt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return b(e)?'"'+e+'"':t(e)},r=function(t){return" "+t+" "},n=function(i,o){return i.checks.reduce((function(a,s,l){return a+(o===i&&0===l?"$":"")+function(i,o){var a=i.type,s=i.value;switch(a){case 0:var l=t(s);return l.substring(0,l.length-1);case 3:var c=i.field,d=i.operator;return"["+c+r(t(d))+e(s)+"]";case 5:var u=i.operator,p=i.field;return"["+t(u)+p+"]";case 4:return"["+i.field+"]";case 6:var h=i.operator;return"[["+i.field+r(t(h))+e(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return n(i.parent,o)+r(">")+n(i.child,o);case 18:case 16:return n(i.ancestor,o)+" "+n(i.descendant,o);case 19:var f=n(i.left,o),g=n(i.subject,o),m=n(i.right,o);return f+(f.length>0?" ":"")+g+m;case Yr:return""}}(s,o)}),"")},i="",o=0;o<this.length;o++){var a=this[o];i+=n(a,a.subject),this.length>1&&o<this.length-1&&(i+=", ")}return this.toStringCache=i,i}},nn=function(t,e,r){var n,i,o,a=b(t),s=C(t),l=b(r),c=!1,d=!1,u=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),d=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),c=!0),(a||l||c)&&(i=a||s?""+t:"",o=""+r),c&&(t=i=i.toLowerCase(),r=o=o.toLowerCase()),e){case"*=":n=i.indexOf(o)>=0;break;case"$=":n=i.indexOf(o,i.length-o.length)>=0;break;case"^=":n=0===i.indexOf(o);break;case"=":n=t===r;break;case">":u=!0,n=t>r;break;case">=":u=!0,n=t>=r;break;case"<":u=!0,n=t<r;break;case"<=":u=!0,n=t<=r;break;default:n=!1}return!d||null==t&&u||(n=!n),n},on=function(t,e){return t.data(e)},an=[],sn=function(t,e){return t.checks.every((function(t){return an[t.type](t,e)}))};an[0]=function(t,e){var r=t.value;return"*"===r||r===e.group()},an[7]=function(t,e){return function(t,e){return $r[t](e)}(t.value,e)},an[8]=function(t,e){var r=t.value;return e.id()===r},an[9]=function(t,e){var r=t.value;return e.hasClass(r)},an[6]=function(t,e){var r=t.field,n=t.operator,i=t.value;return nn(function(t,e){return t[e]()}(e,r),n,i)},an[3]=function(t,e){var r=t.field,n=t.operator,i=t.value;return nn(on(e,r),n,i)},an[5]=function(t,e){var r=t.field,n=t.operator;return function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return void 0===t}}(on(e,r),n)},an[4]=function(t,e){var r=t.field;return t.operator,void 0!==on(e,r)},an[10]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),o=e.target();return sn(r,i)&&sn(n,o)||sn(n,i)&&sn(r,o)},an[14]=function(t,e){return sn(t.node,e)&&e.neighborhood().some((function(e){return e.isNode()&&sn(t.neighbor,e)}))},an[11]=function(t,e){return sn(t.source,e.source())&&sn(t.target,e.target())},an[12]=function(t,e){return sn(t.source,e)&&e.outgoers().some((function(e){return e.isNode()&&sn(t.target,e)}))},an[13]=function(t,e){return sn(t.target,e)&&e.incomers().some((function(e){return e.isNode()&&sn(t.source,e)}))},an[15]=function(t,e){return sn(t.child,e)&&sn(t.parent,e.parent())},an[17]=function(t,e){return sn(t.parent,e)&&e.children().some((function(e){return sn(t.child,e)}))},an[16]=function(t,e){return sn(t.descendant,e)&&e.ancestors().some((function(e){return sn(t.ancestor,e)}))},an[18]=function(t,e){return sn(t.ancestor,e)&&e.descendants().some((function(e){return sn(t.descendant,e)}))},an[19]=function(t,e){return sn(t.subject,e)&&sn(t.left,e)&&sn(t.right,e)},an[20]=function(){return!0},an[1]=function(t,e){return t.value.has(e)},an[2]=function(t,e){return(0,t.value)(e)};var ln=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||b(t)&&t.match(/^\s*$/)||(_(t)?this.addQuery({checks:[{type:1,value:t.collection()}]}):x(t)?this.addQuery({checks:[{type:2,value:t}]}):b(t)?this.parse(t)||(this.invalid=!0):ht("A selector must be created from a string; found "))},cn=ln.prototype;[rn,{matches:function(t){for(var e=0;e<this.length;e++){var r=this[e];if(sn(r,t))return!0}return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&8===e[0].checks[0].type)return t.getElementById(e[0].checks[0].value).collection();var r=function(t){for(var r=0;r<e.length;r++){var n=e[r];if(sn(n,t))return!0}return!1};return null==e.text()&&(r=function(){return!0}),t.filter(r)}}].forEach((function(t){return R(cn,t)})),cn.text=function(){return this.inputText},cn.size=function(){return this.length},cn.eq=function(t){return this[t]},cn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},cn.addQuery=function(t){this[this.length++]=t},cn.selector=cn.toString;var dn={allAre:function(t){var e=new ln(t);return this.every((function(t){return e.matches(t)}))},is:function(t){var e=new ln(t);return this.some((function(t){return e.matches(t)}))},some:function(t,e){for(var r=0;r<this.length;r++)if(e?t.apply(e,[this[r],r,this]):t(this[r],r,this))return!0;return!1},every:function(t,e){for(var r=0;r<this.length;r++)if(!(e?t.apply(e,[this[r],r,this]):t(this[r],r,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every((function(e){return t.hasElementWithId(e.id())})))},anySame:function(t){return t=this.cy().collection(t),this.some((function(e){return t.hasElementWithId(e.id())}))},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every((function(t){return e.hasElementWithId(t.id())}))},contains:function(t){t=this.cy().collection(t);var e=this;return t.every((function(t){return e.hasElementWithId(t.id())}))}};dn.allAreNeighbours=dn.allAreNeighbors,dn.has=dn.contains,dn.equal=dn.equals=dn.same;var un,pn,hn=function(t,e){return function(r,n,i,o){var a,s=r,l=this;if(null==s?a="":_(s)&&1===s.length&&(a=s.id()),1===l.length&&a){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},u=d[e]=d[e]||[],p=rt(a);return u[p]||(u[p]=t.call(l,r,n,i,o))}return t.call(l,r,n,i,o)}},fn={parent:function(t){var e=[];if(1===this.length){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n]._private.parent;i&&e.push(i)}return this.spawn(e,!0).filter(t)},parents:function(t){for(var e=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}r=r.parent()}return this.spawn(e,!0).filter(t)},commonAncestors:function(t){for(var e,r=0;r<this.length;r++){var n=this[r].parents();e=(e=e||n).intersect(n)}return e.filter(t)},orphans:function(t){return this.stdFilter((function(t){return t.isOrphan()})).filter(t)},nonorphans:function(t){return this.stdFilter((function(t){return t.isChild()})).filter(t)},children:hn((function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r]._private.children,i=0;i<n.length;i++)e.push(n[i]);return this.spawn(e,!0).filter(t)}),"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i),i.children().nonempty()&&t(i.children())}}(this.children()),this.spawn(e,!0).filter(t)}};function gn(t,e,r,n){for(var i=[],o=new Et,a=t.cy().hasCompoundNodes(),s=0;s<t.length;s++){var l=t[s];r?i.push(l):a&&n(i,o,l)}for(;i.length>0;){var c=i.shift();e(c),o.add(c.id()),a&&n(i,o,c)}return t}function mn(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||t.push(o)}}function vn(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}function yn(t,e,r){vn(t,e,r),mn(t,e,r)}fn.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gn(this,t,e,mn)},fn.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gn(this,t,e,vn)},fn.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gn(this,t,e,yn)},fn.ancestors=fn.parents,(un=pn={data:Wr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Wr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Wr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Wr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Wr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=un.data,un.removeAttr=un.removeData;var bn,xn,wn=pn,kn={};function Cn(t){return function(e){var r=this;if(void 0===e&&(e=!0),0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(n+=t(i,s))}return n}}}function Sn(t,e){return function(r){for(var n,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][t](r);void 0===a||void 0!==n&&!e(a,n)||(n=a)}return n}}R(kn,{degree:Cn((function(t,e){return e.source().same(e.target())?2:1})),indegree:Cn((function(t,e){return e.target().same(t)?1:0})),outdegree:Cn((function(t,e){return e.source().same(t)?1:0}))}),R(kn,{minDegree:Sn("degree",(function(t,e){return t<e})),maxDegree:Sn("degree",(function(t,e){return t>e})),minIndegree:Sn("indegree",(function(t,e){return t<e})),maxIndegree:Sn("indegree",(function(t,e){return t>e})),minOutdegree:Sn("outdegree",(function(t,e){return t<e})),maxOutdegree:Sn("outdegree",(function(t,e){return t>e}))}),R(kn,{totalDegree:function(t){for(var e=0,r=this.nodes(),n=0;n<r.length;n++)e+=r[n].degree(t);return e}});var _n=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if(!i.locked()){var o=i._private.position,a={x:null!=e.x?e.x-o.x:0,y:null!=e.y?e.y-o.y:0};!i.isParent()||0===a.x&&0===a.y||i.children().shift(a,r),i.dirtyBoundingBoxCache()}}},Tn={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){_n(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(bn=xn={position:Wr.data(Tn),silentPosition:Wr.data(R({},Tn,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){_n(t,e,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,e){if(k(t))e?this.silentPosition(t):this.position(t);else if(x(t)){var r=t,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var o,a=this[i];(o=r(a,i))&&(e?a.silentPosition(o):a.position(o))}n.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,r){var n;if(k(t)?(n={x:C(t.x)?t.x:0,y:C(t.y)?t.y:0},r=e):b(t)&&C(e)&&((n={x:0,y:0})[t]=e),null!=n){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=a.position(),l={x:s.x+n.x,y:s.y+n.y};r?a.silentPosition(l):a.position(l)}i.endBatch()}return this},silentShift:function(t,e){return k(t)?this.shift(t,!0):b(t)&&C(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var r=this[0],n=this.cy(),i=n.zoom(),o=n.pan(),a=k(t)?t:void 0,s=void 0!==a||void 0!==e&&b(t);if(r&&r.isNode()){if(!s){var l=r.position();return a=Wt(l,i,o),void 0===t?a:a[t]}for(var c=0;c<this.length;c++){var d=this[c];void 0!==e?d.position(t,(e-o[t])/i):void 0!==a&&d.position(Ut(a,i,o))}}else if(!s)return;return this},relativePosition:function(t,e){var r=this[0],n=this.cy(),i=k(t)?t:void 0,o=void 0!==i||void 0!==e&&b(t),a=n.hasCompoundNodes();if(r&&r.isNode()){if(!o){var s=r.position(),l=a?r.parent():null,c=l&&l.length>0,d=c;c&&(l=l[0]);var u=d?l.position():{x:0,y:0};return i={x:s.x-u.x,y:s.y-u.y},void 0===t?i:i[t]}for(var p=0;p<this.length;p++){var h=this[p],f=a?h.parent():null,g=f&&f.length>0,m=g;g&&(f=f[0]);var v=m?f.position():{x:0,y:0};void 0!==e?h.position(t,e+v[t]):void 0!==i&&h.position({x:i.x+v.x,y:i.y+v.y})}}else if(!o)return;return this}}).modelPosition=bn.point=bn.position,bn.modelPositions=bn.points=bn.positions,bn.renderedPoint=bn.renderedPosition,bn.relativePoint=bn.relativePosition;var En,Pn,Mn=xn;En=Pn={},Pn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),o=e.x1*n+i.x,a=e.x2*n+i.x,s=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},Pn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp((function(e){if(e.isParent()){var r=e._private;r.compoundBoundsClean=!1,r.bbCache=null,t||e.emitAndNotify("bounds")}})),this):this},Pn.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(t){if(t.isParent()){var e=t._private,r=t.children(),n="include"===t.pstyle("compound-sizing-wrt-labels").value,i={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=r.boundingBox({includeLabels:n,includeOverlays:!1,useCache:!1}),a=e.position;0!==o.w&&0!==o.h||((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var c=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(c=100*c/i.height.val);var d=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(d=100*d/i.height.val);var u=v(i.width.val-o.w,s,l),p=u.biasDiff,h=u.biasComplementDiff,f=v(i.height.val-o.h,c,d),g=f.biasDiff,m=f.biasComplementDiff;e.autoPadding=function(t,e,r,n){if("%"!==r.units)return"px"===r.units?r.pfValue:0;switch(n){case"width":return t>0?r.pfValue*t:0;case"height":return e>0?r.pfValue*e:0;case"average":return t>0&&e>0?r.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?r.pfValue*e:r.pfValue*t:0;case"max":return t>0&&e>0?t>e?r.pfValue*t:r.pfValue*e:0;default:return 0}}(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,i.width.val),a.x=(-p+o.x1+o.x2+h)/2,e.autoHeight=Math.max(o.h,i.height.val),a.y=(-g+o.y1+o.y2+m)/2}function v(t,e,r){var n=0,i=0,o=e+r;return t>0&&o>0&&(n=e/o*t,i=r/o*t),{biasDiff:n,biasComplementDiff:i}}}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;o.compoundBoundsClean&&!t||(r(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Dn=function(t){return t===1/0||t===-1/0?0:t},An=function(t,e,r,n,i){n-e!=0&&i-r!=0&&null!=e&&null!=r&&null!=n&&null!=i&&(t.x1=e<t.x1?e:t.x1,t.x2=n>t.x2?n:t.x2,t.y1=r<t.y1?r:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Ln=function(t,e){return null==e?t:An(t,e.x1,e.y1,e.x2,e.y2)},Nn=function(t,e,r){return Ct(t,e,r)},On=function(t,e,r){if(!e.cy().headless()){var n,i,o=e._private,a=o.rstyle,s=a.arrowWidth/2;if("none"!==e.pstyle(r+"-arrow-shape").value){"source"===r?(n=a.srcX,i=a.srcY):"target"===r?(n=a.tgtX,i=a.tgtY):(n=a.midX,i=a.midY);var l=o.arrowBounds=o.arrowBounds||{},c=l[r]=l[r]||{};c.x1=n-s,c.y1=i-s,c.x2=n+s,c.y2=i+s,c.w=c.x2-c.x1,c.h=c.y2-c.y1,ie(c,1),An(t,c.x1,c.y1,c.x2,c.y2)}}},Fn=function(t,e,r){if(!e.cy().headless()){var n;n=r?r+"-":"";var i=e._private,o=i.rstyle;if(e.pstyle(n+"label").strValue){var a,s,l,c,d=e.pstyle("text-halign"),u=e.pstyle("text-valign"),p=Nn(o,"labelWidth",r),h=Nn(o,"labelHeight",r),f=Nn(o,"labelX",r),g=Nn(o,"labelY",r),m=e.pstyle(n+"text-margin-x").pfValue,v=e.pstyle(n+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(n+"text-rotation"),x=e.pstyle("text-outline-width").pfValue,w=e.pstyle("text-border-width").pfValue/2,k=e.pstyle("text-background-padding").pfValue,C=h,S=p,_=S/2,T=C/2;if(y)a=f-_,s=f+_,l=g-T,c=g+T;else{switch(d.value){case"left":a=f-S,s=f;break;case"center":a=f-_,s=f+_;break;case"right":a=f,s=f+S}switch(u.value){case"top":l=g-C,c=g;break;case"center":l=g-T,c=g+T;break;case"bottom":l=g,c=g+C}}a+=m-Math.max(x,w)-k-2,s+=m+Math.max(x,w)+k+2,l+=v-Math.max(x,w)-k-2,c+=v+Math.max(x,w)+k+2;var E=r||"main",P=i.labelBounds,M=P[E]=P[E]||{};M.x1=a,M.y1=l,M.x2=s,M.y2=c,M.w=s-a,M.h=c-l;var D=y&&"autorotate"===b.strValue,A=null!=b.pfValue&&0!==b.pfValue;if(D||A){var L=D?Nn(i.rstyle,"labelAngle",r):b.pfValue,N=Math.cos(L),O=Math.sin(L),F=(a+s)/2,z=(l+c)/2;if(!y){switch(d.value){case"left":F=s;break;case"right":F=a}switch(u.value){case"top":z=c;break;case"bottom":z=l}}var I=function(t,e){return{x:(t-=F)*N-(e-=z)*O+F,y:t*O+e*N+z}},B=I(a,l),R=I(a,c),j=I(s,l),H=I(s,c);a=Math.min(B.x,R.x,j.x,H.x),s=Math.max(B.x,R.x,j.x,H.x),l=Math.min(B.y,R.y,j.y,H.y),c=Math.max(B.y,R.y,j.y,H.y)}var G=E+"Rot",V=P[G]=P[G]||{};V.x1=a,V.y1=l,V.x2=s,V.y2=c,V.w=s-a,V.h=c-l,An(t,a,l,s,c),An(i.labelBounds.all,a,l,s,c)}return t}},zn=function(t){var e=0,r=function(t){return(t?1:0)<<e++},n=0;return n+=r(t.incudeNodes),n+=r(t.includeEdges),n+=r(t.includeLabels),n+=r(t.includeMainLabels),n+=r(t.includeSourceLabels),(n+=r(t.includeTargetLabels))+r(t.includeOverlays)},In=function(t){if(t.isEdge()){var e=t.source().position(),r=t.target().position(),n=function(t){return Math.round(t)};return function(t,e){var r={value:0,done:!1},n=0,i=t.length;return Z({next:function(){return n<i?r.value=t[n++]:r.done=!0,r}},void 0)}([n(e.x),n(e.y),n(r.x),n(r.y)])}return 0},Bn=function(t,e){var r,n=t._private,i=t.isEdge(),o=(null==e?jn:zn(e))===jn,a=In(t),s=n.bbCachePosKey===a,l=e.useCache&&s,c=function(t){return null==t._private.bbCache||t._private.styleDirty};if(!l||c(t)||i&&c(t.source())||c(t.target())?(s||t.recalculateRenderedStyle(l),r=function(t,e){var r,n,i,o,a,s,l,c=t._private.cy,d=c.styleEnabled(),u=c.headless(),p=re(),h=t._private,f=t.isNode(),g=t.isEdge(),m=h.rstyle,v=f&&d?t.pstyle("bounds-expansion").pfValue:[0],y=function(t){return"none"!==t.pstyle("display").value},b=!d||y(t)&&(!g||y(t.source())&&y(t.target()));if(b){var x=0;d&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(x=t.pstyle("overlay-padding").value);var w=0;if(d&&(w=t.pstyle("width").pfValue/2),f&&e.includeNodes){var k=t.position();a=k.x,s=k.y;var C=t.outerWidth()/2,S=t.outerHeight()/2;An(p,r=a-C,i=s-S,n=a+C,o=s+S)}else if(g&&e.includeEdges)if(d&&!u){var _=t.pstyle("curve-style").strValue;if(r=Math.min(m.srcX,m.midX,m.tgtX),n=Math.max(m.srcX,m.midX,m.tgtX),i=Math.min(m.srcY,m.midY,m.tgtY),o=Math.max(m.srcY,m.midY,m.tgtY),An(p,r-=w,i-=w,n+=w,o+=w),"haystack"===_){var T=m.haystackPts;if(T&&2===T.length){if(r=T[0].x,i=T[0].y,r>(n=T[1].x)){var E=r;r=n,n=E}if(i>(o=T[1].y)){var P=i;i=o,o=P}An(p,r-w,i-w,n+w,o+w)}}else if("bezier"===_||"unbundled-bezier"===_||"segments"===_||"taxi"===_){var M;switch(_){case"bezier":case"unbundled-bezier":M=m.bezierPts;break;case"segments":case"taxi":M=m.linePts}if(null!=M)for(var D=0;D<M.length;D++){var A=M[D];r=A.x-w,n=A.x+w,i=A.y-w,o=A.y+w,An(p,r,i,n,o)}}}else{var L=t.source().position(),N=t.target().position();if((r=L.x)>(n=N.x)){var O=r;r=n,n=O}if((i=L.y)>(o=N.y)){var F=i;i=o,o=F}An(p,r-=w,i-=w,n+=w,o+=w)}if(d&&e.includeEdges&&g&&(On(p,t,"mid-source"),On(p,t,"mid-target"),On(p,t,"source"),On(p,t,"target")),d&&"yes"===t.pstyle("ghost").value){var z=t.pstyle("ghost-offset-x").pfValue,I=t.pstyle("ghost-offset-y").pfValue;An(p,p.x1+z,p.y1+I,p.x2+z,p.y2+I)}var B=h.bodyBounds=h.bodyBounds||{};ae(B,p),oe(B,v),ie(B,1),d&&(r=p.x1,n=p.x2,i=p.y1,o=p.y2,An(p,r-x,i-x,n+x,o+x));var R=h.overlayBounds=h.overlayBounds||{};ae(R,p),oe(R,v),ie(R,1);var j=h.labelBounds=h.labelBounds||{};null!=j.all?((l=j.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):j.all=re(),d&&e.includeLabels&&(e.includeMainLabels&&Fn(p,t,null),g&&(e.includeSourceLabels&&Fn(p,t,"source"),e.includeTargetLabels&&Fn(p,t,"target")))}return p.x1=Dn(p.x1),p.y1=Dn(p.y1),p.x2=Dn(p.x2),p.y2=Dn(p.y2),p.w=Dn(p.x2-p.x1),p.h=Dn(p.y2-p.y1),p.w>0&&p.h>0&&b&&(oe(p,v),ie(p,1)),p}(t,Rn),n.bbCache=r,n.bbCachePosKey=a):r=n.bbCache,!o){var d=t.isNode();r=re(),(e.includeNodes&&d||e.includeEdges&&!d)&&(e.includeOverlays?Ln(r,n.overlayBounds):Ln(r,n.bodyBounds)),e.includeLabels&&(e.includeMainLabels&&(!i||e.includeSourceLabels&&e.includeTargetLabels)?Ln(r,n.labelBounds.all):(e.includeMainLabels&&Ln(r,n.labelBounds.mainRot),e.includeSourceLabels&&Ln(r,n.labelBounds.sourceRot),e.includeTargetLabels&&Ln(r,n.labelBounds.targetRot))),r.w=r.x2-r.x1,r.h=r.y2-r.y1}return r},Rn={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},jn=zn(Rn),Hn=xt(Rn);Pn.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=re();var r=Hn(t=t||Rn),n=this;if(n.cy().styleEnabled())for(var i=0;i<n.length;i++){var o=n[i],a=o._private,s=In(o),l=a.bbCachePosKey===s,c=r.useCache&&l&&!a.styleDirty;o.recalculateRenderedStyle(c)}this.updateCompoundBounds(!t.useCache);for(var d=0;d<n.length;d++){var u=n[d];Ln(e,Bn(u,r))}}else t=void 0===t?Rn:Hn(t),e=Bn(this[0],t);return e.x1=Dn(e.x1),e.y1=Dn(e.y1),e.x2=Dn(e.x2),e.y2=Dn(e.y2),e.w=Dn(e.x2-e.x1),e.h=Dn(e.y2-e.y1),e},Pn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Pn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter((function(t){return t.isParent()})),e=e.not(i)),k(t)){var o=t;t=function(){return o}}r.startBatch(),e.forEach((function(e,r){return e._private.bbAtOldPos=t(e,r)})).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var a=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions((function(t){return t._private.bbAtOldPos})),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),a},En.boundingbox=En.bb=En.boundingBox,En.renderedBoundingbox=En.renderedBoundingBox;var Gn,Vn,Wn=Pn;Gn=Vn={};var Un=function(t){t.uppercaseName=z(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=z(t.outerName),Gn[t.name]=function(){var e=this[0],r=e._private,n=r.cy._private.styleEnabled;if(e){if(!n)return 1;if(e.isParent())return e.updateCompoundBounds(),r[t.autoName]||0;var i=e.pstyle(t.name);switch(i.strValue){case"label":return e.recalculateRenderedStyle(),r.rstyle[t.labelName]||0;default:return i.pfValue}}},Gn["outer"+t.uppercaseName]=function(){var e=this[0],r=e._private.cy._private.styleEnabled;if(e)return r?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},Gn["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},Gn["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};Un({name:"width"}),Un({name:"height"}),Vn.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},Vn.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},Vn.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var qn=Vn,Xn={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Yn=Object.keys(Xn).reduce((function(t,e){var r=Xn[e],n=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,r.get)},r.mult?t[n]=function(){return function(t,e){if(t.isEdge()){var r=t.cy(),n=r.pan(),i=r.zoom();return e(t).map((function(t){return Wt(t,i,n)}))}}(this,r.get)}:t[n]=function(){return function(t,e){if(t.isEdge()){var r=t.cy();return Wt(e(t),r.zoom(),r.pan())}}(this,r.get)},t}),{}),Kn=R({},Mn,Wn,qn,Yn),$n=function(t,e){this.recycle(t,e)};function Zn(){return!1}function Qn(){return!0}$n.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Zn,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Qn:Zn):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Qn;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Qn;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Qn,this.stopPropagation()},isDefaultPrevented:Zn,isPropagationStopped:Zn,isImmediatePropagationStopped:Zn};var Jn=/^([^.]+)(\.(?:[^.]+))?$/,ti={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ei=Object.keys(ti),ri={};function ni(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,e=arguments.length>1?arguments[1]:void 0,r=0;r<ei.length;r++){var n=ei[r];this[n]=t[n]||ti[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ii=ni.prototype,oi=function(t,e,r,n,i,o,a){x(n)&&(i=n,n=null),a&&(o=null==o?a:R({},o,a));for(var s=w(r)?r:r.split(/\s+/),l=0;l<s.length;l++){var c=s[l];if(!D(c)){var d=c.match(Jn);if(d&&!1===e(t,c,d[1],d[2]?d[2]:null,n,i,o))break}}},ai=function(t,e){return t.addEventFields(t.context,e),new $n(e.type,e)};ii.on=ii.addListener=function(t,e,r,n,i){return oi(this,(function(t,e,r,n,i,o,a){x(o)&&t.listeners.push({event:e,callback:o,type:r,namespace:n,qualifier:i,conf:a})}),t,e,r,n,i),this},ii.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})},ii.removeListener=ii.off=function(t,e,r,n){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,a=function(a){var s=o[a];oi(i,(function(e,r,n,i,l,c){if((s.type===n||"*"===t)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!l||e.qualifierCompare(s.qualifier,l))&&(!c||s.callback===c))return o.splice(a,1),!1}),t,e,r,n)},s=o.length-1;s>=0;s--)a(s);return this},ii.removeAllListeners=function(){return this.removeListener("*")},ii.emit=ii.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,w(e)||(e=[e]),function(t,e,r){if("event"!==y(r))if(k(r))e(t,ai(t,r));else for(var n=w(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var o=n[i];if(!D(o)){var a=o.match(Jn);if(a){var s=a[1],l=a[2]?a[2]:null;e(t,ai(t,{type:s,namespace:l,target:t.context}))}}}else e(t,r)}(this,(function(t,o){null!=r&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],i=n.length);for(var a=function(r){var i=n[r];if(i.type===o.type&&(!i.namespace||i.namespace===o.namespace||".*"===i.namespace)&&t.eventMatches(t.context,i,o)){var a=[o];null!=e&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.push(n)}}(a,e),t.beforeEmit(t.context,i,o),i.conf&&i.conf.one&&(t.listeners=t.listeners.filter((function(t){return t!==i})));var s=t.callbackContext(t.context,i,o),l=i.callback.apply(s,a);t.afterEmit(t.context,i,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},s=0;s<i;s++)a(s);t.bubble(t.context)&&!o.isPropagationStopped()&&t.parent(t.context).emit(o,e)}),t),this.emitting--,this};var si={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,r){var n=e.qualifier;return null==n||t!==r.target&&T(r.target)&&n.matches(r.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,r){return null!=e.qualifier?r.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},li=function(t){return b(t)?new ln(t):t},ci={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],r=e._private;r.emitter||(r.emitter=new ni(si,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,r){for(var n=li(e),i=0;i<this.length;i++)this[i].emitter().on(t,n,r);return this},removeListener:function(t,e,r){for(var n=li(e),i=0;i<this.length;i++)this[i].emitter().removeListener(t,n,r);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,r){for(var n=li(e),i=0;i<this.length;i++)this[i].emitter().one(t,n,r);return this},once:function(t,e,r){for(var n=li(e),i=0;i<this.length;i++)this[i].emitter().on(t,n,r,{once:!0,onceCollection:this})},emit:function(t,e){for(var r=0;r<this.length;r++)this[r].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};Wr.eventAliasesOn(ci);var di={nodes:function(t){return this.filter((function(t){return t.isNode()})).filter(t)},edges:function(t){return this.filter((function(t){return t.isEdge()})).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?t.push(n):e.push(n)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(b(t)||_(t))return new ln(t).filter(this);if(x(t)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var o=n[i];(e?t.apply(e,[o,i,n]):t(o,i,n))&&r.push(o)}return r}return this.spawn()},not:function(t){if(t){b(t)&&(t=this.filter(t));for(var e=this.spawn(),r=0;r<this.length;r++){var n=this[r];t.has(n)||e.push(n)}return e}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(b(t)){var e=t;return this.filter(e)}for(var r=this.spawn(),n=t,i=this.length<t.length,o=i?this:n,a=i?n:this,s=0;s<o.length;s++){var l=o[s];a.has(l)&&r.push(l)}return r},xor:function(t){var e=this._private.cy;b(t)&&(t=e.$(t));var r=this.spawn(),n=t,i=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=i._private.data.id;e.hasElementWithId(o)||r.push(i)}};return i(this,n),i(n,this),r},diff:function(t){var e=this._private.cy;b(t)&&(t=e.$(t));var r=this.spawn(),n=this.spawn(),i=this.spawn(),o=t,a=function(t,e,r){for(var n=0;n<t.length;n++){var o=t[n],a=o._private.data.id;e.hasElementWithId(a)?i.merge(o):r.push(o)}};return a(this,o,r),a(o,this,n),{left:r,right:n,both:i}},add:function(t){var e=this._private.cy;if(!t)return this;if(b(t)){var r=t;t=e.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i];!this.has(o)&&n.push(o)}return n},merge:function(t){var e=this._private,r=e.cy;if(!t)return this;if(t&&b(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=e.map,o=0;o<t.length;o++){var a=t[o],s=a._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=a,i.set(s,{ele:a,index:l})}}return this},unmergeAt:function(t){var e=this[t].id(),r=this._private.map;this[t]=void 0,r.delete(e);var n=t===this.length-1;if(this.length>1&&!n){var i=this.length-1,o=this[i],a=o._private.data.id;this[i]=void 0,this[t]=o,r.set(a,{ele:o,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var e=this._private,r=t._private.data.id,n=e.map.get(r);if(!n)return this;var i=n.index;return this.unmergeAt(i),this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&b(t)){var r=t;t=e.mutableElements().filter(r)}for(var n=0;n<t.length;n++)this.unmergeOne(t[n]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var r=[],n=this,i=0;i<n.length;i++){var o=n[i],a=e?t.apply(e,[o,i,n]):t(o,i,n);r.push(a)}return r},reduce:function(t,e){for(var r=e,n=this,i=0;i<n.length;i++)r=t(r,n[i],i,n);return r},max:function(t,e){for(var r,n=-1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s>n&&(n=s,r=a)}return{value:n,ele:r}},min:function(t,e){for(var r,n=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s<n&&(n=s,r=a)}return{value:n,ele:r}}},ui=di;ui.u=ui["|"]=ui["+"]=ui.union=ui.or=ui.add,ui["\\"]=ui["!"]=ui["-"]=ui.difference=ui.relativeComplement=ui.subtract=ui.not,ui.n=ui["&"]=ui["."]=ui.and=ui.intersection=ui.intersect,ui["^"]=ui["(+)"]=ui["(-)"]=ui.symmetricDifference=ui.symdiff=ui.xor,ui.fnFilter=ui.filterFn=ui.stdFilter=ui.filter,ui.complement=ui.abscomp=ui.absoluteComplement;var pi,hi=function(t,e){var r=t.cy().hasCompoundNodes();function n(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?r?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?lt:0}var i=n(t)-n(e);if(0!==i)return i;function o(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var a=o(t)-o(e);if(0!==a)return a;var s=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==s?s:t.poolIndex()-e.poolIndex()},fi={forEach:function(t,e){if(x(t))for(var r=this.length,n=0;n<r;n++){var i=this[n];if(!1===(e?t.apply(e,[i,n,this]):t(i,n,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var r=[],n=this.length;null==e&&(e=n),null==t&&(t=0),t<0&&(t=n+t),e<0&&(e=n+e);for(var i=t;i>=0&&i<e&&i<n;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!x(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(hi)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var r=e.data.parent?t.parents().size():0;return t.isParent()?r:lt-1}var n=e.source,i=e.target,o=n.zDepth(),a=i.zDepth();return Math.max(o,a,0)}}};fi.each=fi.forEach,pi="undefined",("undefined"==typeof Symbol?"undefined":a(Symbol))!=pi&&a(Symbol.iterator)!=pi&&(fi[Symbol.iterator]=function(){var t=this,e={value:void 0,done:!1},r=0,n=this.length;return d({next:function(){return r<n?e.value=t[r++]:(e.value=void 0,e.done=!0),e}},Symbol.iterator,(function(){return this}))});var gi=xt({nodeDimensionsIncludeLabels:!1}),mi={layoutDimensions:function(t){var e;if(t=gi(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var r=this.boundingBox();e={w:r.w,h:r.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return 0!==e.w&&0!==e.h||(e.w=e.h=1),e},layoutPositions:function(t,e,r){var n=this.nodes().filter((function(t){return!t.isParent()})),i=this.cy(),o=e.eles,a=function(t){return t.id()},s=L(r,a);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&1!==e.spacingFactor,c=function(){if(!l)return null;for(var t=re(),e=0;e<n.length;e++){var r=n[e],i=s(r,e);ne(t,i.x,i.y)}return t}(),d=L((function(t,r){var n,i,o,a,d,u=s(t,r);return l&&(n=Math.abs(e.spacingFactor),o=u,a=(i=c).x1+i.w/2,d=i.y1+i.h/2,u={x:a+(o.x-a)*n,y:d+(o.y-d)*n}),null!=e.transform&&(u=e.transform(t,u)),u}),a);if(e.animate){for(var u=0;u<n.length;u++){var p=n[u],h=d(p,u);if(null==e.animateFilter||e.animateFilter(p,u)){var f=p.animation({position:h,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(f)}else p.position(h)}if(e.fit){var g=i.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else if(void 0!==e.zoom&&void 0!==e.pan){var m=i.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}t.animations.forEach((function(t){return t.play()})),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Hr.all(t.animations.map((function(t){return t.promise()}))).then((function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})}))}else n.positions(d),e.fit&&i.fit(e.eles,e.padding),null!=e.zoom&&i.zoom(e.zoom),e.pan&&i.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(R({},t,{eles:this}))}};function vi(t,e,r){var n,i=r._private,o=i.styleCache=i.styleCache||[];return null!=(n=o[t])?n:n=o[t]=e(r)}function yi(t,e){return t=rt(t),function(r){return vi(t,e,r)}}function bi(t,e){t=rt(t);var r=function(t){return e.call(t)};return function(){var e=this[0];if(e)return vi(t,r,e)}}mi.createLayout=mi.makeLayout=mi.layout;var xi={recalculateRenderedStyle:function(t){var e=this.cy(),r=e.renderer(),n=e.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),r=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(r)):this.forEach((function(t){r(t),t.connectedEdges().forEach(r)})),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var r=this;t=!(!t&&void 0!==t),e.hasCompoundNodes()&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var n=r;return t?n.emitAndNotify("style"):n.emit("style"),r.forEach((function(t){return t._private.styleDirty=!0})),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var r=this[e];r._private.styleDirty&&(r._private.styleDirty=!1,t.style().apply(r))}},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this[0],n=r.cy();if(n.styleEnabled()&&r){this.cleanStyle();var i=r._private.style[t];return null!=i?i:e?n.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var r=e.pstyle(t);return void 0!==r.pfValue?r.pfValue:r.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var r=this[0];return r?e.style().getRenderedStyle(r,t):void 0},style:function(t,e){var r=this.cy();if(!r.styleEnabled())return this;var n=r.style();if(k(t)){var i=t;n.applyBypass(this,i,!1),this.emitAndNotify("style")}else if(b(t)){if(void 0===e){var o=this[0];return o?n.getStylePropertyValue(o,t):void 0}n.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var a=this[0];return a?n.getRawStyle(a):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var r=e.style(),n=this;if(void 0===t)for(var i=0;i<n.length;i++){var o=n[i];r.removeAllBypasses(o,!1)}else{t=t.split(/\s+/);for(var a=0;a<n.length;a++){var s=n[a];r.removeBypasses(s,t,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!e)return i;var o=n.data.parent?r.parents():null;if(o)for(var a=0;a<o.length;a++)i*=o[a].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function wi(t,e){var r=t._private.data.parent?t.parents():null;if(r)for(var n=0;n<r.length;n++)if(!e(r[n]))return!1;return!0}function ki(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var i=this[0],o=t.hasCompoundNodes();if(i){var a=i._private;if(!e(i))return!1;if(i.isNode())return!o||wi(i,n);var s=a.source,l=a.target;return r(s)&&(!o||wi(s,r))&&(s===l||r(l)&&(!o||wi(l,r)))}}}var Ci=yi("eleTakesUpSpace",(function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())}));xi.takesUpSpace=bi("takesUpSpace",ki({ok:Ci}));var Si=yi("eleInteractive",(function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&Ci(t)})),_i=yi("parentInteractive",(function(t){return"visible"===t.pstyle("visibility").value&&Ci(t)}));xi.interactive=bi("interactive",ki({ok:Si,parentOk:_i,edgeOkViaNode:Ci})),xi.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Ti=yi("eleVisible",(function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&Ci(t)})),Ei=Ci;xi.visible=bi("visible",ki({ok:Ti,edgeOkViaNode:Ei})),xi.hidden=function(){var t=this[0];if(t)return!t.visible()},xi.isBundledBezier=bi("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),xi.bypass=xi.css=xi.style,xi.renderedCss=xi.renderedStyle,xi.removeBypass=xi.removeCss=xi.removeStyle,xi.pstyle=xi.parsedStyle;var Pi={};function Mi(t){return function(){var e=arguments,r=[];if(2===e.length){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(1===e.length&&x(e[0])){var o=e[0];this.on(t.event,o)}else if(0===e.length||1===e.length&&w(e[0])){for(var a=1===e.length?e[0]:null,s=0;s<this.length;s++){var l=this[s],c=!t.ableField||l._private[t.ableField],d=l._private[t.field]!=t.value;if(t.overrideAble){var u=t.overrideAble(l);if(void 0!==u&&(c=u,!u))return this}c&&(l._private[t.field]=t.value,d&&r.push(l))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),a&&p.emit(a)}return this}}function Di(t){Pi[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(void 0!==r)return r}return e._private[t.field]}},Pi[t.on]=Mi({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Pi[t.off]=Mi({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Di({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Di({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Di({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Di({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Pi.deselect=Pi.unselect,Pi.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Di({field:"active",on:"activate",off:"unactivate"}),Di({field:"pannable",on:"panify",off:"unpanify"}),Pi.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ai={},Li=function(t){return function(e){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],c=l.source(),d=l.target();if(t.noIncomingEdges&&d===i&&c!==i||t.noOutgoingEdges&&c===i&&d!==i){o=!0;break}}o||r.push(i)}}return this.spawn(r,!0).filter(e)}},Ni=function(t){return function(e){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),c=s.target();t.outgoing&&l===i?(r.push(s),r.push(c)):t.incoming&&c===i&&(r.push(s),r.push(l))}}return this.spawn(r,!0).filter(e)}},Oi=function(t){return function(e){for(var r=this,n=[],i={};;){var o=t.outgoing?r.outgoers():r.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],c=l.id();i[c]||(i[c]=!0,n.push(l),a=!0)}if(!a)break;r=o}return this.spawn(n,!0).filter(e)}};function Fi(t){return function(e){for(var r=[],n=0;n<this.length;n++){var i=this[n]._private[t.attr];i&&r.push(i)}return this.spawn(r,!0).filter(e)}}function zi(t){return function(e){var r=[],n=this._private.cy,i=t||{};b(e)&&(e=n.$(e));for(var o=0;o<e.length;o++)for(var a=e[o]._private.edges,s=0;s<a.length;s++){var l=a[s],c=l._private.data,d=this.hasElementWithId(c.source)&&e.hasElementWithId(c.target),u=e.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(d||u){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!d)continue;if(i.thisIsTgt&&!u)continue}r.push(l)}}return this.spawn(r,!0)}}function Ii(t){return t=R({},{codirected:!1},t),function(e){for(var r=[],n=this.edges(),i=t,o=0;o<n.length;o++)for(var a=n[o]._private,s=a.source,l=s._private.data.id,c=a.data.target,d=s._private.edges,u=0;u<d.length;u++){var p=d[u],h=p._private.data,f=h.target,g=h.source,m=f===c&&g===l,v=l===f&&c===g;(i.codirected&&m||!i.codirected&&(m||v))&&r.push(p)}return this.spawn(r,!0).filter(e)}}Ai.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},R(Ai,{roots:Li({noIncomingEdges:!0}),leaves:Li({noOutgoingEdges:!0}),outgoers:hn(Ni({outgoing:!0}),"outgoers"),successors:Oi({outgoing:!0}),incomers:hn(Ni({incoming:!0}),"incomers"),predecessors:Oi({incoming:!0})}),R(Ai,{neighborhood:hn((function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),c=s.target(),d=i===l?c:l;d.length>0&&e.push(d[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)}),"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Ai.neighbourhood=Ai.neighborhood,Ai.closedNeighbourhood=Ai.closedNeighborhood,Ai.openNeighbourhood=Ai.openNeighborhood,R(Ai,{source:hn((function(t){var e,r=this[0];return r&&(e=r._private.source||r.cy().collection()),e&&t?e.filter(t):e}),"source"),target:hn((function(t){var e,r=this[0];return r&&(e=r._private.target||r.cy().collection()),e&&t?e.filter(t):e}),"target"),sources:Fi({attr:"source"}),targets:Fi({attr:"target"})}),R(Ai,{edgesWith:hn(zi(),"edgesWith"),edgesTo:hn(zi({thisIsSrc:!0}),"edgesTo")}),R(Ai,{connectedEdges:hn((function(t){for(var e=[],r=0;r<this.length;r++){var n=this[r];if(n.isNode())for(var i=n._private.edges,o=0;o<i.length;o++){var a=i[o];e.push(a)}}return this.spawn(e,!0).filter(t)}),"connectedEdges"),connectedNodes:hn((function(t){for(var e=[],r=0;r<this.length;r++){var n=this[r];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,!0).filter(t)}),"connectedNodes"),parallelEdges:hn(Ii(),"parallelEdges"),codirectedEdges:hn(Ii({codirected:!0}),"codirectedEdges")}),R(Ai,{components:function(t){var e=this,r=e.cy(),n=r.collection(),i=null==t?e.nodes():t.nodes(),o=[];null!=t&&i.empty()&&(i=t.sources());var a=function(t,e){n.merge(t),i.unmerge(t),e.merge(t)};if(i.empty())return e.spawn();var s=function(){var t=r.collection();o.push(t);var n=i[0];a(n,t),e.bfs({directed:!1,roots:n,visit:function(e){return a(e,t)}}),t.forEach((function(r){r.connectedEdges().forEach((function(r){e.has(r)&&t.has(r.source())&&t.has(r.target())&&t.merge(r)}))}))};do{s()}while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Ai.componentsOf=Ai.components;var Bi=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==t){var n=new _t,i=!1;if(e){if(e.length>0&&k(e[0])&&!T(e[0])){i=!0;for(var o=[],a=new Et,s=0,l=e.length;s<l;s++){var c=e[s];null==c.data&&(c.data={});var d=c.data;if(null==d.id)d.id=vt();else if(t.hasElementWithId(d.id)||a.has(d.id))continue;var u=new Pt(t,c,!1);o.push(u),a.add(d.id)}e=o}}else e=[];this.length=0;for(var p=0,h=e.length;p<h;p++){var f=e[p][0];if(null!=f){var g=f._private.data.id;r&&n.has(g)||(r&&n.set(g,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={eles:this,cy:t,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(t){this.lazyMap=t},rebuildMap:function(){for(var t=this.lazyMap=new _t,e=this.eles,r=0;r<e.length;r++){var n=e[r];t.set(n.id(),{index:r,ele:n})}}},r&&(this._private.map=n),i&&this.restore()}else ht("A collection must have a reference to the core")},Ri=Pt.prototype=Bi.prototype=Object.create(Array.prototype);Ri.instanceString=function(){return"collection"},Ri.spawn=function(t,e){return new Bi(this.cy(),t,e)},Ri.spawnSelf=function(){return this.spawn(this)},Ri.cy=function(){return this._private.cy},Ri.renderer=function(){return this._private.cy.renderer()},Ri.element=function(){return this[0]},Ri.collection=function(){return E(this)?this:new Bi(this._private.cy,[this])},Ri.unique=function(){return new Bi(this._private.cy,this,!0)},Ri.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)},Ri.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Bi(e)},Ri.$id=Ri.getElementById,Ri.poolIndex=function(){var t=this._private.cy._private.elements,e=this[0]._private.data.id;return t._private.map.get(e).index},Ri.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},Ri.indexOfId=function(t){return t=""+t,this._private.map.get(t).index},Ri.json=function(t){var e=this.element(),r=this.cy();if(null==e&&t)return this;if(null!=e){var n=e._private;if(k(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,l=t.data.target;null!=s&&s!=i.source&&(a.source=""+s,o=!0),null!=l&&l!=i.target&&(a.target=""+l,o=!0),o&&(e=e.move(a))}else{var c="parent"in t.data,d=t.data.parent;!c||null==d&&null==i.parent||d==i.parent||(void 0===d&&(d=null),null!=d&&(d=""+d),e=e.move({parent:d}))}}t.position&&e.position(t.position);var u=function(r,i,o){var a=t[r];null!=a&&a!==n[r]&&(a?e[i]():e[o]())};return u("removed","remove","restore"),u("selected","select","unselect"),u("selectable","selectify","unselectify"),u("locked","lock","unlock"),u("grabbable","grabify","ungrabify"),u("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),r.endBatch(),this}if(void 0===t){var p={data:mt(n.data),position:mt(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:""},h=0;return n.classes.forEach((function(t){return p.classes+=0==h++?t:" "+t})),p}}},Ri.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e].json();t.push(r)}return t},Ri.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r].json(),i=new Pt(t,n,!1);e.push(i)}return new Bi(t,e)},Ri.copy=Ri.clone,Ri.restore=function(){for(var t,e,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,o=i.cy(),a=o._private,s=[],l=[],c=0,d=i.length;c<d;c++){var u=i[c];n&&!u.removed()||(u.isNode()?s.push(u):l.push(u))}t=s.concat(l);var p=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var h=t[e],f=h._private,g=f.data;if(h.clearTraversalCache(),n||f.removed)if(void 0===g.id)g.id=vt();else if(C(g.id))g.id=""+g.id;else{if(D(g.id)||!b(g.id)){ht("Can not create element with invalid string ID `"+g.id+"`"),p();continue}if(o.hasElementWithId(g.id)){ht("Can not create second element with ID `"+g.id+"`"),p();continue}}var m=g.id;if(h.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(h.isEdge()){for(var y=h,x=["source","target"],w=x.length,k=!1,S=0;S<w;S++){var _=x[S],T=g[_];C(T)&&(T=g[_]=""+g[_]),null==T||""===T?(ht("Can not create edge `"+m+"` with unspecified "+_),k=!0):o.hasElementWithId(T)||(ht("Can not create edge `"+m+"` with nonexistant "+_+" `"+T+"`"),k=!0)}if(k){p();continue}var E=o.getElementById(g.source),P=o.getElementById(g.target);E.same(P)?E._private.edges.push(y):(E._private.edges.push(y),P._private.edges.push(y)),y._private.source=E,y._private.target=P}f.map=new _t,f.map.set(m,{ele:h,index:0}),f.removed=!1,n&&o.addToPool(h)}for(var M=0;M<s.length;M++){var A=s[M],L=A._private.data;C(L.parent)&&(L.parent=""+L.parent);var N=L.parent,O=null!=N;if(O){var F=o.getElementById(N);if(F.empty())L.parent=void 0;else{for(var z=!1,I=F;!I.empty();){if(A.same(I)){z=!0,L.parent=void 0;break}I=I.parent()}z||(F[0]._private.children.push(A),A._private.parent=F[0],a.hasCompoundNodes=!0)}}}if(t.length>0){for(var B=t.length===i.length?i:new Bi(o,t),R=0;R<B.length;R++){var j=B[R];j.isNode()||(j.parallelEdges().clearTraversalCache(),j.source().clearTraversalCache(),j.target().clearTraversalCache())}(a.hasCompoundNodes?o.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?B.emitAndNotify("add"):n&&B.emit("add")}return i},Ri.removed=function(){var t=this[0];return t&&t._private.removed},Ri.inside=function(){var t=this[0];return t&&!t._private.removed},Ri.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=[],i={},o=r._private.cy;function a(t){for(var e=t._private.edges,r=0;r<e.length;r++)l(e[r])}function s(t){for(var e=t._private.children,r=0;r<e.length;r++)l(e[r])}function l(t){var r=i[t.id()];e&&t.removed()||r||(i[t.id()]=!0,t.isNode()?(n.push(t),a(t),s(t)):n.unshift(t))}for(var c=0,d=r.length;c<d;c++){var u=r[c];l(u)}function p(t,e){var r=t._private.edges;wt(r,e),t.clearTraversalCache()}function h(t){t.clearTraversalCache()}var f=[];function g(t,e){e=e[0];var r=(t=t[0])._private.children,n=t.id();wt(r,e),e._private.parent=null,f.ids[n]||(f.ids[n]=!0,f.push(t))}f.ids={},r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var m=0;m<n.length;m++){var v=n[m];if(v.isEdge()){var y=v.source()[0],b=v.target()[0];p(y,v),p(b,v);for(var x=v.parallelEdges(),w=0;w<x.length;w++){var k=x[w];h(k),k.isBundledBezier()&&k.dirtyBoundingBoxCache()}}else{var C=v.parent();0!==C.length&&g(C,v)}e&&(v._private.removed=!0)}var S=o._private.elements;o._private.hasCompoundNodes=!1;for(var _=0;_<S.length;_++){var T=S[_];if(T.isParent()){o._private.hasCompoundNodes=!0;break}}var E=new Bi(this.cy(),n);E.size()>0&&(t?E.emitAndNotify("remove"):e&&E.emit("remove"));for(var P=0;P<f.length;P++){var M=f[P];e&&M.removed()||M.updateStyle()}return E},Ri.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,o=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var a=o(t.source),s=o(t.target),l=null!=a&&e.hasElementWithId(a),c=null!=s&&e.hasElementWithId(s);(l||c)&&(e.batch((function(){r.remove(n,i),r.emitAndNotify("moveout");for(var t=0;t<r.length;t++){var e=r[t],o=e._private.data;e.isEdge()&&(l&&(o.source=a),c&&(o.target=s))}r.restore(n,i)})),r.emitAndNotify("move"))}else if(void 0!==t.parent){var d=o(t.parent);if(null===d||e.hasElementWithId(d)){var u=null===d?void 0:d;e.batch((function(){var t=r.remove(n,i);t.emitAndNotify("moveout");for(var e=0;e<r.length;e++){var o=r[e],a=o._private.data;o.isNode()&&(a.parent=u)}t.restore(n,i)})),r.emitAndNotify("move")}}return this},[Or,Ur,qr,dn,fn,wn,kn,Kn,ci,di,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},fi,mi,xi,Pi,Ai].forEach((function(t){R(Ri,t)}));var ji={add:function(t){var e,r=this;if(_(t)){var n=t;if(n._private.cy===r)e=n.restore();else{for(var i=[],o=0;o<n.length;o++){var a=n[o];i.push(a.json())}e=new Bi(r,i)}}else if(w(t))e=new Bi(r,t);else if(k(t)&&(w(t.nodes)||w(t.edges))){for(var s=t,l=[],c=["nodes","edges"],d=0,u=c.length;d<u;d++){var p=c[d],h=s[p];if(w(h))for(var f=0,g=h.length;f<g;f++){var m=R({group:p},h[f]);l.push(m)}}e=new Bi(r,l)}else e=new Pt(r,t).collection();return e},remove:function(t){if(_(t));else if(b(t)){var e=t;t=this.$(e)}return t.remove()}},Hi=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,r,n){var i={x:e.x+n.dx*r,v:e.v+n.dv*r,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function r(r,n){var i={dx:r.v,dv:t(r)},o=e(r,.5*n,i),a=e(r,.5*n,o),s=e(r,n,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),c=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return r.x=r.x+l*n,r.v=r.v+c*n,r}return function t(e,n,i){var o,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],d=0,u=1e-4;for(e=parseFloat(e)||500,n=parseFloat(n)||20,i=i||null,l.tension=e,l.friction=n,a=(o=null!==i)?(d=t(e,n))/i*.016:.016;s=r(s||l,a),c.push(1+s.x),d+=16,Math.abs(s.x)>u&&Math.abs(s.v)>u;);return o?function(t){return c[t*(c.length-1)|0]}:d}}(),Gi=function(t,e,r,n){var i=function(t,e,r,n){var i=4,o=.001,a=1e-7,s=10,l=11,c=1/(l-1),d="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var u=0;u<4;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=d?new Float32Array(l):new Array(l);function h(t,e){return 1-3*e+3*t}function f(t,e){return 3*e-6*t}function g(t){return 3*t}function m(t,e,r){return((h(e,r)*t+f(e,r))*t+g(e))*t}function v(t,e,r){return 3*h(e,r)*t*t+2*f(e,r)*t+g(e)}function y(e,n){for(var o=0;o<i;++o){var a=v(n,t,r);if(0===a)return n;n-=(m(n,t,r)-e)/a}return n}function b(){for(var e=0;e<l;++e)p[e]=m(e*c,t,r)}function x(e,n,i){var o,l,c=0;do{(o=m(l=n+(i-n)/2,t,r)-e)>0?i=l:n=l}while(Math.abs(o)>a&&++c<s);return l}function w(e){for(var n=0,i=1,a=l-1;i!==a&&p[i]<=e;++i)n+=c;--i;var s=n+(e-p[i])/(p[i+1]-p[i])*c,d=v(s,t,r);return d>=o?y(e,s):0===d?s:x(e,n,n+c)}var k=!1;function C(){k=!0,t===e&&r===n||b()}var S=function(i){return k||C(),t===e&&r===n?i:0===i?0:1===i?1:m(w(i),e,n)};S.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var _="generateBezier("+[t,e,r,n]+")";return S.toString=function(){return _},S}(t,e,r,n);return function(t,e,r){return t+(e-t)*i(r)}},Vi={linear:function(t,e,r){return t+(e-t)*r},ease:Gi(.25,.1,.25,1),"ease-in":Gi(.42,0,1,1),"ease-out":Gi(0,0,.58,1),"ease-in-out":Gi(.42,0,.58,1),"ease-in-sine":Gi(.47,0,.745,.715),"ease-out-sine":Gi(.39,.575,.565,1),"ease-in-out-sine":Gi(.445,.05,.55,.95),"ease-in-quad":Gi(.55,.085,.68,.53),"ease-out-quad":Gi(.25,.46,.45,.94),"ease-in-out-quad":Gi(.455,.03,.515,.955),"ease-in-cubic":Gi(.55,.055,.675,.19),"ease-out-cubic":Gi(.215,.61,.355,1),"ease-in-out-cubic":Gi(.645,.045,.355,1),"ease-in-quart":Gi(.895,.03,.685,.22),"ease-out-quart":Gi(.165,.84,.44,1),"ease-in-out-quart":Gi(.77,0,.175,1),"ease-in-quint":Gi(.755,.05,.855,.06),"ease-out-quint":Gi(.23,1,.32,1),"ease-in-out-quint":Gi(.86,0,.07,1),"ease-in-expo":Gi(.95,.05,.795,.035),"ease-out-expo":Gi(.19,1,.22,1),"ease-in-out-expo":Gi(1,0,0,1),"ease-in-circ":Gi(.6,.04,.98,.335),"ease-out-circ":Gi(.075,.82,.165,1),"ease-in-out-circ":Gi(.785,.135,.15,.86),spring:function(t,e,r){if(0===r)return Vi.linear;var n=Hi(t,e,r);return function(t,e,r){return t+(e-t)*n(r)}},"cubic-bezier":Gi};function Wi(t,e,r,n,i){if(1===n)return r;if(e===r)return r;var o=i(e,r,n);return null==t||((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max))),o}function Ui(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function qi(t,e,r,n,i){var o=null!=i?i.type:null;r<0?r=0:r>1&&(r=1);var a=Ui(t,i),s=Ui(e,i);if(C(a)&&C(s))return Wi(o,a,s,r,n);if(w(a)&&w(s)){for(var l=[],c=0;c<s.length;c++){var d=a[c],u=s[c];if(null!=d&&null!=u){var p=Wi(o,d,u,r,n);l.push(p)}else l.push(u)}return l}}function Xi(t,e,r,n){var i=!n,o=t._private,a=e._private,s=a.easing,l=a.startTime,c=(n?t:t.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=Vi.linear;else{var d,u,p;d=b(s)?c.parse("transition-timing-function",s).value:s,b(d)?(u=d,p=[]):(u=d[1],p=d.slice(2).map((function(t){return+t}))),p.length>0?("spring"===u&&p.push(a.duration),a.easingImpl=Vi[u].apply(null,p)):a.easingImpl=Vi[u]}var h,f=a.easingImpl;if(h=0===a.duration?1:(r-l)/a.duration,a.applying&&(h=a.progress),h<0?h=0:h>1&&(h=1),null==a.delay){var g=a.startPosition,m=a.position;if(m&&i&&!t.locked()){var v={};Yi(g.x,m.x)&&(v.x=qi(g.x,m.x,h,f)),Yi(g.y,m.y)&&(v.y=qi(g.y,m.y,h,f)),t.position(v)}var y=a.startPan,x=a.pan,w=o.pan,k=null!=x&&n;k&&(Yi(y.x,x.x)&&(w.x=qi(y.x,x.x,h,f)),Yi(y.y,x.y)&&(w.y=qi(y.y,x.y,h,f)),t.emit("pan"));var C=a.startZoom,S=a.zoom,_=null!=S&&n;_&&(Yi(C,S)&&(o.zoom=ee(o.minZoom,qi(C,S,h,f),o.maxZoom)),t.emit("zoom")),(k||_)&&t.emit("viewport");var T=a.style;if(T&&T.length>0&&i){for(var E=0;E<T.length;E++){var P=T[E],M=P.name,D=P,A=a.startStyle[M],L=qi(A,D,h,f,c.properties[A.name]);c.overrideBypass(t,M,L)}t.emit("style")}}return a.progress=h,h}function Yi(t,e){return!!(null!=t&&null!=e&&(C(t)&&C(e)||t&&e))}function Ki(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function $i(t,e){var r=e._private.aniEles,n=[];function i(e,r){var i=e._private,o=i.animation.current,a=i.animation.queue,s=!1;if(0===o.length){var l=a.shift();l&&o.push(l)}for(var c=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},d=o.length-1;d>=0;d--){var u=o[d],p=u._private;p.stopped?(o.splice(d,1),p.hooked=!1,p.playing=!1,p.started=!1,c(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||Ki(0,u,t),Xi(e,u,t,r),p.applying&&(p.applying=!1),c(p.frames),null!=p.step&&p.step(t),u.completed()&&(o.splice(d,1),p.hooked=!1,p.playing=!1,p.started=!1,c(p.completes)),s=!0)}return r||0!==o.length||0!==a.length||n.push(e),s}for(var o=!1,a=0;a<r.length;a++){var s=i(r[a]);o=o||s}var l=i(e,!0);(o||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var Zi={animate:Wr.animate(),animation:Wr.animation(),animated:Wr.animated(),clearQueue:Wr.clearQueue(),delay:Wr.delay(),delayAnimation:Wr.delayAnimation(),stop:Wr.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender((function(e,r){$i(r,t)}),e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&q((function(r){$i(r,t),e()}))}()}}},Qi={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,r){var n=e.qualifier;return null==n||t!==r.target&&T(r.target)&&n.matches(r.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,r){return null!=e.qualifier?r.target:t}},Ji=function(t){return b(t)?new ln(t):t},to={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new ni(Qi,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,r){return this.emitter().on(t,Ji(e),r),this},removeListener:function(t,e,r){return this.emitter().removeListener(t,Ji(e),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,r){return this.emitter().one(t,Ji(e),r),this},once:function(t,e,r){return this.emitter().one(t,Ji(e),r),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Wr.eventAliasesOn(to);var eo={png:function(t){return t=t||{},this._private.renderer.png(t)},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};eo.jpeg=eo.jpg;var ro={layout:function(t){var e=this;if(null!=t)if(null!=t.name){var r,n=t.name,i=e.extension("layout",n);if(null!=i)return r=b(t.eles)?e.$(t.eles):null!=t.eles?t.eles:e.$(),new i(R({},t,{cy:e,eles:r}));ht("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else ht("A `name` must be specified to make a layout");else ht("Layout options must be specified to make a layout")}};ro.createLayout=ro.makeLayout=ro.layout;var no={notify:function(t,e){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[t]=r.batchNotifications[t]||this.collection();null!=e&&n.merge(e)}else if(r.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach((function(r){var n=t.batchNotifications[r];n.empty()?e.notify(r):e.notify(r,n)}))}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch((function(){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],o=t[i];e.getElementById(i).data(o)}}))}},io=xt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),oo={renderTo:function(t,e,r,n){return this._private.renderer.renderTo(t,e,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this,r=e.extension("renderer",t.name);if(null!=r){void 0!==t.wheelSensitivity&&gt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=io(t);n.cy=e,e._private.renderer=new r(n),this.notify("init")}else ht("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var t=this;t.notify("destroy");var e=t.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach((function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]}))},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};oo.invalidateDimensions=oo.resize;var ao={collection:function(t,e){return b(t)?this.$(t):_(t)?t.collection():w(t)?new Bi(this,t,e):new Bi(this)},nodes:function(t){var e=this.$((function(t){return t.isNode()}));return t?e.filter(t):e},edges:function(t){var e=this.$((function(t){return t.isEdge()}));return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};ao.elements=ao.filter=ao.$;var so={},lo="t";so.apply=function(t){for(var e=this,r=e._private.cy.collection(),n=0;n<t.length;n++){var i=t[n],o=e.getContextMeta(i);if(!o.empty){var a=e.getContextStyle(o),s=e.applyContextStyle(o,a,i);i._private.appliedInitStyle?e.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,e.updateStyleHints(i)&&r.push(i)}}return r},so.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,o=n[i];if(o)return o;for(var a=[],s={},l=0;l<r.length;l++){var c=r[l],d=t[l]===lo,u=e[l]===lo,p=d!==u,h=c.mappedProperties.length>0;if(p||u&&h){var f=void 0;p&&h||p?f=c.properties:h&&(f=c.mappedProperties);for(var g=0;g<f.length;g++){for(var m=f[g],v=m.name,y=!1,b=l+1;b<r.length;b++){var x=r[b];if(e[b]===lo&&(y=null!=x.properties[m.name]))break}s[v]||y||(s[v]=!0,a.push(v))}}}return n[i]=a,a},so.getContextMeta=function(t){for(var e,r=this,n="",i=t._private.styleCxtKey||"",o=0;o<r.length;o++){var a=r[o];n+=a.selector&&a.selector.matches(t)?lo:"f"}return e=r.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},so.getContextStyle=function(t){var e=t.key,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var n={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if(e[i]===lo)for(var a=0;a<o.properties.length;a++){var s=o.properties[a];n[s.name]=s}}return r[e]=n,n},so.applyContextStyle=function(t,e,r){for(var n=t.diffPropNames,i={},o=this.types,a=0;a<n.length;a++){var s=n[a],l=e[s],c=r.pstyle(s);if(!l){if(!c)continue;l=c.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(c!==l){if(l.mapped===o.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var d=c.mapping;if((d.fnValue=l.value(r))===d.prevFnValue)continue}var u=i[s]={prev:c};this.applyParsedProperty(r,l),u.next=r.pstyle(s),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},so.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,o=function(t,e,n){return r.getPropertiesHash(t,e,n)},a=e.styleKey;if(t.removed())return!1;var s="nodes"===e.group,l=t._private.style;n=Object.keys(l);for(var c=0;c<i.length;c++){var d=i[c];e.styleKeys[d]=[Y,$]}for(var u,p=function(t,r){return e.styleKeys[r][0]=Q(t,e.styleKeys[r][0])},h=function(t,r){return e.styleKeys[r][1]=J(t,e.styleKeys[r][1])},f=function(t,e){p(t,e),h(t,e)},g=function(t,e){for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);p(n,e),h(n,e)}},m=0;m<n.length;m++){var v=n[m],y=l[v];if(null!=y){var b=this.properties[v],x=b.type,w=b.groupKey,k=void 0;null!=b.hashOverride?k=b.hashOverride(t,y):null!=y.pfValue&&(k=y.pfValue);var C=null==b.enums?y.value:null,S=null!=k,_=S||null!=C,T=y.units;x.number&&_&&!x.multiple?(f(-128<(u=S?k:C)&&u<128&&Math.floor(u)!==u?2e9-(1024*u|0):u,w),S||null==T||g(T,w)):g(y.strValue,w)}}for(var E=[Y,$],P=0;P<i.length;P++){var M=i[P],D=e.styleKeys[M];E[0]=Q(D[0],E[0]),E[1]=J(D[1],E[1])}e.styleKey=2097152*E[0]+E[1];var A=e.styleKeys;e.labelDimsKey=tt(A.labelDimensions);var L=o(t,["label"],A.labelDimensions);if(e.labelKey=tt(L),e.labelStyleKey=tt(et(A.commonLabel,L)),!s){var N=o(t,["source-label"],A.labelDimensions);e.sourceLabelKey=tt(N),e.sourceLabelStyleKey=tt(et(A.commonLabel,N));var O=o(t,["target-label"],A.labelDimensions);e.targetLabelKey=tt(O),e.targetLabelStyleKey=tt(et(A.commonLabel,O))}if(s){var F=e.styleKeys,z=F.nodeBody,I=F.nodeBorder,B=F.backgroundImage,R=F.compound,j=F.pie,H=[z,I,B,R,j].filter((function(t){return null!=t})).reduce(et,[Y,$]);e.nodeKey=tt(H),e.hasPie=null!=j&&j[0]!==Y&&j[1]!==$}return a!==e.styleKey},so.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},so.applyParsedProperty=function(t,e){var r,n=this,i=e,o=t._private.style,a=n.types,s=n.properties[i.name].type,l=i.bypass,c=o[i.name],d=c&&c.bypass,u=t._private,p="mapping",h=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},f=function(){var e=h(c),r=h(i);n.checkTriggers(t,i.name,e,r)};if(i&&"pie"===i.name.substr(0,3)&&gt("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(i=e=this.parse(e.name,"bezier",l)),i.delete)return o[i.name]=void 0,f(),!0;if(i.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return c?!!c.bypass&&(o[i.name]=c.bypassed,f(),!0):(f(),!0);var g=function(){gt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case a.mapData:for(var m,v=i.field.split("."),y=u.data,b=0;b<v.length&&y;b++)y=y[v[b]];if(null==y)return g(),!1;if(!C(y))return gt("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var x=i.fieldMax-i.fieldMin;if((m=0===x?0:(y-i.fieldMin)/x)<0?m=0:m>1&&(m=1),s.color){var w=i.valueMin[0],k=i.valueMax[0],S=i.valueMin[1],_=i.valueMax[1],T=i.valueMin[2],E=i.valueMax[2],P=null==i.valueMin[3]?1:i.valueMin[3],M=null==i.valueMax[3]?1:i.valueMax[3],D=[Math.round(w+(k-w)*m),Math.round(S+(_-S)*m),Math.round(T+(E-T)*m),Math.round(P+(M-P)*m)];r={bypass:i.bypass,name:i.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else{if(!s.number)return!1;var A=i.valueMin+(i.valueMax-i.valueMin)*m;r=this.parse(i.name,A,i.bypass,p)}if(!r)return g(),!1;r.mapping=i,i=r;break;case a.data:for(var L=i.field.split("."),N=u.data,O=0;O<L.length&&N;O++)N=N[L[O]];if(null!=N&&(r=this.parse(i.name,N,i.bypass,p)),!r)return g(),!1;r.mapping=i,i=r;break;case a.fn:var F=i.value,z=null!=i.fnValue?i.fnValue:F(t);if(i.prevFnValue=z,null==z)return gt("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(r=this.parse(i.name,z,i.bypass,p)))return gt("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+t.id()+"` is invalid)"),!1;r.mapping=mt(i),i=r;break;case void 0:break;default:return!1}return l?(i.bypassed=d?c.bypassed:c,o[i.name]=i):d?c.bypassed=i:o[i.name]=i,f(),!0},so.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),e)for(var i=n._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=i[s];null!=l&&(l.bypass?l.bypassed=null:i[s]=null)}else n._private.style={}}},so.update=function(){this._private.cy.mutableElements().updateStyle()},so.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},l=!1,c=0;c<i.length;c++){var d=i[c],u=t.pstyle(d),p=e[d];if(p){var h=p.prev,f=null!=p.next?p.next:u,g=!1,m=void 0,v=1e-6;h&&(C(h.pfValue)&&C(f.pfValue)?(g=f.pfValue-h.pfValue,m=h.pfValue+v*g):C(h.value)&&C(f.value)?(g=f.value-h.value,m=h.value+v*g):w(h.value)&&w(f.value)&&(g=h.value[0]!==f.value[0]||h.value[1]!==f.value[1]||h.value[2]!==f.value[2],m=h.strValue),g&&(s[d]=f.strValue,this.applyBypass(t,d,m),l=!0))}}if(!l)return;n.transitioning=!0,new Hr((function(e){a>0?t.delayAnimation(a).play().promise().then(e):e()})).then((function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1}))}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)},so.checkTrigger=function(t,e,r,n,i,o){var a=this.properties[e],s=i(a);null!=s&&s(r,n)&&o(a)},so.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,(function(t){return t.triggersZOrder}),(function(){i._private.cy.notify("zorder",t)}))},so.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,(function(t){return t.triggersBounds}),(function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"curve-style"!==e||"bezier"!==r&&"bezier"!==n||!i.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach((function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()}))}))},so.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var co={applyBypass:function(t,e,r,n){var i=[];if("*"===e||"**"===e){if(void 0!==r)for(var o=0;o<this.properties.length;o++){var a=this.properties[o].name,s=this.parse(a,r,!0);s&&i.push(s)}}else if(b(e)){var l=this.parse(e,r,!0);l&&i.push(l)}else{if(!k(e))return!1;var c=e;n=r;for(var d=Object.keys(c),u=0;u<d.length;u++){var p=d[u],h=c[p];if(void 0===h&&(h=c[O(p)]),void 0!==h){var f=this.parse(p,h,!0);f&&i.push(f)}}}if(0===i.length)return!1;for(var g=!1,m=0;m<t.length;m++){for(var v=t[m],y={},x=void 0,w=0;w<i.length;w++){var C=i[w];if(n){var S=v.pstyle(C.name);x=y[C.name]={prev:S}}g=this.applyParsedProperty(v,mt(C))||g,n&&(x.next=v.pstyle(C.name))}g&&this.updateStyleHints(v),n&&this.updateTransitions(v,y,!0)}return g},overrideBypass:function(t,e,r){e=N(e);for(var n=0;n<t.length;n++){var i=t[n],o=i._private.style[e],a=this.properties[e].type,s=a.color,l=a.mutiple,c=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=r,null!=o.pfValue&&(o.pfValue=r),o.strValue=s?"rgb("+r.join(",")+")":l?r.join(" "):""+r,this.updateStyleHints(i)):this.applyBypass(i,e,r),this.checkTriggers(i,e,c,r)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,r){for(var n=0;n<t.length;n++){for(var i=t[n],o={},a=0;a<e.length;a++){var s=e[a],l=this.properties[s],c=i.pstyle(l.name);if(c&&c.bypass){var d=this.parse(s,"",!0),u=o[l.name]={prev:c};this.applyParsedProperty(i,d),u.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,!0)}}},uo={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(p&&e&&p.getComputedStyle)return p.getComputedStyle(e).getPropertyValue(t)}},po={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){var r=this;if(t=t[0]){for(var n={},i=0;i<r.properties.length;i++){var o=r.properties[i],a=r.getStylePropertyValue(t,o.name,e);null!=a&&(n[o.name]=a,n[O(o.name)]=a)}return n}},getIndexedStyle:function(t,e,r,n){var i=t.pstyle(e)[r][n];return null!=i?i:t.cy().style().getDefaultProperty(e)[r][0]},getStylePropertyValue:function(t,e,r){if(t=t[0]){var n=this.properties[e];n.alias&&(n=n.pointsTo);var i=n.type,o=t.pstyle(n.name);if(o){var a=o.value,s=o.units,l=o.strValue;if(r&&i.number&&null!=a&&C(a)){var c=t.cy().zoom(),d=function(t){return t*c},u=function(t,e){return d(t)+e},p=w(a);return(p?s.every((function(t){return null!=t})):null!=s)?p?a.map((function(t,e){return u(t,s[e])})).join(" "):u(a,s):p?a.map((function(t){return b(t)?t:""+d(t)})).join(" "):""+d(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n].name,o=t.pstyle(i);void 0!==o&&(o=k(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(r[i]=o)}return r},getPropsList:function(t){var e=[],r=t,n=this.properties;if(r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a],l=n[a]||n[N(a)],c=this.parse(l.name,s);c&&e.push(c)}return e},getNonDefaultPropertiesHash:function(t,e,r){var n,i,o,a,s,l,c=r.slice();for(s=0;s<e.length;s++)if(n=e[s],null!=(i=t.pstyle(n,!1)))if(null!=i.pfValue)c[0]=Q(a,c[0]),c[1]=J(a,c[1]);else for(o=i.strValue,l=0;l<o.length;l++)a=o.charCodeAt(l),c[0]=Q(a,c[0]),c[1]=J(a,c[1]);return c}};po.getPropertiesHash=po.getNonDefaultPropertiesHash;var ho={appendFromJson:function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,o=n.style||n.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var l=a[s],c=o[l];e.css(l,c)}}return e},fromJson:function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:o})}return t}},fo={appendFromString:function(t){var e,r,n,i=this,o=""+t;function a(){o=o.length>e.length?o.substr(e.length):""}function s(){r=r.length>n.length?r.substr(n.length):""}for(o=o.replace(/[/][*](\s|.)+?[*][/]/g,"");!o.match(/^\s*$/);){var l=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){gt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}e=l[0];var c=l[1];if("core"!==c&&new ln(c).invalid)gt("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),a();else{var d=l[2],u=!1;r=d;for(var p=[];!r.match(/^\s*$/);){var h=r.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!h){gt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),u=!0;break}n=h[0];var f=h[1],g=h[2];this.properties[f]?i.parse(f,g)?(p.push({name:f,val:g}),s()):(gt("Skipping property: Invalid property definition in: "+n),s()):(gt("Skipping property: Invalid property name in: "+n),s())}if(u){a();break}i.selector(c);for(var m=0;m<p.length;m++){var v=p[m];i.css(v.name,v.val)}a()}}return i},fromString:function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e}},go={};!function(){var t=I,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},r=function(e){var r=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+r+")\\s*\\,\\s*("+r+")\\)$"},n=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];go.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:r("mapData")},mapLayoutData:{mapping:!0,regex:r("mapLayoutData")},mapScratch:{mapping:!0,regex:r("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:n,singleRegexMatchValue:!0},urls:{regexes:n,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return b(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var e=t.length;return 1===e||2===e||4===e}}};var i={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e},emptyNonEmpty:function(t,e){var r=D(t),n=D(e);return r&&!n||!r&&n}},o=go.types,a=[{name:"label",type:o.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:o.text,triggersBounds:i.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:o.size,triggersBounds:i.any}],l=[{name:"target-label",type:o.text,triggersBounds:i.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:o.size,triggersBounds:i.any}],c=[{name:"font-family",type:o.fontFamily,triggersBounds:i.any},{name:"font-style",type:o.fontStyle,triggersBounds:i.any},{name:"font-weight",type:o.fontWeight,triggersBounds:i.any},{name:"font-size",type:o.size,triggersBounds:i.any},{name:"text-transform",type:o.textTransform,triggersBounds:i.any},{name:"text-wrap",type:o.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:o.size,triggersBounds:i.any},{name:"text-outline-width",type:o.size,triggersBounds:i.any},{name:"line-height",type:o.positiveNumber,triggersBounds:i.any}],d=[{name:"text-valign",type:o.valign,triggersBounds:i.any},{name:"text-halign",type:o.halign,triggersBounds:i.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:i.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:i.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:o.justification}],u=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],p=[{name:"display",type:o.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:i.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:i.any}],h=[{name:"overlay-padding",type:o.size,triggersBounds:i.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:i.zeroNonZero}],f=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],g=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},m=[{name:"height",type:o.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"width",type:o.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"shape",type:o.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:i.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:o.boundsExpansion,triggersBounds:i.any}],v=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:i.any},{name:"border-style",type:o.borderStyle}],y=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-image-containment",type:o.bgContainment},{name:"background-image-smoothing",type:o.bools},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],x=[{name:"position",type:o.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:o.size,triggersBounds:i.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:o.size,triggersBounds:i.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:i.any}],w=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-opacity",type:o.zeroOneNumber},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:o.size,triggersBounds:i.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:o.numbers,triggersBounds:i.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:o.numbers,triggersBounds:i.any},{name:"taxi-turn",type:o.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:i.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:o.angle,triggersBounds:i.any},{name:"loop-sweep",type:o.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:o.size,triggersBounds:i.any},{name:"target-distance-from-node",type:o.size,triggersBounds:i.any}],k=[{name:"ghost",type:o.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:o.zeroOneNumber}],C=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],S=[];go.pieBackgroundN=16,S.push({name:"pie-size",type:o.sizeMaybePercent});for(var _=1;_<=go.pieBackgroundN;_++)S.push({name:"pie-"+_+"-background-color",type:o.color}),S.push({name:"pie-"+_+"-background-size",type:o.percent}),S.push({name:"pie-"+_+"-background-opacity",type:o.zeroOneNumber});var T=[],E=go.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach((function(t){E.forEach((function(e){var r=e+"-"+t.name,n=t.type,i=t.triggersBounds;T.push({name:r,type:n,triggersBounds:i})}))}),{});var P=go.properties=[].concat(u,f,p,h,k,d,c,a,s,l,m,v,y,S,x,w,T,C),M=go.propertyGroups={behavior:u,transition:f,visibility:p,overlay:h,ghost:k,commonLabel:d,labelDimensions:c,mainLabel:a,sourceLabel:s,targetLabel:l,nodeBody:m,nodeBorder:v,backgroundImage:y,pie:S,compound:x,edgeLine:w,edgeArrow:T,core:C},A=go.propertyGroupNames={};(go.propertyGroupKeys=Object.keys(M)).forEach((function(t){A[t]=M[t].map((function(t){return t.name})),M[t].forEach((function(e){return e.groupKey=t}))}));var L=go.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];go.propertyNames=P.map((function(t){return t.name}));for(var N=0;N<P.length;N++){var O=P[N];P[O.name]=O}for(var F=0;F<L.length;F++){var z=L[F],B=P[z.pointsTo],R={name:z.name,alias:!0,pointsTo:B};P.push(R),P[z.name]=R}}(),go.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},go.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=R({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(t,e){for(var r=1;r<=go.pieBackgroundN;r++){var n=e.name.replace("{{i}}",r),i=e.value;t[n]=i}return t}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(t,e){return go.arrowPrefixes.forEach((function(r){var n=r+"-"+e.name,i=e.value;t[n]=i})),t}),{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);r[o]=s}}return t.defaultProperties=r,t.defaultProperties},go.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var mo={parse:function(t,e,r,n){var i=this;if(x(e))return i.parseImplWarn(t,e,r,n);var o,a=nt(t,""+e,r?"t":"f","mapping"===n||!0===n||!1===n||null==n?"dontcare":n),s=i.propCache=i.propCache||[];return(o=s[a])||(o=s[a]=i.parseImplWarn(t,e,r,n)),(r||"mapping"===n)&&(o=mt(o))&&(o.value=mt(o.value)),o},parseImplWarn:function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return i||null==e||gt("The style property `".concat(t,": ").concat(e,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==e||gt("The style value of `label` is deprecated for `"+i.name+"`"),i}};mo.parseImpl=function(t,e,r,n){var i=this;t=N(t);var o=i.properties[t],a=e,s=i.types;if(!o)return null;if(void 0===e)return null;o.alias&&(o=o.pointsTo,t=o.name);var l=b(e);l&&(e=e.trim());var c,d,u=o.type;if(!u)return null;if(r&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(x(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};if(!l||n||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(c=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:c,strValue:""+e,mapped:p,field:c[1],bypass:r}}if(e.length>=10&&"m"===e[0]&&(d=new RegExp(s.mapData.regex).exec(e))){if(r)return!1;if(u.multiple)return!1;var h=s.mapData;if(!u.color&&!u.number)return!1;var f=this.parse(t,d[4]);if(!f||f.mapped)return!1;var g=this.parse(t,d[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return gt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+f.strValue+"`"),this.parse(t,f.strValue);if(u.color){var m=f.value,v=g.value;if(!(m[0]!==v[0]||m[1]!==v[1]||m[2]!==v[2]||m[3]!==v[3]&&(null!=m[3]&&1!==m[3]||null!=v[3]&&1!==v[3])))return!1}return{name:t,value:d,strValue:""+e,mapped:h,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:f.value,valueMax:g.value,bypass:r}}}if(u.multiple&&"multiple"!==n){var y;if(y=l?e.split(/\s+/):w(e)?e:[e],u.evenMultiple&&y.length%2!=0)return null;for(var k=[],S=[],_=[],T="",E=!1,P=0;P<y.length;P++){var M=i.parse(t,y[P],r,"multiple");E=E||b(M.value),k.push(M.value),_.push(null!=M.pfValue?M.pfValue:M.value),S.push(M.units),T+=(P>0?" ":"")+M.strValue}return u.validate&&!u.validate(k,S)?null:u.singleEnum&&E?1===k.length&&b(k[0])?{name:t,value:k[0],strValue:k[0],bypass:r}:null:{name:t,value:k,pfValue:_,strValue:T,bypass:r,units:S}}var D,A,L,O=function(){for(var n=0;n<u.enums.length;n++)if(u.enums[n]===e)return{name:t,value:e,strValue:""+e,bypass:r};return null};if(u.number){var F,z="px";if(u.units&&(F=u.units),u.implicitUnits&&(z=u.implicitUnits),!u.unitless)if(l){var B="px|em"+(u.allowPercent?"|\\%":"");F&&(B=F);var R=e.match("^("+I+")("+B+")?$");R&&(e=R[1],F=R[2]||z)}else F&&!u.implicitUnits||(F=z);if(e=parseFloat(e),isNaN(e)&&void 0===u.enums)return null;if(isNaN(e)&&void 0!==u.enums)return e=a,O();if(u.integer&&(!C(A=e)||Math.floor(A)!==A))return null;if(void 0!==u.min&&(e<u.min||u.strictMin&&e===u.min)||void 0!==u.max&&(e>u.max||u.strictMax&&e===u.max))return null;var H={name:t,value:e,strValue:""+e+(F||""),units:F,bypass:r};return u.unitless||"px"!==F&&"em"!==F?H.pfValue=e:H.pfValue="px"!==F&&F?this.getEmSizeInPixels()*e:e,"ms"!==F&&"s"!==F||(H.pfValue="ms"===F?e:1e3*e),"deg"!==F&&"rad"!==F||(H.pfValue="rad"===F?e:(D=e,Math.PI*D/180)),"%"===F&&(H.pfValue=e/100),H}if(u.propList){var G=[],V=""+e;if("none"===V);else{for(var W=V.split(/\s*,\s*|\s+/),U=0;U<W.length;U++){var q=W[U].trim();i.properties[q]?G.push(q):gt("`"+q+"` is not a valid property name")}if(0===G.length)return null}return{name:t,value:G,strValue:0===G.length?"none":G.join(" "),bypass:r}}if(u.color){var X=(w(L=e)?L:null)||function(t){return j[t.toLowerCase()]}(L)||function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,r,n,i=16;return 4===t.length?(e=parseInt(t[1]+t[1],i),r=parseInt(t[2]+t[2],i),n=parseInt(t[3]+t[3],i)):(e=parseInt(t[1]+t[2],i),r=parseInt(t[3]+t[4],i),n=parseInt(t[5]+t[6],i)),[e,r,n]}}(L)||function(t){var e,r=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(r){e=[];for(var n=[],i=1;i<=3;i++){var o=r[i];if("%"===o[o.length-1]&&(n[i]=!0),o=parseFloat(o),n[i]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}var a=n[1]||n[2]||n[3],s=n[1]&&n[2]&&n[3];if(a&&!s)return;var l=r[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;e.push(l)}}return e}(L)||function(t){var e,r,n,i,o,a,s,l;function c(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var d=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(d){if((r=parseInt(d[1]))<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,(n=parseFloat(d[2]))<0||n>100)return;if(n/=100,(i=parseFloat(d[3]))<0||i>100)return;if(i/=100,void 0!==(o=d[4])&&((o=parseFloat(o))<0||o>1))return;if(0===n)a=s=l=Math.round(255*i);else{var u=i<.5?i*(1+n):i+n-i*n,p=2*i-u;a=Math.round(255*c(p,u,r+1/3)),s=Math.round(255*c(p,u,r)),l=Math.round(255*c(p,u,r-1/3))}e=[a,s,l,o]}return e}(L);return X?{name:t,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:r}:null}if(u.regex||u.regexes){if(u.enums){var Y=O();if(Y)return Y}for(var K=u.regexes?u.regexes:[u.regex],$=0;$<K.length;$++){var Z=new RegExp(K[$]).exec(e);if(Z)return{name:t,value:u.singleRegexMatchValue?Z[1]:Z,strValue:""+e,bypass:r}}return null}return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?O():null};var vo=function t(e){if(!(this instanceof t))return new t(e);P(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):ht("A style must have a core reference")},yo=vo.prototype;yo.instanceString=function(){return"style"},yo.clear=function(){for(var t=this._private,e=t.cy.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0),e.forEach((function(t){var e=t[0]._private;e.styleDirty=!0,e.appliedInitStyle=!1})),this},yo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},yo.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},yo.selector=function(t){var e="core"===t?null:new ln(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this},yo.css=function(){var t=this,e=arguments;if(1===e.length)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],o=r[i.name];void 0===o&&(o=r[O(i.name)]),void 0!==o&&this.cssRule(i.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},yo.style=yo.css,yo.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r),!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},yo.append=function(t){return M(t)?t.appendToStyle(this):w(t)?this.appendFromJson(t):b(t)&&this.appendFromString(t),this},vo.fromJson=function(t,e){var r=new vo(t);return r.fromJson(e),r},vo.fromString=function(t,e){return new vo(t).fromString(e)},[so,co,uo,po,ho,fo,go,mo].forEach((function(t){R(yo,t)})),vo.types=yo.types,vo.properties=yo.properties,vo.propertyGroups=yo.propertyGroups,vo.propertyGroupNames=yo.propertyGroupNames,vo.propertyGroupKeys=yo.propertyGroupKeys;var bo={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return M(t)?e.style=t.generateStyle(this):w(t)?e.style=vo.fromJson(this,t):b(t)?e.style=vo.fromString(this,t):e.style=vo(this),e.style},updateStyle:function(){this.mutableElements().updateStyle()}},xo={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,r,n,i,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if(b(o[0]))return a[t=o[0]];if(k(o[0])){if(!this._private.panningEnabled)return this;n=(r=o[0]).x,i=r.y,C(n)&&(a.x=n),C(i)&&(a.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0],e=o[1],"x"!==t&&"y"!==t||!C(e)||(a[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var r,n,i,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:k(t)&&(o=(i=s[0]).x,a=i.y,C(o)&&(l.x+=o),C(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:n=e,"x"!==(r=t)&&"y"!==r||!C(n)||(l[r]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var r=this.getFitViewport(t,e);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){if(C(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r,n;if(b(t)){var i=t;t=this.$(i)}else if(k(n=t)&&C(n.x1)&&C(n.x2)&&C(n.y1)&&C(n.y2)){var o=t;(r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=r.x2-r.x1,r.h=r.y2-r.y1}else _(t)||(t=this.mutableElements());if(!_(t)||!t.empty()){r=r||t.boundingBox();var a,s=this.width(),l=this.height();if(e=C(e)?e:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0)return{zoom:a=(a=(a=Math.min((s-2*e)/r.w,(l-2*e)/r.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(r.x1+r.x2))/2,y:(l-a*(r.y1+r.y2))/2}}}}},zoomRange:function(t,e){var r=this._private;if(null==e){var n=t;t=n.min,e=n.max}return C(t)&&C(e)&&t<=e?(r.minZoom=t,r.maxZoom=e):C(t)&&void 0===e&&t<=r.maxZoom?r.minZoom=t:C(e)&&void 0===t&&e>=r.minZoom&&(r.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,r,n=this._private,i=n.pan,o=n.zoom,a=!1;if(n.zoomingEnabled||(a=!0),C(t)?r=t:k(t)&&(r=t.level,null!=t.position?e=Wt(t.position,o,i):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||n.panningEnabled||(a=!0)),r=(r=r>n.maxZoom?n.maxZoom:r)<n.minZoom?n.minZoom:r,a||!C(r)||r===o||null!=e&&(!C(e.x)||!C(e.y)))return null;if(null!=e){var s=i,l=o,c=r;return{zoomed:!0,panned:!0,zoom:c,pan:{x:-c/l*(e.x-s.x)+e.x,y:-c/l*(e.y-s.y)+e.y}}}return{zoomed:!0,panned:!1,zoom:r,pan:i}},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),r=this._private;return null!=e&&e.zoomed?(r.zoom=e.zoom,e.panned&&(r.pan.x=e.pan.x,r.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,r=!0,n=!0,i=[],o=!1,a=!1;if(!t)return this;if(C(t.zoom)||(r=!1),k(t.pan)||(n=!1),!r&&!n)return this;if(r){var s=t.zoom;s<e.minZoom||s>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=s,i.push("zoom"))}if(n&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;C(l.x)&&(e.pan.x=l.x,a=!1),C(l.y)&&(e.pan.y=l.y,a=!1),a||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(b(t)){var r=t;t=this.mutableElements().filter(r)}else _(t)||(t=this.mutableElements());if(0!==t.length){var n=t.boundingBox(),i=this.width(),o=this.height();return{x:(i-(e=void 0===e?this._private.zoom:e)*(n.x1+n.x2))/2,y:(o-e*(n.y1+n.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,r=this._private,n=r.container;return r.sizeCache=r.sizeCache||(n?(t=p.getComputedStyle(n),e=function(e){return parseFloat(t.getPropertyValue(e))},{width:n.clientWidth-e("padding-left")-e("padding-right"),height:n.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-t.x)/e,x2:(r.x2-t.x)/e,y1:(r.y1-t.y)/e,y2:(r.y2-t.y)/e};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};xo.centre=xo.center,xo.autolockNodes=xo.autolock,xo.autoungrabifyNodes=xo.autoungrabify;var wo={data:Wr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Wr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Wr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};wo.attr=wo.data,wo.removeAttr=wo.removeData;var ko=function(t){var e=this,r=(t=R({},t)).container;r&&!S(r)&&S(r[0])&&(r=r[0]);var n=r?r._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=e;var o=void 0!==p&&void 0!==r&&!t.headless,a=t;a.layout=R({name:o?"grid":"null"},a.layout),a.renderer=R({name:o?"canvas":"null"},a.renderer);var s=function(t,e,r){return void 0!==e?e:void 0!==r?r:t},l=this._private={container:r,ready:!1,options:a,elements:new Bi(this),listeners:[],aniEles:new Bi(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?o:a.styleEnabled,zoom:C(a.zoom)?a.zoom:1,pan:{x:k(a.pan)&&C(a.pan.x)?a.pan.x:0,y:k(a.pan)&&C(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),l.styleEnabled&&e.setStyle([]);var c=R({},a,a.renderer);e.initRenderer(c),function(t,e){if(t.some(A))return Hr.all(t).then(e);e(t)}([a.style,a.elements],(function(t){var r=t[0],o=t[1];l.styleEnabled&&e.style().append(r),function(t,r,n){e.notifications(!1);var i=e.mutableElements();i.length>0&&i.remove(),null!=t&&(k(t)||w(t))&&e.add(t),e.one("layoutready",(function(t){e.notifications(!0),e.emit(t),e.one("load",r),e.emitAndNotify("load")})).one("layoutstop",(function(){e.one("done",n),e.emit("done")}));var o=R({},e._private.options.layout);o.eles=e.elements(),e.layout(o).run()}(o,(function(){e.startAnimationLoop(),l.ready=!0,x(a.ready)&&e.on("ready",a.ready);for(var t=0;t<i.length;t++){var r=i[t];e.on("ready",r)}n&&(n.readies=[]),e.emit("ready")}),a.done)}))},Co=ko.prototype;R(Co,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,r=e._private,n=r.options;return!S(t)&&S(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),r.container=t,r.styleEnabled=!0,e.invalidateSize(),e.initRenderer(R({},n,n.renderer,{name:"null"===n.renderer.name?"canvas":n.renderer.name})),e.startAnimationLoop(),e.style(n.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return mt(this._private.options)},json:function(t){var e=this,r=e._private,n=e.mutableElements();if(k(t)){if(e.startBatch(),t.elements){var i={},o=function(t,r){for(var n=[],o=[],a=0;a<t.length;a++){var s=t[a];if(s.data.id){var l=""+s.data.id,c=e.getElementById(l);i[l]=!0,0!==c.length?o.push({ele:c,json:s}):r?(s.group=r,n.push(s)):n.push(s)}else gt("cy.json() cannot handle elements without an ID attribute")}e.add(n);for(var d=0;d<o.length;d++){var u=o[d],p=u.ele,h=u.json;p.json(h)}};if(w(t.elements))o(t.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],c=t.elements[l];w(c)&&o(c,l)}var d=e.collection();n.filter((function(t){return!i[t.id()]})).forEach((function(t){t.isParent()?d.merge(t):t.remove()})),d.forEach((function(t){return t.children().move({parent:null})})),d.forEach((function(t){return function(t){return e.getElementById(t.id())}(t).remove()}))}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==r.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===r.pan.x&&t.pan.y===r.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var u=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],p=0;p<u.length;p++){var h=u[p];null!=t[h]&&e[h](t[h])}return e.endBatch(),this}var f={};t?f.elements=this.elements().map((function(t){return t.json()})):(f.elements={},n.forEach((function(t){var e=t.group();f.elements[e]||(f.elements[e]=[]),f.elements[e].push(t.json())}))),this._private.styleEnabled&&(f.style=e.style().json()),f.data=mt(e.data());var g=r.options;return f.zoomingEnabled=r.zoomingEnabled,f.userZoomingEnabled=r.userZoomingEnabled,f.zoom=r.zoom,f.minZoom=r.minZoom,f.maxZoom=r.maxZoom,f.panningEnabled=r.panningEnabled,f.userPanningEnabled=r.userPanningEnabled,f.pan=mt(r.pan),f.boxSelectionEnabled=r.boxSelectionEnabled,f.renderer=mt(g.renderer),f.hideEdgesOnViewport=g.hideEdgesOnViewport,f.textureOnViewport=g.textureOnViewport,f.wheelSensitivity=g.wheelSensitivity,f.motionBlur=g.motionBlur,f}}),Co.$id=Co.getElementById,[ji,Zi,to,eo,ro,no,oo,ao,bo,xo,wo].forEach((function(t){R(Co,t)}));var So={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},_o=function(t){return t.scratch("breadthfirst")},To=function(t,e){return t.scratch("breadthfirst",e)};function Eo(t){this.options=R({},So,t)}Eo.prototype.run=function(){var t,e=this.options,r=e,n=e.cy,i=r.eles,o=i.nodes().filter((function(t){return!t.isParent()})),a=i,s=r.directed,l=r.maximal||r.maximalAdjustments>0,c=re(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(_(r.roots))t=r.roots;else if(w(r.roots)){for(var d=[],u=0;u<r.roots.length;u++){var p=r.roots[u],h=n.getElementById(p);d.push(h)}t=n.collection(d)}else if(b(r.roots))t=n.$(r.roots);else if(s)t=o.roots();else{var f=i.components();t=n.collection();for(var g=function(e){var r=f[e],n=r.maxDegree(!1),i=r.filter((function(t){return t.degree(!1)===n}));t=t.add(i)},m=0;m<f.length;m++)g(m)}var v=[],y={},x=function(t,e){null==v[e]&&(v[e]=[]);var r=v[e].length;v[e].push(t),To(t,{index:r,depth:e})};a.bfs({roots:t,directed:r.directed,visit:function(t,e,r,n,i){var o=t[0],a=o.id();x(o,i),y[a]=!0}});for(var k=[],C=0;C<o.length;C++){var S=o[C];y[S.id()]||k.push(S)}var T=function(t){for(var e=v[t],r=0;r<e.length;r++){var n=e[r];null!=n?To(n,{depth:t,index:r}):(e.splice(r,1),r--)}},E=function(){for(var t=0;t<v.length;t++)T(t)},P=function(t,e){for(var r=_o(t),n=t.incomers().filter((function(t){return t.isNode()&&i.has(t)})),o=-1,a=t.id(),s=0;s<n.length;s++){var l=n[s],c=_o(l);o=Math.max(o,c.depth)}return r.depth<=o&&(e[a]?null:(function(t,e){var r=_o(t),n=r.depth,i=r.index;v[n][i]=null,x(t,e)}(t,o+1),e[a]=!0,!0))};if(s&&l){var M=[],D={},A=function(t){return M.push(t)};for(o.forEach((function(t){return M.push(t)}));M.length>0;){var L=M.shift(),N=P(L,D);if(N)L.outgoers().filter((function(t){return t.isNode()&&i.has(t)})).forEach(A);else if(null===N){gt("Detected double maximal shift for node `"+L.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}E();var O=0;if(r.avoidOverlap)for(var F=0;F<o.length;F++){var z=o[F].layoutDimensions(r),I=z.w,R=z.h;O=Math.max(O,I,R)}for(var j={},H=function(t){if(j[t.id()])return j[t.id()];for(var e=_o(t).depth,r=t.neighborhood(),n=0,i=0,a=0;a<r.length;a++){var s=r[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var l=_o(s);if(null!=l){var c=l.index,d=l.depth;if(null!=c&&null!=d){var u=v[d].length;d<e&&(n+=c/u,i++)}}}}return n/=i=Math.max(1,i),0===i&&(n=0),j[t.id()]=n,n},G=function(t,e){var r=H(t)-H(e);return 0===r?B(t.id(),e.id()):r},V=0;V<v.length;V++)v[V].sort(G),T(V);for(var W=[],U=0;U<k.length;U++)W.push(k[U]);v.unshift(W),E();for(var q=0,X=0;X<v.length;X++)q=Math.max(v[X].length,q);var Y=c.x1+c.w/2,K=c.x1+c.h/2,$=v.reduce((function(t,e){return Math.max(t,e.length)}),0);return i.nodes().layoutPositions(this,r,(function(t){var e=_o(t),n=e.depth,i=e.index,o=v[n].length,a=Math.max(c.w/((r.grid?$:o)+1),O),s=Math.max(c.h/(v.length+1),O),l=Math.min(c.w/2/v.length,c.h/2/v.length);if(l=Math.max(l,O),r.circle){var d=l*n+l-(v.length>0&&v[0].length<=3?l/2:0),u=2*Math.PI/v[n].length*i;return 0===n&&1===v[0].length&&(d=1),{x:Y+d*Math.cos(u),y:K+d*Math.sin(u)}}return{x:Y+(i+1-(o+1)/2)*a,y:(n+1)*s}})),this};var Po={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Mo(t){this.options=R({},Po,t)}Mo.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a,s=re(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l=s.x1+s.w/2,c=s.y1+s.h/2,d=(void 0===e.sweep?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),u=0,p=0;p<o.length;p++){var h=o[p].layoutDimensions(e),f=h.w,g=h.h;u=Math.max(u,f,g)}if(a=C(e.radius)?e.radius:o.length<=1?0:Math.min(s.h,s.w)/2-u,o.length>1&&e.avoidOverlap){u*=1.75;var m=Math.cos(d)-Math.cos(0),v=Math.sin(d)-Math.sin(0),y=Math.sqrt(u*u/(m*m+v*v));a=Math.max(y,a)}return n.nodes().layoutPositions(this,e,(function(t,r){var n=e.startAngle+r*d*(i?1:-1),o=a*Math.cos(n),s=a*Math.sin(n);return{x:l+o,y:c+s}})),this};var Do,Ao={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Lo(t){this.options=R({},Ao,t)}Lo.prototype.run=function(){for(var t=this.options,e=t,r=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=re(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=a.x1+a.w/2,l=a.y1+a.h/2,c=[],d=0,u=0;u<o.length;u++){var p,h=o[u];p=e.concentric(h),c.push({value:p,node:h}),h._private.scratch.concentric=p}o.updateStyle();for(var f=0;f<o.length;f++){var g=o[f].layoutDimensions(e);d=Math.max(d,g.w,g.h)}c.sort((function(t,e){return e.value-t.value}));for(var m=e.levelWidth(o),v=[[]],y=v[0],b=0;b<c.length;b++){var x=c[b];y.length>0&&Math.abs(y[0].value-x.value)>=m&&(y=[],v.push(y)),y.push(x)}var w=d+e.minNodeSpacing;if(!e.avoidOverlap){var k=v.length>0&&v[0].length>1,C=(Math.min(a.w,a.h)/2-w)/(v.length+k?1:0);w=Math.min(w,C)}for(var S=0,_=0;_<v.length;_++){var T=v[_],E=void 0===e.sweep?2*Math.PI-2*Math.PI/T.length:e.sweep,P=T.dTheta=E/Math.max(1,T.length-1);if(T.length>1&&e.avoidOverlap){var M=Math.cos(P)-Math.cos(0),D=Math.sin(P)-Math.sin(0),A=Math.sqrt(w*w/(M*M+D*D));S=Math.max(A,S)}T.r=S,S+=w}if(e.equidistant){for(var L=0,N=0,O=0;O<v.length;O++){var F=v[O].r-N;L=Math.max(L,F)}N=0;for(var z=0;z<v.length;z++){var I=v[z];0===z&&(N=I.r),I.r=N,N+=L}}for(var B={},R=0;R<v.length;R++)for(var j=v[R],H=j.dTheta,G=j.r,V=0;V<j.length;V++){var W=j[V],U=e.startAngle+(r?1:-1)*H*V,q={x:s+G*Math.cos(U),y:l+G*Math.sin(U)};B[W.node.id()]=q}return i.nodes().layoutPositions(this,e,(function(t){var e=t.id();return B[e]})),this};var No={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Oo(t){this.options=R({},No,t),this.options.layout=this}Oo.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,!0!==t.animate&&!1!==t.animate||r.emit({type:"layoutstart",layout:r}),Do=!0===t.debug;var n=Fo(e,r,t);Do&&(void 0)(n),t.randomize&&Bo(n);var i=X(),o=function(){jo(n,e,t),!0===t.fit&&e.fit(t.padding)},a=function(e){return!(r.stopped||e>=t.numIter||(Ho(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(!0===t.animate||!1===t.animate)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var e=t.eles.nodes(),i=Ro(n,t,e);e.layoutPositions(r,t,i)}},l=0,c=!0;if(!0===t.animate)!function e(){for(var r=0;c&&r<t.refresh;)c=a(l),l++,r++;c?(X()-i>=t.animationThreshold&&o(),q(e)):(Jo(n,t),s())}();else{for(;c;)c=a(l),l++;Jo(n,t),s()}return this},Oo.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Oo.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Fo=function(t,e,r){for(var n=r.eles.edges(),i=r.eles.nodes(),o={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:re(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},a=r.eles.components(),s={},l=0;l<a.length;l++)for(var c=a[l],d=0;d<c.length;d++)s[c[d].id()]=l;for(l=0;l<o.nodeSize;l++){var u=(m=i[l]).layoutDimensions(r);(N={}).isLocked=m.locked(),N.id=m.data("id"),N.parentId=m.data("parent"),N.cmptId=s[m.id()],N.children=[],N.positionX=m.position("x"),N.positionY=m.position("y"),N.offsetX=0,N.offsetY=0,N.height=u.w,N.width=u.h,N.maxX=N.positionX+N.width/2,N.minX=N.positionX-N.width/2,N.maxY=N.positionY+N.height/2,N.minY=N.positionY-N.height/2,N.padLeft=parseFloat(m.style("padding")),N.padRight=parseFloat(m.style("padding")),N.padTop=parseFloat(m.style("padding")),N.padBottom=parseFloat(m.style("padding")),N.nodeRepulsion=x(r.nodeRepulsion)?r.nodeRepulsion(m):r.nodeRepulsion,o.layoutNodes.push(N),o.idToIndex[N.id]=l}var p=[],h=0,f=-1,g=[];for(l=0;l<o.nodeSize;l++){var m,v=(m=o.layoutNodes[l]).parentId;null!=v?o.layoutNodes[o.idToIndex[v]].children.push(m.id):(p[++f]=m.id,g.push(m.id))}for(o.graphSet.push(g);h<=f;){var y=p[h++],b=o.idToIndex[y],w=o.layoutNodes[b].children;if(w.length>0)for(o.graphSet.push(w),l=0;l<w.length;l++)p[++f]=w[l]}for(l=0;l<o.graphSet.length;l++){var k=o.graphSet[l];for(d=0;d<k.length;d++){var C=o.idToIndex[k[d]];o.indexToGraph[C]=l}}for(l=0;l<o.edgeSize;l++){var S=n[l],_={};_.id=S.data("id"),_.sourceId=S.data("source"),_.targetId=S.data("target");var T=x(r.idealEdgeLength)?r.idealEdgeLength(S):r.idealEdgeLength,E=x(r.edgeElasticity)?r.edgeElasticity(S):r.edgeElasticity,P=o.idToIndex[_.sourceId],M=o.idToIndex[_.targetId];if(o.indexToGraph[P]!=o.indexToGraph[M]){for(var D=zo(_.sourceId,_.targetId,o),A=o.graphSet[D],L=0,N=o.layoutNodes[P];-1===A.indexOf(N.id);)N=o.layoutNodes[o.idToIndex[N.parentId]],L++;for(N=o.layoutNodes[M];-1===A.indexOf(N.id);)N=o.layoutNodes[o.idToIndex[N.parentId]],L++;T*=L*r.nestingFactor}_.idealLength=T,_.elasticity=E,o.layoutEdges.push(_)}return o},zo=function(t,e,r){var n=Io(t,e,0,r);return 2>n.count?0:n.graph},Io=function t(e,r,n,i){var o=i.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(r))return{count:2,graph:n};for(var a=0,s=0;s<o.length;s++){var l=o[s],c=i.idToIndex[l],d=i.layoutNodes[c].children;if(0!==d.length){var u=t(e,r,i.indexToGraph[i.idToIndex[d[0]]],i);if(0!==u.count){if(1!==u.count)return u;if(2==++a)break}}}return{count:a,graph:n}},Bo=function(t,e){for(var r=t.clientWidth,n=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*r,o.positionY=Math.random()*n)}},Ro=function(t,e,r){var n=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(r.forEach((function(e){var r=t.layoutNodes[t.idToIndex[e.data("id")]];i.x1=Math.min(i.x1,r.positionX),i.x2=Math.max(i.x2,r.positionX),i.y1=Math.min(i.y1,r.positionY),i.y2=Math.max(i.y2,r.positionY)})),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(r,o){var a=t.layoutNodes[t.idToIndex[r.data("id")]];if(e.boundingBox){var s=(a.positionX-i.x1)/i.w,l=(a.positionY-i.y1)/i.h;return{x:n.x1+s*n.w,y:n.y1+l*n.h}}return{x:a.positionX,y:a.positionY}}},jo=function(t,e,r){var n=r.layout,i=r.eles.nodes(),o=Ro(t,r,i);i.positions(o),!0!==t.ready&&(t.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},Ho=function(t,e,r){Go(t,e),Xo(t),Yo(t,e),Ko(t),$o(t)},Go=function(t,e){for(var r=0;r<t.graphSet.length;r++)for(var n=t.graphSet[r],i=n.length,o=0;o<i;o++)for(var a=t.layoutNodes[t.idToIndex[n[o]]],s=o+1;s<i;s++){var l=t.layoutNodes[t.idToIndex[n[s]]];Wo(a,l,t,e)}},Vo=function(t){return-t+2*t*Math.random()},Wo=function(t,e,r,n){if(t.cmptId===e.cmptId||r.isCompound){var i=e.positionX-t.positionX,o=e.positionY-t.positionY;0===i&&0===o&&(i=Vo(1),o=Vo(1));var a=Uo(t,e,i,o);if(a>0)var s=(c=n.nodeOverlap*a)*i/(g=Math.sqrt(i*i+o*o)),l=c*o/g;else{var c,d=qo(t,i,o),u=qo(e,-1*i,-1*o),p=u.x-d.x,h=u.y-d.y,f=p*p+h*h,g=Math.sqrt(f);s=(c=(t.nodeRepulsion+e.nodeRepulsion)/f)*p/g,l=c*h/g}t.isLocked||(t.offsetX-=s,t.offsetY-=l),e.isLocked||(e.offsetX+=s,e.offsetY+=l)}},Uo=function(t,e,r,n){if(r>0)var i=t.maxX-e.minX;else i=e.maxX-t.minX;if(n>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},qo=function(t,e,r){var n=t.positionX,i=t.positionY,o=t.height||1,a=t.width||1,s=r/e,l=o/a,c={};return 0===e&&0<r||0===e&&0>r?(c.x=n,c.y=i+o/2,c):0<e&&-1*l<=s&&s<=l?(c.x=n+a/2,c.y=i+a*r/2/e,c):0>e&&-1*l<=s&&s<=l?(c.x=n-a/2,c.y=i-a*r/2/e,c):0<r&&(s<=-1*l||s>=l)?(c.x=n+o*e/2/r,c.y=i+o/2,c):0>r&&(s<=-1*l||s>=l)?(c.x=n-o*e/2/r,c.y=i-o/2,c):c},Xo=function(t,e){for(var r=0;r<t.edgeSize;r++){var n=t.layoutEdges[r],i=t.idToIndex[n.sourceId],o=t.layoutNodes[i],a=t.idToIndex[n.targetId],s=t.layoutNodes[a],l=s.positionX-o.positionX,c=s.positionY-o.positionY;if(0!==l||0!==c){var d=qo(o,l,c),u=qo(s,-1*l,-1*c),p=u.x-d.x,h=u.y-d.y,f=Math.sqrt(p*p+h*h),g=Math.pow(n.idealLength-f,2)/n.elasticity;if(0!==f)var m=g*p/f,v=g*h/f;else m=0,v=0;o.isLocked||(o.offsetX+=m,o.offsetY+=v),s.isLocked||(s.offsetX-=m,s.offsetY-=v)}}},Yo=function(t,e){for(var r=0;r<t.graphSet.length;r++){var n=t.graphSet[r],i=n.length;if(0===r)var o=t.clientHeight/2,a=t.clientWidth/2;else{var s=t.layoutNodes[t.idToIndex[n[0]]],l=t.layoutNodes[t.idToIndex[s.parentId]];o=l.positionX,a=l.positionY}for(var c=0;c<i;c++){var d=t.layoutNodes[t.idToIndex[n[c]]];if(!d.isLocked){var u=o-d.positionX,p=a-d.positionY,h=Math.sqrt(u*u+p*p);if(h>1){var f=e.gravity*u/h,g=e.gravity*p/h;d.offsetX+=f,d.offsetY+=g}}}}},Ko=function(t,e){var r=[],n=0,i=-1;for(r.push.apply(r,t.graphSet[0]),i+=t.graphSet[0].length;n<=i;){var o=r[n++],a=t.idToIndex[o],s=t.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var c=s.offsetX,d=s.offsetY,u=0;u<l.length;u++){var p=t.layoutNodes[t.idToIndex[l[u]]];p.offsetX+=c,p.offsetY+=d,r[++i]=l[u]}s.offsetX=0,s.offsetY=0}}},$o=function(t,e){for(var r=0;r<t.nodeSize;r++)0<(i=t.layoutNodes[r]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(r=0;r<t.nodeSize;r++)if(!(0<(i=t.layoutNodes[r]).children.length||i.isLocked)){var n=Zo(i.offsetX,i.offsetY,t.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Qo(i,t)}for(r=0;r<t.nodeSize;r++){var i;0<(i=t.layoutNodes[r]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Zo=function(t,e,r){var n=Math.sqrt(t*t+e*e);if(n>r)var i={x:r*t/n,y:r*e/n};else i={x:t,y:e};return i},Qo=function t(e,r){var n=e.parentId;if(null!=n){var i=r.layoutNodes[r.idToIndex[n]],o=!1;return(null==i.maxX||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(null==i.minX||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(null==i.maxY||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(null==i.minY||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o?t(i,r):void 0}},Jo=function(t,e){for(var r=t.layoutNodes,n=[],i=0;i<r.length;i++){var o=r[i],a=o.cmptId;(n[a]=n[a]||[]).push(o)}var s=0;for(i=0;i<n.length;i++)if(g=n[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var c=g[l];g.x1=Math.min(g.x1,c.positionX-c.width/2),g.x2=Math.max(g.x2,c.positionX+c.width/2),g.y1=Math.min(g.y1,c.positionY-c.height/2),g.y2=Math.max(g.y2,c.positionY+c.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,s+=g.w*g.h}n.sort((function(t,e){return e.w*e.h-t.w*t.h}));var d=0,u=0,p=0,h=0,f=Math.sqrt(s)*t.clientWidth/t.clientHeight;for(i=0;i<n.length;i++){var g;if(g=n[i]){for(l=0;l<g.length;l++)(c=g[l]).isLocked||(c.positionX+=d-g.x1,c.positionY+=u-g.y1);d+=g.w+e.componentSpacing,p+=g.w+e.componentSpacing,h=Math.max(h,g.h),p>f&&(u+=h+e.componentSpacing,d=0,p=0,h=0)}}},ta={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ea(t){this.options=R({},ta,t)}ea.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=re(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===o.h||0===o.w)n.nodes().layoutPositions(this,e,(function(t){return{x:o.x1,y:o.y1}}));else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),l=Math.round(s),c=Math.round(o.w/o.h*s),d=function(t){if(null==t)return Math.min(l,c);Math.min(l,c)==l?l=t:c=t},u=function(t){if(null==t)return Math.max(l,c);Math.max(l,c)==l?l=t:c=t},p=e.rows,h=null!=e.cols?e.cols:e.columns;if(null!=p&&null!=h)l=p,c=h;else if(null!=p&&null==h)l=p,c=Math.ceil(a/l);else if(null==p&&null!=h)c=h,l=Math.ceil(a/c);else if(c*l>a){var f=d(),g=u();(f-1)*g>=a?d(f-1):(g-1)*f>=a&&u(g-1)}else for(;c*l<a;){var m=d(),v=u();(v+1)*m>=a?u(v+1):d(m+1)}var y=o.w/c,b=o.h/l;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var x=0;x<i.length;x++){var w=i[x],k=w._private.position;null!=k.x&&null!=k.y||(k.x=0,k.y=0);var C=w.layoutDimensions(e),S=e.avoidOverlapPadding,_=C.w+S,T=C.h+S;y=Math.max(y,_),b=Math.max(b,T)}for(var E={},P=function(t,e){return!!E["c-"+t+"-"+e]},M=function(t,e){E["c-"+t+"-"+e]=!0},D=0,A=0,L=function(){++A>=c&&(A=0,D++)},N={},O=0;O<i.length;O++){var F=i[O],z=e.position(F);if(z&&(void 0!==z.row||void 0!==z.col)){var I={row:z.row,col:z.col};if(void 0===I.col)for(I.col=0;P(I.row,I.col);)I.col++;else if(void 0===I.row)for(I.row=0;P(I.row,I.col);)I.row++;N[F.id()]=I,M(I.row,I.col)}}i.layoutPositions(this,e,(function(t,e){var r,n;if(t.locked()||t.isParent())return!1;var i=N[t.id()];if(i)r=i.col*y+y/2+o.x1,n=i.row*b+b/2+o.y1;else{for(;P(D,A);)L();r=A*y+y/2+o.x1,n=D*b+b/2+o.y1,M(D,A),L()}return{x:r,y:n}}))}return this};var ra={ready:function(){},stop:function(){}};function na(t){this.options=R({},ra,t)}na.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions((function(){return{x:0,y:0}})),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this},na.prototype.stop=function(){return this};var ia={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function oa(t){this.options=R({},ia,t)}oa.prototype.run=function(){var t=this.options,e=t.eles.nodes(),r=x(t.positions);return e.layoutPositions(this,t,(function(e,n){var i=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(r)return t.positions(e);var n=t.positions[e._private.data.id];return null==n?null:n}(e);return!e.locked()&&null!=i&&i})),this};var aa={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function sa(t){this.options=R({},aa,t)}sa.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=re(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return r.nodes().layoutPositions(this,t,(function(t,e){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}})),this};var la=[{name:"breadthfirst",impl:Eo},{name:"circle",impl:Mo},{name:"concentric",impl:Lo},{name:"cose",impl:Oo},{name:"grid",impl:ea},{name:"null",impl:na},{name:"preset",impl:oa},{name:"random",impl:sa}];function ca(t){this.options=t,this.notifications=0}var da=function(){},ua=function(){throw new Error("A headless instance can not render images")};ca.prototype={recalculateRenderedStyle:da,notify:function(){this.notifications++},init:da,isHeadless:function(){return!0},png:ua,jpg:ua};var pa={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,r=function(t,e,r,n,i,o,a){var s=i.x-r/2-a,l=i.x+r/2+a,c=i.y-r/2-a,d=i.y+r/2+a;return s<=t&&t<=l&&c<=e&&e<=d},n=function(t,e,r,n,i){var o=t*Math.cos(n)-e*Math.sin(n),a=(t*Math.sin(n)+e*Math.cos(n))*r;return{x:o*r+i.x,y:a+i.y}},i=function(t,e,r,i){for(var o=[],a=0;a<t.length;a+=2){var s=t[a],l=t[a+1];o.push(n(s,l,e,r,i))}return o},o=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push(n.x,n.y)}return e},a=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},s=function(n,s){b(s)&&(s=t[s]),t[n]=R({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,r,n,a,s){var l=o(i(this.points,r+2*s,n,a));return ge(t,e,l)},roughCollide:r,draw:function(t,r,n,o){var a=i(this.points,r,n,o);e.arrowShapeImpl("polygon")(t,a)},spacing:function(t){return 0},gap:a},s)};s("none",{collide:dt,roughCollide:dt,draw:pt,spacing:ut,gap:ut}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(t,r,o,a,s){var l=i(this.points,r,o,a),c=this.controlPoint,d=n(c[0],c[1],r,o,a);e.arrowShapeImpl(this.name)(t,l,d)},gap:function(t){return.8*a(t)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,r,n,a,s,l){var c=o(i(this.points,r+2*l,n,a)),d=o(i(this.pointsTee,r+2*l,n,a));return ge(t,e,c)||ge(t,e,d)},draw:function(t,r,n,o,a){var s=i(this.points,r,n,o),l=i(this.pointsTee,r,n,o);e.arrowShapeImpl(this.name)(t,s,l)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(t,e,r,n,a,s,l){var c=a,d=Math.pow(c.x-t,2)+Math.pow(c.y-e,2)<=Math.pow((r+2*l)*this.radius,2),u=o(i(this.points,r+2*l,n,a));return ge(t,e,u)||d},draw:function(t,r,n,o,a){var s=i(this.pointsTr,r,n,o);e.arrowShapeImpl(this.name)(t,s,o.x,o.y,this.radius*r)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var r=this.baseCrossLinePts.slice(),n=e/t;return r[3]=r[3]-n,r[5]=r[5]-n,r},collide:function(t,e,r,n,a,s,l){var c=o(i(this.points,r+2*l,n,a)),d=o(i(this.crossLinePts(r,s),r+2*l,n,a));return ge(t,e,c)||ge(t,e,d)},draw:function(t,r,n,o,a){var s=i(this.points,r,n,o),l=i(this.crossLinePts(r,a),r,n,o);e.arrowShapeImpl(this.name)(t,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*a(t)}}),s("circle",{radius:.15,collide:function(t,e,r,n,i,o,a){var s=i;return Math.pow(s.x-t,2)+Math.pow(s.y-e,2)<=Math.pow((r+2*a)*this.radius,2)},draw:function(t,r,n,i,o){e.arrowShapeImpl(this.name)(t,i.x,i.y,this.radius*r)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},ha={projectIntoViewport:function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],a=n[4],s=r.pan(),l=r.zoom();return[((t-i)/a-s.x)/l,((e-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=p.getComputedStyle(t),n=function(t){return parseFloat(r.getPropertyValue(t))},i=n("padding-left"),o=n("padding-right"),a=n("padding-top"),s=n("padding-bottom"),l=n("border-left-width"),c=n("border-right-width"),d=n("border-top-width"),u=(n("border-bottom-width"),t.clientWidth),h=t.clientHeight,f=i+o,g=a+s,m=l+c,v=e.width/(u+m),y=u-f,b=h-g,x=e.left+i+l,w=e.top+a+d;return this.containerBB=[x,w,y,b,v]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]},findNearestElements:function(t,e,r,n){var i,o,a=this,s=this,l=s.getCachedZSortedEles(),c=[],d=s.cy.zoom(),u=s.cy.hasCompoundNodes(),p=(n?24:8)/d,h=(n?8:2)/d,f=(n?8:2)/d,g=1/0;function m(t,e){if(t.isNode()){if(o)return;o=t,c.push(t)}if(t.isEdge()&&(null==e||e<g))if(i){if(i.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var r=0;r<c.length;r++)if(c[r].isEdge()){c[r]=t,i=t,g=null!=e?e:g;break}}else c.push(t),i=t,g=null!=e?e:g}function v(r){var n=r.outerWidth()+2*h,i=r.outerHeight()+2*h,o=n/2,l=i/2,c=r.position();if(c.x-o<=t&&t<=c.x+o&&c.y-l<=e&&e<=c.y+l&&s.nodeShapes[a.getNodeShape(r)].checkPoint(t,e,0,n,i,c.x,c.y))return m(r,0),!0}function y(r){var n,i=r._private,o=i.rscratch,l=r.pstyle("width").pfValue,d=r.pstyle("arrow-scale").value,h=l/2+p,f=h*h,g=2*h,y=i.source,b=i.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var x=o.allpts,w=0;w+3<x.length;w+=2)if(ue(t,e,x[w],x[w+1],x[w+2],x[w+3],g)&&f>(n=fe(t,e,x[w],x[w+1],x[w+2],x[w+3])))return m(r,n),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(x=o.allpts,w=0;w+5<o.allpts.length;w+=4)if(pe(t,e,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5],g)&&f>(n=he(t,e,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5])))return m(r,n),!0;y=y||i.source,b=b||i.target;var k=a.getArrowWidth(l,d),C=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(w=0;w<C.length;w++){var S=C[w],_=s.arrowShapes[r.pstyle(S.name+"-arrow-shape").value],T=r.pstyle("width").pfValue;if(_.roughCollide(t,e,k,S.angle,{x:S.x,y:S.y},T,p)&&_.collide(t,e,k,S.angle,{x:S.x,y:S.y},T,p))return m(r),!0}u&&c.length>0&&(v(y),v(b))}function b(t,e,r){return Ct(t,e,r)}function x(r,n){var i,o=r._private,a=f;i=n?n+"-":"",r.boundingBox();var s=o.labelBounds[n||"main"],l=r.pstyle(i+"label").value;if("yes"===r.pstyle("text-events").strValue&&l){var c=b(o.rscratch,"labelX",n),d=b(o.rscratch,"labelY",n),u=b(o.rscratch,"labelAngle",n),p=r.pstyle(i+"text-margin-x").pfValue,h=r.pstyle(i+"text-margin-y").pfValue,g=s.x1-a-p,v=s.x2+a-p,y=s.y1-a-h,x=s.y2+a-h;if(u){var w=Math.cos(u),k=Math.sin(u),C=function(t,e){return{x:(t-=c)*w-(e-=d)*k+c,y:t*k+e*w+d}},S=C(g,y),_=C(g,x),T=C(v,y),E=C(v,x),P=[S.x+p,S.y+h,T.x+p,T.y+h,E.x+p,E.y+h,_.x+p,_.y+h];if(ge(t,e,P))return m(r),!0}else if(le(s,t,e))return m(r),!0}}r&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var k=l[w];k.isNode()?v(k)||x(k):y(k)||x(k)||x(k,"source")||x(k,"target")}return c},getAllInBox:function(t,e,r,n){for(var i,o,a=this.getCachedZSortedEles().interactive,s=[],l=Math.min(t,r),c=Math.max(t,r),d=Math.min(e,n),u=Math.max(e,n),p=re({x1:t=l,y1:e=d,x2:r=c,y2:n=u}),h=0;h<a.length;h++){var f=a[h];if(f.isNode()){var g=f,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});se(p,m)&&!ce(m,p)&&s.push(g)}else{var v=f,y=v._private,b=y.rscratch;if(null!=b.startX&&null!=b.startY&&!le(p,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!le(p,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var x=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,k=0;k<x.length;k++)if(i=p,o=x[k],!le(i,o.x,o.y)){w=!1;break}w&&s.push(v)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(v)}}return s}},fa={calculateArrowAngles:function(t){var e,r,n,i,o,a,s=t._private.rscratch,l="haystack"===s.edgeType,c="bezier"===s.edgeType,d="multibezier"===s.edgeType,u="segments"===s.edgeType,p="compound"===s.edgeType,h="self"===s.edgeType;if(l?(n=s.haystackPts[0],i=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(n=s.arrowStartX,i=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),g=s.midX,m=s.midY,u)e=n-s.segpts[0],r=i-s.segpts[1];else if(d||p||h||c){var f=s.allpts;e=n-Jt(f[0],f[2],f[4],.1),r=i-Jt(f[1],f[3],f[5],.1)}else e=n-g,r=i-m;s.srcArrowAngle=Xt(e,r);var g=s.midX,m=s.midY;if(l&&(g=(n+o)/2,m=(i+a)/2),e=o-n,r=a-i,u)if((f=s.allpts).length/2%2==0){var v=(y=f.length/2)-2;e=f[y]-f[v],r=f[y+1]-f[v+1]}else{v=(y=f.length/2-1)-2;var y,b=y+2;e=f[y]-f[v],r=f[y+1]-f[v+1]}else if(d||p||h){var x,w,k,C;f=s.allpts;if(s.ctrlpts.length/2%2==0){var S=2+(_=2+(T=f.length/2-1));x=Jt(f[T],f[_],f[S],0),w=Jt(f[T+1],f[_+1],f[S+1],0),k=Jt(f[T],f[_],f[S],1e-4),C=Jt(f[T+1],f[_+1],f[S+1],1e-4)}else{var _,T;S=2+(_=f.length/2-1),x=Jt(f[T=_-2],f[_],f[S],.4999),w=Jt(f[T+1],f[_+1],f[S+1],.4999),k=Jt(f[T],f[_],f[S],.5),C=Jt(f[T+1],f[_+1],f[S+1],.5)}e=k-x,r=C-w}if(s.midtgtArrowAngle=Xt(e,r),s.midDispX=e,s.midDispY=r,e*=-1,r*=-1,u&&((f=s.allpts).length/2%2==0||(e=-(f[b=2+(y=f.length/2-1)]-f[y]),r=-(f[b+1]-f[y+1]))),s.midsrcArrowAngle=Xt(e,r),u)e=o-s.segpts[s.segpts.length-2],r=a-s.segpts[s.segpts.length-1];else if(d||p||h||c){var E=(f=s.allpts).length;e=o-Jt(f[E-6],f[E-4],f[E-2],.9),r=a-Jt(f[E-5],f[E-3],f[E-1],.9)}else e=o-g,r=a-m;s.tgtArrowAngle=Xt(e,r)}};fa.getArrowWidth=fa.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(13.37*t,.9),29)*e,r[t+", "+e]=n,n)};var ga={};function ma(t){var e=[];if(null!=t){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}ga.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=n.source,s=n.target,l=a.position(),c=s.position(),d=a.width(),u=s.width(),p=a.height(),h=s.height(),f=r.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*d*f+l.x,i.source.y*p*f+l.y,i.target.x*u*f+c.x,i.target.y*h*f+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},ga.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,i=e.intersectionPts,o=e.vectorNormInverse,a=t.pstyle("edge-distances").value,s=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),c=Math.min(s.pfValue.length,l.pfValue.length);r.edgeType="segments",r.segpts=[];for(var d=0;d<c;d++){var u=s.pfValue[d],p=l.pfValue[d],h=1-u,f=u,g="node-position"===a?n:i,m={x:g.x1*h+g.x2*f,y:g.y1*h+g.y2*f};r.segpts.push(m.x+o.x*p,m.y+o.y*p)}},ga.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,u=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=r,h=u;n&&(p=0,h=l);var f=c-Math.PI/2,g=f-d/2,m=f+d/2,v=String(c+"_"+d);p=void 0===o[v]?o[v]=0:++o[v],i.ctrlpts=[a.x+1.4*Math.cos(g)*h*(p/3+1),a.y+1.4*Math.sin(g)*h*(p/3+1),a.x+1.4*Math.cos(m)*h*(p/3+1),a.y+1.4*Math.sin(m)*h*(p/3+1)]},ga.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,l=e.srcH,c=e.tgtW,d=e.tgtH,u=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),h=p?p.pfValue[0]:void 0,f=r,g=u;n&&(f=0,g=h);var m={x:o.x-s/2,y:o.y-l/2},v={x:a.x-c/2,y:a.y-d/2},y={x:Math.min(m.x,v.x),y:Math.min(m.y,v.y)},b=Math.max(.5,Math.log(.01*s)),x=Math.max(.5,Math.log(.01*c));i.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*b,y.x-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*x,y.y]},ga.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},ga.findBezierPoints=function(t,e,r,n,i){var o=t._private.rscratch,a=e.vectorNormInverse,s=e.posPts,l=e.intersectionPts,c=t.pstyle("edge-distances").value,d=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),p=t.pstyle("control-point-weights"),h=u&&p?Math.min(u.value.length,p.value.length):1,f=u?u.pfValue[0]:void 0,g=p.value[0],m=n;o.edgeType=m?"multibezier":"bezier",o.ctrlpts=[];for(var v=0;v<h;v++){var y,b=(.5-e.eles.length/2+r)*d*(i?-1:1),x=Kt(b);m&&(f=u?u.pfValue[v]:d,g=p.value[v]);var w=void 0!==(y=n?f:void 0!==f?x*f:void 0)?y:b,k=1-g,C=g,S="node-position"===c?s:l,_={x:S.x1*k+S.x2*C,y:S.y1*k+S.y2*C};o.ctrlpts.push(_.x+a.x*w,_.y+a.y*w)}},ga.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",o="leftward",a="rightward",s="downward",l="upward",c=e.posPts,d=e.srcW,u=e.srcH,p=e.tgtW,h=e.tgtH,f="node-position"!==t.pstyle("edge-distances").value,g=t.pstyle("taxi-direction").value,m=g,v=t.pstyle("taxi-turn"),y="%"===v.units,b=v.pfValue,x=b<0,w=t.pstyle("taxi-turn-min-distance").pfValue,k=f?(d+p)/2:0,C=f?(u+h)/2:0,S=c.x2-c.x1,_=c.y2-c.y1,T=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},E=T(S,k),P=T(_,C),M=!1;"auto"===m?g=Math.abs(E)>Math.abs(P)?i:n:m===l||m===s?(g=n,M=!0):m!==o&&m!==a||(g=i,M=!0);var D,A=g===n,L=A?P:E,N=A?_:S,O=Kt(N),F=!1;M&&(y||x)||!(m===s&&N<0||m===l&&N>0||m===o&&N>0||m===a&&N<0)||(L=(O*=-1)*Math.abs(L),F=!0);var z=function(t){return Math.abs(t)<w||Math.abs(t)>=Math.abs(L)},I=z(D=y?(b<0?1+b:b)*L:(b<0?L:0)+b*O),B=z(Math.abs(L)-Math.abs(D));if(!I&&!B||F)if(A){var R=c.y1+D+(f?u/2*O:0),j=c.x1,H=c.x2;r.segpts=[j,R,H,R]}else{var G=c.x1+D+(f?d/2*O:0),V=c.y1,W=c.y2;r.segpts=[G,V,G,W]}else if(A){var U=Math.abs(N)<=u/2,q=Math.abs(S)<=p/2;if(U){var X=(c.x1+c.x2)/2,Y=c.y1,K=c.y2;r.segpts=[X,Y,X,K]}else if(q){var $=(c.y1+c.y2)/2,Z=c.x1,Q=c.x2;r.segpts=[Z,$,Q,$]}else r.segpts=[c.x1,c.y2]}else{var J=Math.abs(N)<=d/2,tt=Math.abs(_)<=h/2;if(J){var et=(c.y1+c.y2)/2,rt=c.x1,nt=c.x2;r.segpts=[rt,et,nt,et]}else if(tt){var it=(c.x1+c.x2)/2,ot=c.y1,at=c.y2;r.segpts=[it,ot,it,at]}else r.segpts=[c.x2,c.y1]}},ga.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if("bezier"===r.edgeType){var n=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,l=e.tgtH,c=e.srcShape,d=e.tgtShape,u=!C(r.startX)||!C(r.startY),p=!C(r.arrowStartX)||!C(r.arrowStartY),h=!C(r.endX)||!C(r.endY),f=!C(r.arrowEndX)||!C(r.arrowEndY),g=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,m=$t({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),v=m<g,y=$t({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),b=y<g,x=!1;if(u||p||v){x=!0;var w={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},k=Math.sqrt(w.x*w.x+w.y*w.y),S={x:w.x/k,y:w.y/k},_=Math.max(o,a),T={x:r.ctrlpts[0]+2*S.x*_,y:r.ctrlpts[1]+2*S.y*_},E=c.intersectLine(n.x,n.y,o,a,T.x,T.y,0);v?(r.ctrlpts[0]=r.ctrlpts[0]+S.x*(g-m),r.ctrlpts[1]=r.ctrlpts[1]+S.y*(g-m)):(r.ctrlpts[0]=E[0]+S.x*g,r.ctrlpts[1]=E[1]+S.y*g)}if(h||f||b){x=!0;var P={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},M=Math.sqrt(P.x*P.x+P.y*P.y),D={x:P.x/M,y:P.y/M},A=Math.max(o,a),L={x:r.ctrlpts[0]+2*D.x*A,y:r.ctrlpts[1]+2*D.y*A},N=d.intersectLine(i.x,i.y,s,l,L.x,L.y,0);b?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(g-y),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(g-y)):(r.ctrlpts[0]=N[0]+D.x*g,r.ctrlpts[1]=N[1]+D.y*g)}x&&this.findEndpoints(t)}},ga.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);var n;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,e.midX=Jt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],.5),e.midY=Jt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var a=e.segpts.length/2-1;e.midX=e.segpts[a],e.midY=e.segpts[a+1]}},ga.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||C(e.startX)&&C(e.startY)&&C(e.endX)&&C(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,gt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ga.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var r=this,n=r.cy.hasCompoundNodes(),i={map:new _t,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var r=this.map.get(t[0]);null==r&&(r=new _t,this.map.set(t[0],r)),r.set(t[1],e)}},o=[],a=[],s=0;s<t.length;s++){var l=t[s],c=l._private,d=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==d){var u="unbundled-bezier"===d||"segments"===d||"straight"===d||"taxi"===d,p="unbundled-bezier"===d||"bezier"===d,h=c.source,f=c.target,g=[h.poolIndex(),f.poolIndex()].sort(),m=i.get(g);null==m&&(m={eles:[]},i.set(g,m),o.push(g)),m.eles.push(l),u&&(m.hasUnbundled=!0),p&&(m.hasBezier=!0)}else a.push(l)}for(var v=function(t){var a=o[t],s=i.get(a),l=void 0;if(!s.hasUnbundled){var c=s.eles[0].parallelEdges().filter((function(t){return t.isBundledBezier()}));kt(s.eles),c.forEach((function(t){return s.eles.push(t)})),s.eles.sort((function(t,e){return t.poolIndex()-e.poolIndex()}))}var d=s.eles[0],u=d.source(),p=d.target();if(u.poolIndex()>p.poolIndex()){var h=u;u=p,p=h}var f=s.srcPos=u.position(),g=s.tgtPos=p.position(),m=s.srcW=u.outerWidth(),v=s.srcH=u.outerHeight(),y=s.tgtW=p.outerWidth(),b=s.tgtH=p.outerHeight(),x=s.srcShape=r.nodeShapes[e.getNodeShape(u)],w=s.tgtShape=r.nodeShapes[e.getNodeShape(p)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var k=0;k<s.eles.length;k++){var S=s.eles[k],_=S[0]._private.rscratch,T=S.pstyle("curve-style").value,E="unbundled-bezier"===T||"segments"===T||"taxi"===T,P=!u.same(S.source());if(!s.calculatedIntersection&&u!==p&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var M=x.intersectLine(f.x,f.y,m,v,g.x,g.y,0),D=s.srcIntn=M,A=w.intersectLine(g.x,g.y,y,b,f.x,f.y,0),L=s.tgtIntn=A,N=s.intersectionPts={x1:M[0],x2:A[0],y1:M[1],y2:A[1]},O=s.posPts={x1:f.x,x2:g.x,y1:f.y,y2:g.y},F=A[1]-M[1],z=A[0]-M[0],I=Math.sqrt(z*z+F*F),B=s.vector={x:z,y:F},R=s.vectorNorm={x:B.x/I,y:B.y/I},j={x:-R.y,y:R.x};s.nodesOverlap=!C(I)||w.checkPoint(M[0],M[1],0,y,b,g.x,g.y)||x.checkPoint(A[0],A[1],0,m,v,f.x,f.y),s.vectorNormInverse=j,l={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:g,tgtPos:f,srcW:y,srcH:b,tgtW:m,tgtH:v,srcIntn:L,tgtIntn:D,srcShape:w,tgtShape:x,posPts:{x1:O.x2,y1:O.y2,x2:O.x1,y2:O.y1},intersectionPts:{x1:N.x2,y1:N.y2,x2:N.x1,y2:N.y1},vector:{x:-B.x,y:-B.y},vectorNorm:{x:-R.x,y:-R.y},vectorNormInverse:{x:-j.x,y:-j.y}}}var H=P?l:s;_.nodesOverlap=H.nodesOverlap,_.srcIntn=H.srcIntn,_.tgtIntn=H.tgtIntn,n&&(u.isParent()||u.isChild()||p.isParent()||p.isChild())&&(u.parents().anySame(p)||p.parents().anySame(u)||u.same(p)&&u.isParent())?e.findCompoundLoopPoints(S,H,k,E):u===p?e.findLoopPoints(S,H,k,E):"segments"===T?e.findSegmentsPoints(S,H):"taxi"===T?e.findTaxiPoints(S,H):"straight"===T||!E&&s.eles.length%2==1&&k===Math.floor(s.eles.length/2)?e.findStraightEdgePoints(S):e.findBezierPoints(S,H,k,E,P),e.findEndpoints(S),e.tryToCorrectInvalidPoints(S,H),e.checkForInvalidEdgeWarning(S),e.storeAllpts(S),e.storeEdgeProjections(S),e.calculateArrowAngles(S),e.recalculateEdgeLabelProjections(S),e.calculateLabelAngles(S)}},y=0;y<o.length;y++)v(y);this.findHaystackPoints(a)}},ga.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),ma(e.segpts)},ga.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if("bezier"===r||"multibezier"===r||"self"===r||"compound"===r)return this.recalculateRenderedStyle(t),ma(e.ctrlpts)},ga.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var va={manualEndptToPx:function(t,e){var r=t.position(),n=t.outerWidth(),i=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*n),"%"===e.units[1]&&(o[1]=o[1]*i),o[0]+=r.x,o[1]+=r.y,o}var a=e.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(n,i),l=[r.x+Math.cos(a)*s,r.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(t)].intersectLine(r.x,r.y,n,i,l[0],l[1],0)},findEndpoints:function(t){var e,r,n,i,o,a=this,s=t.source()[0],l=t.target()[0],c=s.position(),d=l.position(),u=t.pstyle("target-arrow-shape").value,p=t.pstyle("source-arrow-shape").value,h=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,g=t.pstyle("curve-style").value,m=t._private.rscratch,v=m.edgeType,y="self"===v||"compound"===v,b="bezier"===v||"multibezier"===v||y,x="bezier"!==v,w="straight"===v||"segments"===v,k="segments"===v,S=b||x||w,_=y||"taxi"===g,T=t.pstyle("source-endpoint"),E=_?"outside-to-node":T.value,P=t.pstyle("target-endpoint"),M=_?"outside-to-node":P.value;if(m.srcManEndpt=T,m.tgtManEndpt=P,b){var D=[m.ctrlpts[0],m.ctrlpts[1]];r=x?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:D,n=D}else if(w){var A=k?m.segpts.slice(0,2):[d.x,d.y];r=k?m.segpts.slice(m.segpts.length-2):[c.x,c.y],n=A}if("inside-to-node"===M)e=[d.x,d.y];else if(P.units)e=this.manualEndptToPx(l,P);else if("outside-to-line"===M)e=m.tgtIntn;else if("outside-to-node"===M||"outside-to-node-or-label"===M?i=r:"outside-to-line"!==M&&"outside-to-line-or-label"!==M||(i=[c.x,c.y]),e=a.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===M||"outside-to-line-or-label"===M){var L=l._private.rscratch,N=L.labelWidth,O=L.labelHeight,F=L.labelX,z=L.labelY,I=N/2,B=O/2,R=l.pstyle("text-valign").value;"top"===R?z-=B:"bottom"===R&&(z+=B);var j=l.pstyle("text-halign").value;"left"===j?F-=I:"right"===j&&(F+=I);var H=Ce(i[0],i[1],[F-I,z-B,F+I,z-B,F+I,z+B,F-I,z+B],d.x,d.y);if(H.length>0){var G=c,V=Zt(G,qt(e)),W=Zt(G,qt(H)),U=V;W<V&&(e=H,U=W),H.length>2&&Zt(G,{x:H[2],y:H[3]})<U&&(e=[H[2],H[3]])}}var q=Se(e,r,a.arrowShapes[u].spacing(t)+h),X=Se(e,r,a.arrowShapes[u].gap(t)+h);if(m.endX=X[0],m.endY=X[1],m.arrowEndX=q[0],m.arrowEndY=q[1],"inside-to-node"===E)e=[c.x,c.y];else if(T.units)e=this.manualEndptToPx(s,T);else if("outside-to-line"===E)e=m.srcIntn;else if("outside-to-node"===E||"outside-to-node-or-label"===E?o=n:"outside-to-line"!==E&&"outside-to-line-or-label"!==E||(o=[d.x,d.y]),e=a.nodeShapes[this.getNodeShape(s)].intersectLine(c.x,c.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===E||"outside-to-line-or-label"===E){var Y=s._private.rscratch,K=Y.labelWidth,$=Y.labelHeight,Z=Y.labelX,Q=Y.labelY,J=K/2,tt=$/2,et=s.pstyle("text-valign").value;"top"===et?Q-=tt:"bottom"===et&&(Q+=tt);var rt=s.pstyle("text-halign").value;"left"===rt?Z-=J:"right"===rt&&(Z+=J);var nt=Ce(o[0],o[1],[Z-J,Q-tt,Z+J,Q-tt,Z+J,Q+tt,Z-J,Q+tt],c.x,c.y);if(nt.length>0){var it=d,ot=Zt(it,qt(e)),at=Zt(it,qt(nt)),st=ot;at<ot&&(e=[nt[0],nt[1]],st=at),nt.length>2&&Zt(it,{x:nt[2],y:nt[3]})<st&&(e=[nt[2],nt[3]])}}var lt=Se(e,n,a.arrowShapes[p].spacing(t)+f),ct=Se(e,n,a.arrowShapes[p].gap(t)+f);m.startX=ct[0],m.startY=ct[1],m.arrowStartX=lt[0],m.arrowStartY=lt[1],S&&(C(m.startX)&&C(m.startY)&&C(m.endX)&&C(m.endY)?m.badLine=!1:m.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},ya={};function ba(t,e,r){for(var n=function(t,e,r,n){return Jt(t,e,r,n)},i=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var a=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],a),y:n(r[1],r[3],r[5],a)})}}ya.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)ba(this,t,r.allpts.slice(i,i+6))}else if("segments"===n){var o=e.rstyle.linePts=[];for(i=0;i+1<r.allpts.length;i+=2)o.push({x:r.allpts[i],y:r.allpts[i+1]})}else if("haystack"===n){var a=r.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},ya.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var xa={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!D(e)){var r,n,i=t._private,o=t.width(),a=t.height(),s=t.padding(),l=t.position(),c=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,u=i.rscratch,p=i.rstyle;switch(c){case"left":r=l.x-o/2-s;break;case"right":r=l.x+o/2+s;break;default:r=l.x}switch(d){case"top":n=l.y-a/2-s;break;case"bottom":n=l.y+a/2+s;break;default:n=l.y}u.labelX=r,u.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}}},wa=function(t,e){var r=Math.atan(e/t);return 0===t&&r<0&&(r*=-1),r},ka=function(t,e){var r=e.x-t.x,n=e.y-t.y;return wa(r,n)};xa.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var a=function(t,e,n){St(r.rscratch,t,e,n),St(r.rstyle,t,e,n)};a("labelX",null,e.x),a("labelY",null,e.y);var s=wa(n.midDispX,n.midDispY);a("labelAutoAngle",null,s);var l=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<n.allpts.length;o+=4){var a={x:n.allpts[o],y:n.allpts[o+1]},s={x:n.allpts[o+2],y:n.allpts[o+3]},l={x:n.allpts[o+4],y:n.allpts[o+5]};e.push({p0:a,p1:s,p2:l,startDist:0,length:0,segments:[]})}var c=r.rstyle.bezierPts,d=i.bezierProjPcts.length;function u(t,e,r,n,i){var o=$t(e,r),a=t.segments[t.segments.length-1],s={p0:e,p1:r,t0:n,t1:i,startDist:a?a.startDist+a.length:0,length:o};t.segments.push(s),t.length+=o}for(var p=0;p<e.length;p++){var h=e[p],f=e[p-1];f&&(h.startDist=f.startDist+f.length),u(h,h.p0,c[p*d],0,i.bezierProjPcts[0]);for(var g=0;g<d-1;g++)u(h,c[p*d+g],c[p*d+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);u(h,c[p*d+d-1],h.p2,i.bezierProjPcts[d-1],1)}return t.cache=e},c=function(r){var i,s="source"===r;if(o[r]){var c=t.pstyle(r+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,u=l(),p=0,h=0,f=0;f<u.length;f++){for(var g=u[s?f:u.length-1-f],m=0;m<g.segments.length;m++){var v=g.segments[s?m:g.segments.length-1-m],y=f===u.length-1&&m===g.segments.length-1;if(p=h,(h+=v.length)>=c||y){d={cp:g,segment:v};break}}if(d)break}var b=d.cp,x=d.segment,w=(c-p)/x.length,k=x.t1-x.t0,C=s?x.t0+k*w:x.t1-k*w;C=ee(0,C,1),e=te(b.p0,b.p1,b.p2,C),i=function(t,e,r,n){var i=ee(0,n-.001,1),o=ee(0,n+.001,1),a=te(t,e,r,i),s=te(t,e,r,o);return ka(a,s)}(b.p0,b.p1,b.p2,C);break;case"straight":case"segments":case"haystack":for(var S,_,T,E,P=0,M=n.allpts.length,D=0;D+3<M&&(s?(T={x:n.allpts[D],y:n.allpts[D+1]},E={x:n.allpts[D+2],y:n.allpts[D+3]}):(T={x:n.allpts[M-2-D],y:n.allpts[M-1-D]},E={x:n.allpts[M-4-D],y:n.allpts[M-3-D]}),_=P,!((P+=S=$t(T,E))>=c));D+=2);var A=(c-_)/S;A=ee(0,A,1),e=function(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,a=$t(t,e),s=i/a,l=o/a;return r=null==r?0:r,n=null!=n?n:r*a,{x:t.x+s*n,y:t.y+l*n}}(T,E,A),i=ka(T,E)}a("labelX",r,e.x),a("labelY",r,e.y),a("labelAutoAngle",r,i)}};c("source"),c("target"),this.applyLabelDimensions(t)}},xa.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},xa.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=Ct(r.rscratch,"labelWrapCachedLines",e)||[],l="wrap"!==a?1:Math.max(s.length,1),c=i.height/l,d=c*o,u=i.width,p=i.height+(l-1)*(o-1)*c;St(r.rstyle,"labelWidth",e,u),St(r.rscratch,"labelWidth",e,u),St(r.rstyle,"labelHeight",e,p),St(r.rscratch,"labelHeight",e,p),St(r.rscratch,"labelLineHeight",e,d)},xa.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,a=function(t,n){return n?(St(r.rscratch,t,e,n),n):Ct(r.rscratch,t,e)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if("wrap"===s){var l=a("labelKey");if(null!=l&&a("labelWrapKey")===l)return a("labelWrapCachedText");for(var c=i.split("\n"),d=t.pstyle("text-max-width").pfValue,u="anywhere"===t.pstyle("text-overflow-wrap").value,p=[],h=/[\s\u200b]+/,f=u?"":" ",g=0;g<c.length;g++){var m=c[g],v=this.calculateLabelDimensions(t,m).width;if(u){var y=m.split("").join("​");m=y}if(v>d){for(var b=m.split(h),x="",w=0;w<b.length;w++){var k=b[w],C=0===x.length?k:x+f+k;this.calculateLabelDimensions(t,C).width<=d?x+=k+f:(x&&p.push(x),x=k+f)}x.match(/^[\s\u200b]+$/)||p.push(x)}else p.push(m)}a("labelWrapCachedLines",p),i=a("labelWrapCachedText",p.join("\n")),a("labelWrapKey",l)}else if("ellipsis"===s){var S=t.pstyle("text-max-width").pfValue,_="",T=!1;if(this.calculateLabelDimensions(t,i).width<S)return i;for(var E=0;E<i.length&&!(this.calculateLabelDimensions(t,_+i[E]+"…").width>S);E++)_+=i[E],E===i.length-1&&(T=!0);return T||(_+="…"),_}return i},xa.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(r){case"left":return"right";case"right":return"left";default:return"center"}},xa.calculateLabelDimensions=function(t,e){var r=rt(e,t._private.labelDimsKey),n=this.labelDimCache||(this.labelDimCache=[]),i=n[r];if(null!=i)return i;var o=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue,s=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),d=this.labelCalcCanvasContext=c.getContext("2d");var u=c.style;u.position="absolute",u.left="-9999px",u.top="-9999px",u.zIndex="-1",u.visibility="hidden",u.pointerEvents="none"}d.font="".concat(o," ").concat(l," ").concat(a,"px ").concat(s);for(var p=0,h=0,f=e.split("\n"),g=0;g<f.length;g++){var m=f[g],v=d.measureText(m),y=Math.ceil(v.width),b=a;p=Math.max(y,p),h+=b}return p+=0,h+=0,n[r]={width:p,height:h}},xa.calculateLabelAngle=function(t,e){var r=t._private.rscratch,n=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),a=o.strValue;return"none"===a?0:n&&"autorotate"===a?r.labelAutoAngle:"autorotate"===a?0:o.pfValue},xa.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private.rscratch;n.labelAngle=e.calculateLabelAngle(t),r&&(n.sourceLabelAngle=e.calculateLabelAngle(t,"source"),n.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Ca={},Sa=!1;Ca.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return Sa||(gt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Sa=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"round-rectangle"===e||"cutrectangle"===e||"cut-rectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var r=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(r).name}return e};var _a={};[ha,fa,ga,va,ya,xa,Ca,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),r=this,n=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),r)for(var n=0;n<t.length;n++){var i=t[n],o=i._private,a=o.rstyle;a.clean=!1,a.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",(function(t){var e=t.target;n(e)})).on("style.* background.*",(function(t){var e=t.target;n(e,!1)}));var i=function(i){if(i){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var a=0;a<e.length;a++){var s=e[a],l=s._private.rstyle;s.isNode()&&!l.cleanConnected&&(n(s.connectedEdges()),l.cleanConnected=!0)}if(o)for(var c=0;c<o.length;c++)(0,o[c])(i,e);r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var r=function(t){return t._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,l=s.rstyle;!a.isEdge()||r(a.source())&&r(a.target())||(l.clean=!1),e&&l.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===s.group?i.push(a):n.push(a),l.clean=!0)}for(var c=0;c<i.length;c++){var d=i[c],u=d._private.rstyle,p=d.position();this.recalculateNodeLabelProjection(d),u.nodeX=p.x,u.nodeY=p.y,u.nodeW=d.pstyle("width").pfValue,u.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var h=0;h<n.length;h++){var f=n[h]._private,g=f.rstyle,m=f.rscratch;g.srcX=m.arrowStartX,g.srcY=m.arrowStartY,g.tgtX=m.arrowEndX,g.tgtY=m.arrowEndY,g.midX=m.midX,g.midY=m.midY,g.labelAngle=m.labelAngle,g.sourceLabelAngle=m.sourceLabelAngle,g.targetLabelAngle=m.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=(i=t[r])._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):n.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(r=0;r<e.length;r++){var i=e[r];t.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(hi),e.interactive=e.filter((function(t){return t.interactive()})),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}}].forEach((function(t){R(_a,t)}));var Ta={getCachedImage:function(t,e,r){var n=this.imageCache=this.imageCache||{},i=n[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;var o=(i=n[t]=n[t]||{}).image=new Image;o.addEventListener("load",r),o.addEventListener("error",(function(){o.error=!0}));var a="data:";return t.substring(0,a.length).toLowerCase()===a||(o.crossOrigin=e),o.src=t,o}},Ea={registerBinding:function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)},binder:function(t){var e=this,r=t===window||t===document||t===document.body||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement;if(null==e.supportsPassiveEvents){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,i)}catch(t){}e.supportsPassiveEvents=n}var o=function(n,i,o){var a=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),e.bindings.push({target:t,args:a}),(t.addEventListener||t.on).apply(t,a),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()}};Ea.load=function(){var t=this,e=function(t){return t.selected()},r=function(e,r,n,i){null==e&&(e=t.cy);for(var o=0;o<r.length;o++){var a=r[o];e.emit({originalEvent:n,type:a,position:i})}},n=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},o=function(e,r){var n=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var i=0;r&&i<r.length;i++)if((e=r[i]).isNode()&&e.isParent()&&!e.pannable()){n=!1;break}}else n=!0;return n},a=function(t){t[0]._private.rscratch.inDragLayer=!0},s=function(t){t[0]._private.rscratch.isGrabTarget=!0},l=function(t,e){var r=e.addToList;r.has(t)||(r.merge(t),function(t){t[0]._private.grabbed=!0}(t))},c=function(e,r){r=r||{};var n=e.cy().hasCompoundNodes();r.inDragLayer&&(e.forEach(a),e.neighborhood().stdFilter((function(t){return!n||t.isEdge()})).forEach(a)),r.addToList&&e.forEach((function(t){l(t,r)})),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var r=t.descendants();e.inDragLayer&&(r.forEach(a),r.connectedEdges().forEach(a)),e.addToList&&e.addToList.unmerge(r)}}(e,r),p(e,{inDragLayer:r.inDragLayer}),t.updateCachedGrabbedEles()},d=c,u=function(e){e&&(t.getCachedZSortedEles().forEach((function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)})),t.updateCachedGrabbedEles())},p=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var r=t.ancestors().orphans();if(!r.same(t)){var n=r.descendants().spawnSelf().merge(r).unmerge(t).unmerge(t.descendants()),i=n.connectedEdges();e.inDragLayer&&(i.forEach(a),n.forEach(a)),e.addToList&&n.forEach((function(t){l(t,e)}))}}},h=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;f?(t.removeObserver=new MutationObserver((function(e){for(var r=0;r<e.length;r++){var n=e[r].removedNodes;if(n)for(var i=0;i<n.length;i++)if(n[i]===t.container){t.destroy();break}}})),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",(function(e){t.destroy()}));var m=i((function(){t.cy.resize()}),100);f&&(t.styleObserver=new MutationObserver(m),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",m),g&&(t.resizeObserver=new ResizeObserver(m),t.resizeObserver.observe(t.container));var v=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,(function(e){t.registerBinding(e,"transitionend",v),t.registerBinding(e,"animationend",v),t.registerBinding(e,"scroll",v)})),t.registerBinding(t.container,"contextmenu",(function(t){t.preventDefault()}));var y=function(e){for(var r=t.findContainerClientCoords(),n=r[0],i=r[1],o=r[2],a=r[3],s=e.touches?e.touches:[e],l=!1,c=0;c<s.length;c++){var d=s[c];if(n<=d.clientX&&d.clientX<=n+o&&i<=d.clientY&&d.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var u=t.container,p=e.target.parentNode,h=!1;p;){if(p===u){h=!0;break}p=p.parentNode}return!!h};t.registerBinding(t.container,"mousedown",(function(e){if(y(e)){e.preventDefault(),h(),t.hoverData.capture=!0,t.hoverData.which=e.which;var n=t.cy,i=[e.clientX,e.clientY],o=t.projectIntoViewport(i[0],i[1]),a=t.selection,l=t.findNearestElements(o[0],o[1],!0,!1),u=l[0],p=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=o,t.hoverData.mdownGPos=i,3==e.which){t.hoverData.cxtStarted=!0;var f={originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}};u?(u.activate(),u.emit(f),t.hoverData.down=u):n.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(u&&u.activate(),null!=u&&t.nodeIsGrabbable(u)){var g=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};if(s(u),u.selected()){p=t.dragData.possibleDragElements=n.collection();var m=n.$((function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}));c(m,{addToList:p}),u.emit(g("grabon")),m.forEach((function(t){t.emit(g("grab"))}))}else p=t.dragData.possibleDragElements=n.collection(),d(u,{addToList:p}),u.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=u,t.hoverData.downs=l,t.hoverData.downTime=(new Date).getTime(),r(u,["mousedown","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==u?(a[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):u.pannable()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout((function(){if(!t.hoverData.tapholdCancelled){var r=t.hoverData.down;r?r.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}}):n.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}})}}),t.tapholdDuration)}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}}),!1),t.registerBinding(window,"mousemove",(function(e){if(t.hoverData.capture||y(e)){var i=!1,a=t.cy,s=a.zoom(),l=[e.clientX,e.clientY],d=t.projectIntoViewport(l[0],l[1]),p=t.hoverData.mdownPos,h=t.hoverData.mdownGPos,f=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(d[0],d[1],!0,!1));var m,v=t.hoverData.last,b=t.hoverData.down,x=[d[0]-f[2],d[1]-f[3]],w=t.dragData.possibleDragElements;if(h){var k=l[0]-h[0],S=k*k,_=l[1]-h[1],T=S+_*_;t.hoverData.isOverThresholdDrag=m=T>=t.desktopTapThreshold2}var E=n(e);m&&(t.hoverData.tapholdCancelled=!0),i=!0,r(g,["mousemove","vmousemove","tapdrag"],e,{x:d[0],y:d[1]});var P=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||a.emit({originalEvent:e,type:"boxstart",position:{x:d[0],y:d[1]}}),f[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(m){var M={originalEvent:e,type:"cxtdrag",position:{x:d[0],y:d[1]}};b?b.emit(M):a.emit(M),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:d[0],y:d[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(t.hoverData.dragging){if(i=!0,a.panningEnabled()&&a.userPanningEnabled()){var D;if(t.hoverData.justStartedPan){var A=t.hoverData.mdownPos;D={x:(d[0]-A[0])*s,y:(d[1]-A[1])*s},t.hoverData.justStartedPan=!1}else D={x:x[0]*s,y:x[1]*s};a.panBy(D),a.emit("dragpan"),t.hoverData.dragged=!0}d=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=f[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==v||(v&&r(v,["mouseout","tapdragout"],e,{x:d[0],y:d[1]}),g&&r(g,["mouseover","tapdragover"],e,{x:d[0],y:d[1]}),t.hoverData.last=g),b)if(m){if(a.boxSelectionEnabled()&&E)b&&b.grabbed()&&(u(w),b.emit("freeon"),w.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),w.emit("dragfree"))),P();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var L=!t.dragData.didDrag;L&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var N=a.collection();t.hoverData.draggingEles||c(w,{inDragLayer:!0});var O={x:0,y:0};if(C(x[0])&&C(x[1])&&(O.x+=x[0],O.y+=x[1],L)){var F=t.hoverData.dragDelta;F&&C(F[0])&&C(F[1])&&(O.x+=F[0],O.y+=F[1])}for(var z=0;z<w.length;z++){var I=w[z];t.nodeIsDraggable(I)&&I.grabbed()&&N.push(I)}t.hoverData.draggingEles=!0,N.silentShift(O).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(x[0]),e.push(x[1])):(e[0]+=x[0],e[1]+=x[1])}();i=!0}else m&&(t.hoverData.dragging||!a.boxSelectionEnabled()||!E&&a.panningEnabled()&&a.userPanningEnabled()?!t.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()&&o(b,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,f[4]=0,t.data.bgActivePosistion=qt(p),t.redrawHint("select",!0),t.redraw()):P(),b&&b.pannable()&&b.active()&&b.unactivate());return f[2]=d[0],f[3]=d[1],i?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}}),!1),t.registerBinding(window,"mouseup",(function(i){if(t.hoverData.capture){t.hoverData.capture=!1;var o=t.cy,a=t.projectIntoViewport(i.clientX,i.clientY),s=t.selection,l=t.findNearestElement(a[0],a[1],!0,!1),c=t.dragData.possibleDragElements,d=t.hoverData.down,p=n(i);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,d&&d.unactivate(),3===t.hoverData.which){var h={originalEvent:i,type:"cxttapend",position:{x:a[0],y:a[1]}};if(d?d.emit(h):o.emit(h),!t.hoverData.cxtDragged){var f={originalEvent:i,type:"cxttap",position:{x:a[0],y:a[1]}};d?d.emit(f):o.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(r(l,["mouseup","tapend","vmouseup"],i,{x:a[0],y:a[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||r(d,["click","tap","vclick"],i,{x:a[0],y:a[1]}),null!=d||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||n(i)||(o.$(e).unselect(["tapunselect"]),c.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=c=o.collection()),l!=d||t.dragData.didDrag||t.hoverData.selecting||null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===o.selectionType()||p?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):p||(o.$(e).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=o.collection(t.getAllInBox(s[0],s[1],s[2],s[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:i,position:{x:a[0],y:a[1]}});"additive"===o.selectionType()||p||o.$(e).unmerge(g).unselect(),g.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!s[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var m=d&&d.grabbed();u(c),m&&(d.emit("freeon"),c.emit("free"),t.dragData.didDrag&&(d.emit("dragfreeon"),c.emit("dragfree")))}}s[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}}),!1);var b,x,w,k,S,_,T,E,P,M,D,A,L,N=function(e){if(!t.scrollingPage){var r=t.cy,n=r.zoom(),i=r.pan(),o=t.projectIntoViewport(e.clientX,e.clientY),a=[o[0]*n+i.x,o[1]*n+i.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4])e.preventDefault();else if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){var s;e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout((function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()}),150),s=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,s*=t.wheelSensitivity,1===e.deltaMode&&(s*=33);var l=r.zoom()*Math.pow(10,s);"gesturechange"===e.type&&(l=t.gestureStartZoom*e.scale),r.zoom({level:l,renderedPosition:{x:a[0],y:a[1]}}),r.emit("gesturechange"===e.type?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",N,!0),t.registerBinding(window,"scroll",(function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout((function(){t.scrollingPage=!1}),250)}),!0),t.registerBinding(t.container,"gesturestart",(function(e){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||e.preventDefault()}),!0),t.registerBinding(t.container,"gesturechange",(function(e){t.hasTouchStarted||N(e)}),!0),t.registerBinding(t.container,"mouseout",(function(e){var r=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:r[0],y:r[1]}})}),!1),t.registerBinding(t.container,"mouseover",(function(e){var r=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:r[0],y:r[1]}})}),!1);var O,F,z,I,B=function(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))},R=function(t,e,r,n){return(r-t)*(r-t)+(n-e)*(n-e)};if(t.registerBinding(t.container,"touchstart",O=function(e){if(t.hasTouchStarted=!0,y(e)){h(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var n=t.cy,i=t.touchData.now,o=t.touchData.earlier;if(e.touches[0]){var a=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(e.touches[1]&&(a=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),i[2]=a[0],i[3]=a[1]),e.touches[2]&&(a=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),i[4]=a[0],i[5]=a[1]),e.touches[1]){t.touchData.singleTouchMoved=!0,u(t.dragData.touchDragEles);var l=t.findContainerClientCoords();P=l[0],M=l[1],D=l[2],A=l[3],b=e.touches[0].clientX-P,x=e.touches[0].clientY-M,w=e.touches[1].clientX-P,k=e.touches[1].clientY-M,L=0<=b&&b<=D&&0<=w&&w<=D&&0<=x&&x<=A&&0<=k&&k<=A;var p=n.pan(),f=n.zoom();if(S=B(b,x,w,k),_=R(b,x,w,k),E=[((T=[(b+w)/2,(x+k)/2])[0]-p.x)/f,(T[1]-p.y)/f],_<4e4&&!e.touches[2]){var g=t.findNearestElement(i[0],i[1],!0,!0),m=t.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=m):n.emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2])n.boxSelectionEnabled()&&e.preventDefault();else if(e.touches[1]);else if(e.touches[0]){var v=t.findNearestElements(i[0],i[1],!0,!0),C=v[0];if(null!=C&&(C.activate(),t.touchData.start=C,t.touchData.starts=v,t.nodeIsGrabbable(C))){var N=t.dragData.touchDragEles=n.collection(),O=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),C.selected()?(O=n.$((function(e){return e.selected()&&t.nodeIsGrabbable(e)})),c(O,{addToList:N})):d(C,{addToList:N}),s(C);var F=function(t){return{originalEvent:e,type:t,position:{x:i[0],y:i[1]}}};C.emit(F("grabon")),O?O.forEach((function(t){t.emit(F("grab"))})):C.emit(F("grab"))}r(C,["touchstart","tapstart","vmousedown"],e,{x:i[0],y:i[1]}),null==C&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout((function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||r(t.touchData.start,["taphold"],e,{x:i[0],y:i[1]})}),t.tapholdDuration)}if(e.touches.length>=1){for(var z=t.touchData.startPosition=[],I=0;I<i.length;I++)z[I]=o[I]=i[I];var j=e.touches[0];t.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),t.registerBinding(window,"touchmove",F=function(e){var n=t.touchData.capture;if(n||y(e)){var i=t.selection,a=t.cy,s=t.touchData.now,l=t.touchData.earlier,d=a.zoom();if(e.touches[0]){var p=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);s[0]=p[0],s[1]=p[1]}e.touches[1]&&(p=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),s[2]=p[0],s[3]=p[1]),e.touches[2]&&(p=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),s[4]=p[0],s[5]=p[1]);var h,f=t.touchData.startGPosition;if(n&&e.touches[0]&&f){for(var g=[],m=0;m<s.length;m++)g[m]=s[m]-l[m];var v=e.touches[0].clientX-f[0],T=v*v,D=e.touches[0].clientY-f[1];h=T+D*D>=t.touchTapThreshold2}if(n&&t.touchData.cxt){e.preventDefault();var A=e.touches[0].clientX-P,N=e.touches[0].clientY-M,O=e.touches[1].clientX-P,F=e.touches[1].clientY-M,z=R(A,N,O,F);if(z/_>=2.25||z>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var I={originalEvent:e,type:"cxttapend",position:{x:s[0],y:s[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(I),t.touchData.start=null):a.emit(I)}}if(n&&t.touchData.cxt){I={originalEvent:e,type:"cxtdrag",position:{x:s[0],y:s[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(I):a.emit(I),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var j=t.findNearestElement(s[0],s[1],!0,!0);t.touchData.cxtOver&&j===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:s[0],y:s[1]}}),t.touchData.cxtOver=j,j&&j.emit({originalEvent:e,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(n&&e.touches[2]&&a.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||a.emit({originalEvent:e,type:"boxstart",position:{x:s[0],y:s[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(s[0]+s[2]+s[4])/3,i[3]=(s[1]+s[3]+s[5])/3):(i[0]=(s[0]+s[2]+s[4])/3,i[1]=(s[1]+s[3]+s[5])/3,i[2]=(s[0]+s[2]+s[4])/3+1,i[3]=(s[1]+s[3]+s[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(n&&e.touches[1]&&!t.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),tt=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var H=0;H<tt.length;H++){var G=tt[H]._private;G.grabbed=!1,G.rscratch.inDragLayer=!1}}var V=t.touchData.start,W=(A=e.touches[0].clientX-P,N=e.touches[0].clientY-M,O=e.touches[1].clientX-P,F=e.touches[1].clientY-M,B(A,N,O,F)),U=W/S;if(L){var q=(A-b+(O-w))/2,X=(N-x+(F-k))/2,Y=a.zoom(),K=Y*U,$=a.pan(),Z=E[0]*Y+$.x,Q=E[1]*Y+$.y,J={x:-K/Y*(Z-$.x-q)+Z,y:-K/Y*(Q-$.y-X)+Q};if(V&&V.active()){var tt=t.dragData.touchDragEles;u(tt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),V.unactivate().emit("freeon"),tt.emit("free"),t.dragData.didDrag&&(V.emit("dragfreeon"),tt.emit("dragfree"))}a.viewport({zoom:K,pan:J,cancelOnFailedZoom:!0}),a.emit("pinchzoom"),S=W,b=A,x=N,w=O,k=F,t.pinching=!0}e.touches[0]&&(p=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),s[0]=p[0],s[1]=p[1]),e.touches[1]&&(p=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),s[2]=p[0],s[3]=p[1]),e.touches[2]&&(p=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),s[4]=p[0],s[5]=p[1])}else if(e.touches[0]&&!t.touchData.didSelect){var et=t.touchData.start,rt=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(j=t.findNearestElement(s[0],s[1],!0,!0)),n&&null!=et&&e.preventDefault(),n&&null!=et&&t.nodeIsDraggable(et))if(h){tt=t.dragData.touchDragEles;var nt=!t.dragData.didDrag;nt&&c(tt,{inDragLayer:!0}),t.dragData.didDrag=!0;var it={x:0,y:0};C(g[0])&&C(g[1])&&(it.x+=g[0],it.y+=g[1],nt&&(t.redrawHint("eles",!0),(ot=t.touchData.dragDelta)&&C(ot[0])&&C(ot[1])&&(it.x+=ot[0],it.y+=ot[1]))),t.hoverData.draggingEles=!0,tt.silentShift(it).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==l[0]&&t.touchData.startPosition[1]==l[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ot;0===(ot=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(ot.push(g[0]),ot.push(g[1])):(ot[0]+=g[0],ot[1]+=g[1])}if(r(et||j,["touchmove","tapdrag","vmousemove"],e,{x:s[0],y:s[1]}),et&&et.grabbed()||j==rt||(rt&&rt.emit({originalEvent:e,type:"tapdragout",position:{x:s[0],y:s[1]}}),j&&j.emit({originalEvent:e,type:"tapdragover",position:{x:s[0],y:s[1]}})),t.touchData.last=j,n)for(H=0;H<s.length;H++)s[H]&&t.touchData.startPosition[H]&&h&&(t.touchData.singleTouchMoved=!0);n&&(null==et||et.pannable())&&a.panningEnabled()&&a.userPanningEnabled()&&(o(et,t.touchData.starts)&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=qt(t.touchData.startPosition)),t.swipePanning?(a.panBy({x:g[0]*d,y:g[1]*d}),a.emit("dragpan")):h&&(t.swipePanning=!0,a.panBy({x:v*d,y:D*d}),a.emit("dragpan"),et&&(et.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),p=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),s[0]=p[0],s[1]=p[1])}for(m=0;m<s.length;m++)l[m]=s[m];n&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",z=function(e){var r=t.touchData.start;t.touchData.capture=!1,r&&r.unactivate()}),t.registerBinding(window,"touchend",I=function(n){var i=t.touchData.start;if(t.touchData.capture){0===n.touches.length&&(t.touchData.capture=!1),n.preventDefault();var o=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var a,s=t.cy,l=s.zoom(),c=t.touchData.now,d=t.touchData.earlier;if(n.touches[0]){var p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=p[0],c[1]=p[1]}if(n.touches[1]&&(p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),c[2]=p[0],c[3]=p[1]),n.touches[2]&&(p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),c[4]=p[0],c[5]=p[1]),i&&i.unactivate(),t.touchData.cxt){if(a={originalEvent:n,type:"cxttapend",position:{x:c[0],y:c[1]}},i?i.emit(a):s.emit(a),!t.touchData.cxtDragged){var h={originalEvent:n,type:"cxttap",position:{x:c[0],y:c[1]}};i?i.emit(h):s.emit(h)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&s.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=s.collection(t.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,t.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:n,position:{x:c[0],y:c[1]}}),f.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=i&&i.unactivate(),n.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var g=t.dragData.touchDragEles;if(null!=i){var m=i._private.grabbed;u(g),t.redrawHint("drag",!0),t.redrawHint("eles",!0),m&&(i.emit("freeon"),g.emit("free"),t.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),r(i,["touchend","tapend","vmouseup","tapdragout"],n,{x:c[0],y:c[1]}),i.unactivate(),t.touchData.start=null}else{var v=t.findNearestElement(c[0],c[1],!0,!0);r(v,["touchend","tapend","vmouseup","tapdragout"],n,{x:c[0],y:c[1]})}var y=t.touchData.startPosition[0]-c[0],b=y*y,x=t.touchData.startPosition[1]-c[1],w=(b+x*x)*l*l;t.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),r(i,["tap","vclick"],n,{x:c[0],y:c[1]})),null!=i&&!t.dragData.didDrag&&i._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===s.selectionType()?(s.$(e).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var k=0;k<c.length;k++)d[k]=c[k];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),n.touches.length<2&&(1===n.touches.length&&(t.touchData.startGPosition=[n.touches[0].clientX,n.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var j=[],H=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},G=function(t){for(var e=0;e<j.length;e++)if(j[e].event.pointerId===t.pointerId)return void j.splice(e,1)},V=function(t){t.touches=j.map((function(t){return t.touch}))},W=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",(function(t){W(t)||(t.preventDefault(),function(t){j.push(function(t){return{event:t,touch:H(t)}}(t))}(t),V(t),O(t))})),t.registerBinding(t.container,"pointerup",(function(t){W(t)||(G(t),V(t),I(t))})),t.registerBinding(t.container,"pointercancel",(function(t){W(t)||(G(t),V(t),z())})),t.registerBinding(t.container,"pointermove",(function(t){W(t)||(t.preventDefault(),function(t){var e=j.filter((function(e){return e.event.pointerId===t.pointerId}))[0];e.event=t,e.touch=H(t)}(t),V(t),F(t))}))}};var Pa={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl("polygon",t,e,r,n,i,this.points)},intersectLine:function(t,e,r,n,i,o,a){return Ce(i,o,this.points,t,e,r/2,n/2,a)},checkPoint:function(t,e,r,n,i,o,a){return me(t,e,this.points,o,a,n,i,[0,-1],r)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},intersectLine:function(t,e,r,n,i,o,a){return function(t,e,r,n,i,o){var a=r-t,s=n-e;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),c=l-1;if(c<0)return[];var d=c/l;return[(r-t)*d+t,(n-e)*d+e]}(i,o,t,e,r/2+a,n/2+a)},checkPoint:function(t,e,r,n,i,o,a){return be(t,e,n,i,o,a,r)}}},generateRoundPolygon:function(t,e){for(var r=new Array(2*e.length),n=0;n<e.length/2;n++){var i,o=2*n;i=n<e.length/2-1?2*(n+1):0,r[4*n]=e[o],r[4*n+1]=e[o+1];var a=e[i]-e[o],s=e[i+1]-e[o+1],l=Math.sqrt(a*a+s*s);r[4*n+2]=a/l,r[4*n+3]=s/l}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl("round-polygon",t,e,r,n,i,this.points)},intersectLine:function(t,e,r,n,i,o,a){return function(t,e,r,n,i,o,a,s){for(var l,c=[],d=new Array(r.length),u=o/2,p=a/2,h=Me(o,a),f=0;f<r.length/4;f++){var g,m;m=0===f?r.length-2:4*f-2,g=4*f+2;var v=n+u*r[4*f],y=i+p*r[4*f+1],b=-r[m]*r[g]-r[m+1]*r[g+1],x=h/Math.tan(Math.acos(b)/2),w=v-x*r[m],k=y-x*r[m+1],C=v+x*r[g],S=y+x*r[g+1];0===f?(d[r.length-2]=w,d[r.length-1]=k):(d[4*f-2]=w,d[4*f-1]=k),d[4*f]=C,d[4*f+1]=S;var _=r[m+1],T=-r[m];_*r[g]+T*r[g+1]<0&&(_*=-1,T*=-1),0!==(l=xe(t,e,n,i,w+_*h,k+T*h,h)).length&&c.push(l[0],l[1])}for(var E=0;E<d.length/4;E++)0!==(l=ke(t,e,n,i,d[4*E],d[4*E+1],d[4*E+2],d[4*E+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var P=[c[0],c[1]],M=Math.pow(P[0]-t,2)+Math.pow(P[1]-e,2),D=1;D<c.length/2;D++){var A=Math.pow(c[2*D]-t,2)+Math.pow(c[2*D+1]-e,2);A<=M&&(P[0]=c[2*D],P[1]=c[2*D+1],M=A)}return P}return c}(i,o,this.points,t,e,r,n)},checkPoint:function(t,e,r,n,i,o,a){return function(t,e,r,n,i,o,a){for(var s=new Array(r.length),l=o/2,c=a/2,d=Me(o,a),u=d*d,p=0;p<r.length/4;p++){var h,f;f=0===p?r.length-2:4*p-2,h=4*p+2;var g=n+l*r[4*p],m=i+c*r[4*p+1],v=-r[f]*r[h]-r[f+1]*r[h+1],y=d/Math.tan(Math.acos(v)/2),b=g-y*r[f],x=m-y*r[f+1],w=g+y*r[h],k=m+y*r[h+1];s[4*p]=b,s[4*p+1]=x,s[4*p+2]=w,s[4*p+3]=k;var C=r[f+1],S=-r[f];C*r[h]+S*r[h+1]<0&&(C*=-1,S*=-1);var _=b+C*d,T=x+S*d;if(Math.pow(_-t,2)+Math.pow(T-e,2)<=u)return!0}return ge(t,e,s)}(t,e,this.points,o,a,n,i)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:_e(4,0),draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},intersectLine:function(t,e,r,n,i,o,a){return de(i,o,t,e,r,n,a)},checkPoint:function(t,e,r,n,i,o,a){var s=Pe(n,i),l=2*s;return!!(me(t,e,this.points,o,a,n,i-l,[0,-1],r)||me(t,e,this.points,o,a,n-l,i,[0,-1],r)||be(t,e,l,l,o-n/2+s,a-i/2+s,r)||be(t,e,l,l,o+n/2-s,a-i/2+s,r)||be(t,e,l,l,o+n/2-s,a+i/2-s,r)||be(t,e,l,l,o-n/2+s,a+i/2-s,r))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:_e(4,0),draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},generateCutTrianglePts:function(t,e,r,n){var i=this.cornerLength,o=e/2,a=t/2,s=r-a,l=r+a,c=n-o,d=n+o;return{topLeft:[s,c+i,s+i,c,s+i,c+i],topRight:[l-i,c,l,c+i,l-i,c+i],bottomRight:[l,d-i,l-i,d,l-i,d-i],bottomLeft:[s+i,d,s,d-i,s+i,d-i]}},intersectLine:function(t,e,r,n,i,o,a){var s=this.generateCutTrianglePts(r+2*a,n+2*a,t,e),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Ce(i,o,l,t,e)},checkPoint:function(t,e,r,n,i,o,a){if(me(t,e,this.points,o,a,n,i-2*this.cornerLength,[0,-1],r))return!0;if(me(t,e,this.points,o,a,n-2*this.cornerLength,i,[0,-1],r))return!0;var s=this.generateCutTrianglePts(n,i,o,a);return ge(t,e,s.topLeft)||ge(t,e,s.topRight)||ge(t,e,s.bottomRight)||ge(t,e,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:_e(4,0),draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},intersectLine:function(t,e,r,n,i,o,a){var s=this.generateBarrelBezierPts(r+2*a,n+2*a,t,e),l=function(t){var e=te({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),r=te({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),n=te({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,r.x,r.y,n.x,n.y,t[4],t[5]]},c=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return Ce(i,o,c,t,e)},generateBarrelBezierPts:function(t,e,r,n){var i=e/2,o=t/2,a=r-o,s=r+o,l=n-i,c=n+i,d=De(t,e),u=d.heightOffset,p=d.widthOffset,h=d.ctrlPtOffsetPct*t,f={topLeft:[a,l+u,a+h,l,a+p,l],topRight:[s-p,l,s-h,l,s,l+u],bottomRight:[s,c-u,s-h,c,s-p,c],bottomLeft:[a+p,c,a+h,c,a,c-u]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(t,e,r,n,i,o,a){var s=De(n,i),l=s.heightOffset,c=s.widthOffset;if(me(t,e,this.points,o,a,n,i-2*l,[0,-1],r))return!0;if(me(t,e,this.points,o,a,n-2*c,i,[0,-1],r))return!0;for(var d=this.generateBarrelBezierPts(n,i,o,a),u=function(t,e,r){var n,i,o=r[4],a=r[2],s=r[0],l=r[5],c=r[1],d=Math.min(o,s),u=Math.max(o,s),p=Math.min(l,c),h=Math.max(l,c);if(d<=t&&t<=u&&p<=e&&e<=h){var f=[(n=o)-2*(i=a)+s,2*(i-n),n],g=function(t,e,r,n){var i=e*e-4*t*(r-=n);if(i<0)return[];var o=Math.sqrt(i),a=2*t;return[(-e+o)/a,(-e-o)/a]}(f[0],f[1],f[2],t).filter((function(t){return 0<=t&&t<=1}));if(g.length>0)return g[0]}return null},p=Object.keys(d),h=0;h<p.length;h++){var f=d[p[h]],g=u(t,e,f);if(null!=g){var m=f[5],v=f[3],y=f[1],b=Jt(m,v,y,g);if(f.isTop&&b<=e)return!0;if(f.isBottom&&e<=b)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:_e(4,0),draw:function(t,e,r,n,i){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},intersectLine:function(t,e,r,n,i,o,a){var s=e-(n/2+a),l=ke(i,o,t,e,t-(r/2+a),s,t+(r/2+a),s,!1);return l.length>0?l:de(i,o,t,e,r,n,a)},checkPoint:function(t,e,r,n,i,o,a){var s=Pe(n,i),l=2*s;if(me(t,e,this.points,o,a,n,i-l,[0,-1],r))return!0;if(me(t,e,this.points,o,a,n-l,i,[0,-1],r))return!0;var c=n/2+2*r,d=i/2+2*r;return!!ge(t,e,[o-c,a-d,o-c,a,o+c,a,o+c,a-d])||!!be(t,e,l,l,o+n/2-s,a+i/2-s,r)||!!be(t,e,l,l,o-n/2+s,a+i/2-s,r)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",_e(3,0)),this.generateRoundPolygon("round-triangle",_e(3,0)),this.generatePolygon("rectangle",_e(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r),this.generatePolygon("pentagon",_e(5,0)),this.generateRoundPolygon("round-pentagon",_e(5,0)),this.generatePolygon("hexagon",_e(6,0)),this.generateRoundPolygon("round-hexagon",_e(6,0)),this.generatePolygon("heptagon",_e(7,0)),this.generateRoundPolygon("round-heptagon",_e(7,0)),this.generatePolygon("octagon",_e(8,0)),this.generateRoundPolygon("round-octagon",_e(8,0));var n=new Array(20),i=Ee(5,0),o=Ee(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=o[2*s],n[4*s+3]=o[2*s+1];n=Te(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),t.makePolygon=function(t){var r,n="polygon-"+t.join("$");return(r=this[n])?r:e.generatePolygon(n,t)}}},Ma={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||bt();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&ht("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort((function(t,e){return e.priority-t.priority}))}}},Da=function(t,e,r){for(var n=t.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(e,r)};Ma.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,q((function r(n){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){Da(t,!0,n);var i=X();t.render(t.renderOptions);var o=t.lastDrawTime=X();void 0===t.averageRedrawTime&&(t.averageRedrawTime=o-i),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var a=o-i;t.redrawTotalTime+=a,t.lastRedrawTime=a,t.averageRedrawTime=t.averageRedrawTime/2+a/2,t.requestedFrame=!1}else Da(t,!1,n);t.skipFrame=!1,q(r)}})))};var Aa=function(t){this.init(t)},La=Aa.prototype;La.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],La.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container();if(p){var n=p.document,i=n.head,o="__________cytoscape_stylesheet",a="__________cytoscape_container",s=null!=n.getElementById(o);if(r.className.indexOf(a)<0&&(r.className=(r.className||"")+" "+a),!s){var l=n.createElement("style");l.id=o,l.innerHTML="."+a+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===p.getComputedStyle(r).getPropertyValue("position")&&gt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=C(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},La.notify=function(t,e){var r=this,n=r.cy;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&n.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&r.invalidateCachedZSortedEles(),"viewport"===t&&r.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):r.destroy():r.load())},La.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r.target;(n.off||n.removeEventListener).apply(n,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},La.isHeadless=function(){return!1},[pa,_a,Ta,Ea,Pa,Ma].forEach((function(t){R(La,t)}));var Na=1e3/60,Oa=function(t){return function(){var e=this,r=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var n=i((function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()}),t.deqRedrawThreshold),o=t.priority||pt;r.beforeRender((function(i,o){var a=X(),s=r.averageRedrawTime,l=r.lastRedrawTime,c=[],d=r.cy.extent(),u=r.getPixelRatio();for(i||r.flushRenderedStyleQueue();;){var p=X(),h=p-a,f=p-o;if(l<Na){var g=Na-(i?s:0);if(f>=t.deqFastCost*g)break}else if(i){if(h>=t.deqCost*l||h>=t.deqAvgCost*s)break}else if(f>=t.deqNoDrawCost*Na)break;var m=t.deq(e,u,d);if(!(m.length>0))break;for(var v=0;v<m.length;v++)c.push(m[v])}c.length>0&&(t.onDeqd(e,c),!i&&t.shouldRedraw(e,c,u,d)&&n())}),o(e))}}},Fa=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt;s(this,t),this.idsByKey=new _t,this.keyForId=new _t,this.cachesByLvl=new _t,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return c(t,[{key:"getIdsFor",value:function(t){null==t&&ht("Can not get id list for null key");var e=this.idsByKey,r=this.idsByKey.get(t);return r||(r=new Et,e.set(t,r)),r}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),r=this.keyForId.get(e),n=this.getKey(t);this.deleteIdForKey(r,e),this.addIdForKey(n,e),this.keyForId.set(e,n)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),r=this.keyForId.get(e);this.deleteIdForKey(r,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,r=this.lvls,n=e.get(t);return n||(n=new _t,e.set(t,n),r.push(t)),n}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var r=this.getKey(t),n=this.getCache(r,e);return null!=n&&this.updateKeyMappingFor(t),n}},{key:"getForCachedKey",value:function(t,e){var r=this.keyForId.get(t.id());return this.getCache(r,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var r=this.getKey(t);return this.hasCache(r,e)}},{key:"setCache",value:function(t,e,r){r.key=t,this.getCachesAt(e).set(t,r)}},{key:"set",value:function(t,e,r){var n=this.getKey(t);this.setCache(n,e,r),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var r=this.getKey(t);this.deleteCache(r,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach((function(r){return e.deleteCache(t,r)}))}},{key:"invalidate",value:function(t){var e=t.id(),r=this.keyForId.get(e);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(r),n||0===this.getNumberOfIdsForKey(r)}}]),t}(),za={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ia=xt({getKey:null,doesEleInvalidateKey:dt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ct,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ba=function(t,e){var r=this;r.renderer=t,r.onDequeues=[];var n=Ia(e);R(r,n),r.lookup=new Fa(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},Ra=Ba.prototype;Ra.reasons=za,Ra.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},Ra.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Ra.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new o((function(t,e){return e.reqs-t.reqs}))},Ra.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Ra.getElement=function(t,e,r,n,i){var o=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(!e||0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed())return null;if(!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(null==n&&(n=Math.ceil(Yt(s*r))),n<-4)n=-4;else if(s>=7.99||n>3)return null;var c=Math.pow(2,n),d=e.h*c,u=e.w*c,p=a.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,p))return null;var h,f=l.get(t,n);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(h=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||u>1024)return null;var g=o.getTextureQueue(h),m=g[g.length-2],v=function(){return o.recycleTexture(h,u)||o.addTexture(h,u)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<u&&(m=v());for(var y,b=function(t){return t&&t.scaledLabelShown===p},x=i&&i===za.dequeue,w=i&&i===za.highQuality,k=i&&i===za.downscale,C=n+1;C<=3;C++){var S=l.get(t,C);if(S){y=S;break}}var _=y&&y.level===n+1?y:null,T=function(){m.context.drawImage(_.texture.canvas,_.x,0,_.width,_.height,m.usedWidth,0,u,d)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,u,h),b(_))T();else if(b(y)){if(!w)return o.queueElement(t,y.level-1),y;for(var E=y.level;E>n;E--)_=o.getElement(t,e,r,E,za.downscale);T()}else{var P;if(!x&&!w&&!k)for(var M=n-1;M>=-4;M--){var D=l.get(t,M);if(D){P=D;break}}if(b(P))return o.queueElement(t,n),P;m.context.translate(m.usedWidth,0),m.context.scale(c,c),this.drawElement(m.context,t,e,p,!1),m.context.scale(1/c,1/c),m.context.translate(-m.usedWidth,0)}return f={x:m.usedWidth,texture:m,level:n,scale:c,width:u,height:d,scaledLabelShown:p},m.usedWidth+=Math.ceil(u+8),m.eleCaches.push(f),l.set(t,n,f),o.checkTextureFullness(m),f},Ra.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Ra.invalidateElement=function(t){var e=this,r=e.lookup,n=[];if(r.isInvalid(t)){for(var i=-4;i<=3;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}if(r.invalidate(t))for(var a=0;a<n.length;a++){var s=n[a],l=s.texture;l.invalidatedWidth+=s.width,s.invalidated=!0,e.checkTextureUtility(l)}e.removeFromQueue(t)}},Ra.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Ra.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?wt(e,t):t.fullnessChecks++},Ra.retireTexture=function(t){var e=t.height,r=this.getTextureQueue(e),n=this.lookup;wt(r,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var a=i[o];n.deleteCache(a.key,a.level)}kt(i),this.getRetiredTextureQueue(e).push(t)},Ra.addTexture=function(t,e){var r={};return this.getTextureQueue(t).push(r),r.eleCaches=[],r.height=t,r.width=Math.max(1024,e),r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,r.canvas=this.renderer.makeOffscreenCanvas(r.width,r.height),r.context=r.canvas.getContext("2d"),r},Ra.recycleTexture=function(t,e){for(var r=this.getTextureQueue(t),n=this.getRetiredTextureQueue(t),i=0;i<n.length;i++){var o=n[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,kt(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),wt(n,o),r.push(o),o}},Ra.queueElement=function(t,e){var r=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(t),o=n[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,r.updateItem(o);else{var a={eles:t.spawn().merge(t),level:e,reqs:1,key:i};r.push(a),n[i]=a}},Ra.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<1&&r.size()>0;a++){var s=r.pop(),l=s.key,c=s.eles[0],d=o.hasCache(c,s.level);if(n[l]=null,!d){i.push(s);var u=e.getBoundingBox(c);e.getElement(c,u,t,s.level,za.dequeue)}}return i},Ra.removeFromQueue=function(t){var e=this.getElementQueue(),r=this.getElementKeyToQueue(),n=this.getKey(t),i=r[n];null!=i&&(1===i.eles.length?(i.reqs=lt,e.updateItem(i),e.pop(),r[n]=null):i.eles.unmerge(t))},Ra.onDequeue=function(t){this.onDequeues.push(t)},Ra.offDequeue=function(t){wt(this.onDequeues,t)},Ra.setupDequeueing=Oa({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,r){return t.dequeue(e,r)},onDeqd:function(t,e){for(var r=0;r<t.onDequeues.length;r++)(0,t.onDequeues[r])(e)},shouldRedraw:function(t,e,r,n){for(var i=0;i<e.length;i++)for(var o=e[i].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(se(s,n))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var ja=function(t){var e=this,r=e.renderer=t,n=r.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=X()-500,e.skipping=!1,e.eleTxrDeqs=n.collection(),e.scheduleElementRefinement=i((function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)}),50),r.beforeRender((function(t,r){r-e.lastInvalidationTime<=250?e.skipping=!0:e.skipping=!1}),r.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new o((function(t,e){return e.reqs-t.reqs})),e.setupDequeueing()},Ha=ja.prototype,Ga=0,Va=Math.pow(2,53)-1;Ha.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,i),a={id:Ga=++Ga%Va,bb:t,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,c=-a.bb.y1;return s.scale(r,r),s.translate(l,c),a},Ha.getLayers=function(t,e,r){var n=this,i=n.renderer.cy.zoom(),o=n.firstGet;if(n.firstGet=!1,null==r)if((r=Math.ceil(Yt(i*e)))<-4)r=-4;else if(i>=3.99||r>2)return null;n.validateLayersElesOrdering(r,t);var a,s,l=n.layersByLevel,c=Math.pow(2,r),d=l[r]=l[r]||[];if(n.levelIsComplete(r,t))return d;!function(){var e=function(e){if(n.validateLayersElesOrdering(e,t),n.levelIsComplete(e,t))return s=l[e],!0},i=function(t){if(!s)for(var n=r+t;-4<=n&&n<=2&&!e(n);n+=t);};i(1),i(-1);for(var o=d.length-1;o>=0;o--){var a=d[o];a.invalid&&wt(d,a)}}();var u=function(e){var i=(e=e||{}).after;if(function(){if(!a){a=re();for(var e=0;e<t.length;e++)r=a,n=t[e].boundingBox(),r.x1=Math.min(r.x1,n.x1),r.x2=Math.max(r.x2,n.x2),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,n.y1),r.y2=Math.max(r.y2,n.y2),r.h=r.y2-r.y1}var r,n}(),a.w*c*(a.h*c)>16e6)return null;var o=n.makeLayer(a,r);if(null!=i){var s=d.indexOf(i)+1;d.splice(s,0,o)}else(void 0===e.insert||e.insert)&&d.unshift(o);return o};if(n.skipping&&!o)return null;for(var p=null,h=t.length/1,f=!o,g=0;g<t.length;g++){var m=t[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[r];if(b)p=b;else{if((!p||p.eles.length>=h||!ce(p.bb,m.boundingBox()))&&!(p=u({insert:!0,after:p})))return null;s||f?n.queueLayer(p,m):n.drawEleInLayer(p,m,r,e),p.eles.push(m),y[r]=p}}return s||(f?null:d)},Ha.getEleLevelForLayerLevel=function(t,e){return t},Ha.drawEleInLayer=function(t,e,r,n){var i=this.renderer,o=t.context,a=e.boundingBox();0!==a.w&&0!==a.h&&e.visible()&&(r=this.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,!0),i.setImgSmoothing(o,!0))},Ha.levelIsComplete=function(t,e){var r=this.layersByLevel[t];if(!r||0===r.length)return!1;for(var n=0,i=0;i<r.length;i++){var o=r[i];if(o.reqs>0)return!1;if(o.invalid)return!1;n+=o.eles.length}return n===e.length},Ha.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}}},Ha.updateElementsInLayers=function(t,e){for(var r=T(t[0]),n=0;n<t.length;n++)for(var i=r?null:t[n],o=r?t[n]:t[n].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var c=s[l];c&&(i&&this.getEleLevelForLayerLevel(c.level)!==i.level||e(c,o,i))}},Ha.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var r=this.layersByLevel[e];if(r&&r.length>0){t=!0;break}}return t},Ha.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=X(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,(function(t,r,n){e.invalidateLayer(t)})))},Ha.invalidateLayer=function(t){if(this.lastInvalidationTime=X(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];wt(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var o=r[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}},Ha.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,(function(t,r,n){var i=t.replacement;if(i||((i=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,i.eles=t.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)e.queueLayer(i,i.eles[o])}))},Ha.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},Ha.queueLayer=function(t,e){var r=this.layersQueue,n=t.elesQueue,i=n.hasId=n.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;n.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,r.updateItem(t)):(t.reqs=1,r.push(t))}},Ha.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<1&&0!==r.size();){var o=r.peek();if(o.replacement)r.pop();else if(o.replaces&&o!==o.replaces.replacement)r.pop();else if(o.invalid)r.pop();else{var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),0===n.length&&n.push(!0),0===o.elesQueue.length&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}}return n},Ha.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],r=t.replaces,n=e.indexOf(r);if(!(n<0||r.invalid)){e[n]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[t.level]=t)}this.requestRedraw()}},Ha.requestRedraw=i((function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()}),100),Ha.setupDequeueing=Oa({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:pt,shouldRedraw:ct,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Wa,Ua={};function qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function Xa(t,e,r){for(var n,i=0;i<e.length;i++){var o=e[i];0===i&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Ya(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];t.lineTo(o.x,o.y)}var a=r,s=r[0];for(t.moveTo(s.x,s.y),i=1;i<a.length;i++)o=a[i],t.lineTo(o.x,o.y);t.closePath&&t.closePath()}function Ka(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,2*Math.PI,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var l=o[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function $a(t,e,r,n){t.arc(e,r,n,0,2*Math.PI,!1)}Ua.arrowShapeImpl=function(t){return(Wa||(Wa={polygon:qa,"triangle-backcurve":Xa,"triangle-tee":Ya,"circle-triangle":Ka,"triangle-cross":Ya,circle:$a}))[t]};var Za={drawElement:function(t,e,r,n,i,o){e.isNode()?this.drawNode(t,e,r,n,i,o):this.drawEdge(t,e,r,n,i,o)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,r,n,i,o,a,s){var l=this,c=r.getBoundingBox(e);if(0!==c.w&&0!==c.h){var d=r.getElement(e,c,n,i,o);if(null!=d){var u=s(l,e);if(0===u)return;var p,h,f,g,m,v,y=a(l,e),b=c.x1,x=c.y1,w=c.w,k=c.h;if(0!==y){var C=r.getRotationPoint(e);f=C.x,g=C.y,t.translate(f,g),t.rotate(y),(m=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var S=r.getRotationOffset(e);p=S.x,h=S.y}else p=b,h=x;1!==u&&(v=t.globalAlpha,t.globalAlpha=v*u),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,p,h,w,k),1!==u&&(t.globalAlpha=v),0!==y&&(t.rotate(-y),t.translate(-f,-g),m||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}}},Qa=function(){return 0},Ja=function(t,e){return t.getTextAngle(e,null)},ts=function(t,e){return t.getTextAngle(e,"source")},es=function(t,e){return t.getTextAngle(e,"target")},rs=function(t,e){return e.effectiveOpacity()},ns=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Za.drawCachedElement=function(t,e,r,n,i,o){var a=this,s=a.data,l=s.eleTxrCache,c=s.lblTxrCache,d=s.slbTxrCache,u=s.tlbTxrCache,p=e.boundingBox(),h=!0===o?l.reasons.highQuality:null;if(0!==p.w&&0!==p.h&&e.visible()&&(!n||se(p,n))){var f=e.isEdge(),g=e.element()._private.rscratch.badLine;a.drawCachedElementPortion(t,e,l,r,i,h,Qa,rs),f&&g||a.drawCachedElementPortion(t,e,c,r,i,h,Ja,ns),f&&!g&&(a.drawCachedElementPortion(t,e,d,r,i,h,ts,ns),a.drawCachedElementPortion(t,e,u,r,i,h,es,ns)),a.drawElementOverlay(t,e)}},Za.drawElements=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];this.drawElement(t,n)}},Za.drawCachedElements=function(t,e,r,n){for(var i=0;i<e.length;i++){var o=e[i];this.drawCachedElement(t,o,r,n)}},Za.drawCachedNodes=function(t,e,r,n){for(var i=0;i<e.length;i++){var o=e[i];o.isNode()&&this.drawCachedElement(t,o,r,n)}},Za.drawLayeredElements=function(t,e,r,n){var i=this.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0!==s.w&&0!==s.h&&t.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(t,e,r,n)};var is={drawEdge:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=e._private.rscratch;if((!o||e.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var c=o?e.pstyle("opacity").value:1,d=o?e.pstyle("line-opacity").value:1,u=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,h=e.pstyle("line-cap").value,f=c*d,g=c*d,m=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;t.lineWidth=p,t.lineCap=h,a.eleStrokeStyle(t,e,r),a.drawEdgePath(e,t,s.allpts,u),t.lineCap="butt"},v=function(){i&&a.drawEdgeOverlay(t,e)},y=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;a.drawArrowheads(t,e,r)},b=function(){a.drawElementText(t,e,null,n)};t.lineJoin="round";var x="yes"===e.pstyle("ghost").value;if(x){var w=e.pstyle("ghost-offset-x").pfValue,k=e.pstyle("ghost-offset-y").pfValue,C=e.pstyle("ghost-opacity").value,S=f*C;t.translate(w,k),m(S),y(S),t.translate(-w,-k)}m(),y(),v(),b(),r&&t.translate(l.x1,l.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var r=e.pstyle("overlay-opacity").value;if(0!==r){var n=this,i=n.usePaths(),o=e._private.rscratch,a=2*e.pstyle("overlay-padding").pfValue,s=e.pstyle("overlay-color").value;t.lineWidth=a,"self"!==o.edgeType||i?t.lineCap="round":t.lineCap="butt",n.colorStrokeStyle(t,s[0],s[1],s[2],r),n.drawEdgePath(e,t,o.allpts,"solid")}}},drawEdgePath:function(t,e,r,n){var i,o=t._private.rscratch,a=e,s=!1,l=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(l){var u=r.join("$");o.pathCacheKey&&o.pathCacheKey===u?(i=e=o.pathCache,s=!0):(i=e=new Path2D,o.pathCacheKey=u,o.pathCache=i)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(c),a.lineDashOffset=d;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<r.length;h+=2)e.lineTo(r[h],r[h+1])}e=a,l?e.stroke(i):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,r){var n=e._private.rscratch,i="haystack"===n.edgeType;i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},drawArrowhead:function(t,e,r,n,i,o,a){if(!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(o)||null==o)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if("none"!==l){var c="hollow"===e.pstyle(r+"-arrow-fill").value?"both":"filled",d=e.pstyle(r+"-arrow-fill").value,u=e.pstyle("width").pfValue,p=e.pstyle("opacity").value;void 0===a&&(a=p);var h=t.globalCompositeOperation;1===a&&"hollow"!==d||(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,c,u,l,n,i,o),t.globalCompositeOperation=h);var f=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,f[0],f[1],f[2],a),s.colorStrokeStyle(t,f[0],f[1],f[2],a),s.drawArrowShape(e,t,d,u,l,n,i,o)}}},drawArrowShape:function(t,e,r,n,i,o,a,s){var l,c=this,d=this.usePaths()&&"triangle-cross"!==i,u=!1,p=e,h={x:o,y:a},f=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,f),m=c.arrowShapes[i];if(d){var v=c.arrowPathCache=c.arrowPathCache||[],y=rt(i),b=v[y];null!=b?(l=e=b,u=!0):(l=e=new Path2D,v[y]=l)}u||(e.beginPath&&e.beginPath(),d?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,g,s,h,n),e.closePath&&e.closePath()),e=p,d&&(e.translate(o,a),e.rotate(s),e.scale(g,g)),"filled"!==r&&"both"!==r||(d?e.fill(l):e.fill()),"hollow"!==r&&"both"!==r||(e.lineWidth=(m.matchEdgeWidth?n:1)/(d?g:1),e.lineJoin="miter",d?e.stroke(l):e.stroke()),d&&(e.scale(1/g,1/g),e.rotate(-s),e.translate(-o,-a))}},os={safeDrawImage:function(t,e,r,n,i,o,a,s,l,c){i<=0||o<=0||l<=0||c<=0||t.drawImage(e,r,n,i,o,a,s,l,c)},drawInscribedImage:function(t,e,r,n,i){var o=this,a=r.position(),s=a.x,l=a.y,c=r.cy().style(),d=c.getIndexedStyle.bind(c),u=d(r,"background-fit","value",n),p=d(r,"background-repeat","value",n),h=r.width(),f=r.height(),g=2*r.padding(),m=h+("inner"===d(r,"background-width-relative-to","value",n)?0:g),v=f+("inner"===d(r,"background-height-relative-to","value",n)?0:g),y=r._private.rscratch,b="node"===d(r,"background-clip","value",n),x=d(r,"background-image-opacity","value",n)*i,w=d(r,"background-image-smoothing","value",n),k=e.width||e.cachedW,C=e.height||e.cachedH;null!=k&&null!=C||(document.body.appendChild(e),k=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var S=k,_=C;if("auto"!==d(r,"background-width","value",n)&&(S="%"===d(r,"background-width","units",n)?d(r,"background-width","pfValue",n)*m:d(r,"background-width","pfValue",n)),"auto"!==d(r,"background-height","value",n)&&(_="%"===d(r,"background-height","units",n)?d(r,"background-height","pfValue",n)*v:d(r,"background-height","pfValue",n)),0!==S&&0!==_){if("contain"===u)S*=T=Math.min(m/S,v/_),_*=T;else if("cover"===u){var T;S*=T=Math.max(m/S,v/_),_*=T}var E=s-m/2,P=d(r,"background-position-x","units",n),M=d(r,"background-position-x","pfValue",n);E+="%"===P?(m-S)*M:M;var D=d(r,"background-offset-x","units",n),A=d(r,"background-offset-x","pfValue",n);E+="%"===D?(m-S)*A:A;var L=l-v/2,N=d(r,"background-position-y","units",n),O=d(r,"background-position-y","pfValue",n);L+="%"===N?(v-_)*O:O;var F=d(r,"background-offset-y","units",n),z=d(r,"background-offset-y","pfValue",n);L+="%"===F?(v-_)*z:z,y.pathCache&&(E-=s,L-=l,s=0,l=0);var I=t.globalAlpha;t.globalAlpha=x;var B=o.getImgSmoothing(t),R=!1;if("no"===w&&B?(o.setImgSmoothing(t,!1),R=!0):"yes"!==w||B||(o.setImgSmoothing(t,!0),R=!0),"no-repeat"===p)b&&(t.save(),y.pathCache?t.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,s,l,m,v),t.clip())),o.safeDrawImage(t,e,0,0,k,C,E,L,S,_),b&&t.restore();else{var j=t.createPattern(e,p);t.fillStyle=j,o.nodeShapes[o.getNodeShape(r)].draw(t,s,l,m,v),t.translate(E,L),t.fill(),t.translate(-E,-L)}t.globalAlpha=I,R&&o.setImgSmoothing(t,B)}}},as={};function ss(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+i-o),t.quadraticCurveTo(e+n,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.quadraticCurveTo(e,r+i,e,r+i-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),t.fill()}as.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(Yt(r*n));e=Math.pow(2,i)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},as.drawElementText=function(t,e,r,n,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==n){if(o&&!a.eleTextBiggerThanMin(e))return}else if(!1===n)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=a.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,d=e.pstyle("label"),u=e.pstyle("source-label"),p=e.pstyle("target-label");if(c||(!d||!d.value)&&(!u||!u.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var h,f=!r;r&&(h=r,t.translate(-h.x1,-h.y1)),null==i?(a.drawText(t,e,null,f,o),e.isEdge()&&(a.drawText(t,e,"source",f,o),a.drawText(t,e,"target",f,o))):a.drawText(t,e,i,f,o),r&&t.translate(h.x1,h.y1)},as.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if((e=this.fontCaches[r]).context===t)return e;return e={context:t},this.fontCaches.push(e),e},as.setupTextStyle=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,c=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=n+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],s),this.colorStrokeStyle(t,d[0],d[1],d[2],l)},as.getTextAngle=function(t,e){var r=t._private.rscratch,n=e?e+"-":"",i=t.pstyle(n+"text-rotation"),o=Ct(r,"labelAngle",e);return"autorotate"===i.strValue?t.isEdge()?o:0:"none"===i.strValue?0:i.pfValue},as.drawText=function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!i||0!==s&&0!==e.pstyle("text-opacity").value){"main"===r&&(r=null);var l,c,d=Ct(a,"labelX",r),u=Ct(a,"labelY",r),p=this.getLabelText(e,r);if(null!=p&&""!==p&&!isNaN(d)&&!isNaN(u)){this.setupTextStyle(t,e,i);var h,f=r?r+"-":"",g=Ct(a,"labelWidth",r),m=Ct(a,"labelHeight",r),v=e.pstyle(f+"text-margin-x").pfValue,y=e.pstyle(f+"text-margin-y").pfValue,b=e.isEdge(),x=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;switch(b&&(x="center",w="center"),d+=v,u+=y,0!==(h=n?this.getTextAngle(e,r):0)&&(l=d,c=u,t.translate(l,c),t.rotate(h),d=0,u=0),w){case"top":break;case"center":u+=m/2;break;case"bottom":u+=m}var k=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,_=e.pstyle("text-background-padding").pfValue;if(k>0||S>0&&C>0){var T=d-_;switch(x){case"left":T-=g;break;case"center":T-=g/2}var E=u-m-_,P=g+2*_,M=m+2*_;if(k>0){var D=t.fillStyle,A=e.pstyle("text-background-color").value;t.fillStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+k*s+")";var L=e.pstyle("text-background-shape").strValue;0===L.indexOf("round")?ss(t,T,E,P,M,2):t.fillRect(T,E,P,M),t.fillStyle=D}if(S>0&&C>0){var N=t.strokeStyle,O=t.lineWidth,F=e.pstyle("text-border-color").value,z=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+C*s+")",t.lineWidth=S,t.setLineDash)switch(z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=S/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(T,E,P,M),"double"===z){var I=S/2;t.strokeRect(T+I,E+I,P-2*I,M-2*I)}t.setLineDash&&t.setLineDash([]),t.lineWidth=O,t.strokeStyle=N}}var B=2*e.pstyle("text-outline-width").pfValue;if(B>0&&(t.lineWidth=B),"wrap"===e.pstyle("text-wrap").value){var R=Ct(a,"labelWrapCachedLines",r),j=Ct(a,"labelLineHeight",r),H=g/2,G=this.getLabelJustification(e);switch("auto"===G||("left"===x?"left"===G?d+=-g:"center"===G&&(d+=-H):"center"===x?"left"===G?d+=-H:"right"===G&&(d+=H):"right"===x&&("center"===G?d+=H:"right"===G&&(d+=g))),w){case"top":u-=(R.length-1)*j;break;case"center":case"bottom":u-=(R.length-1)*j}for(var V=0;V<R.length;V++)B>0&&t.strokeText(R[V],d,u),t.fillText(R[V],d,u),u+=j}else B>0&&t.strokeText(p,d,u),t.fillText(p,d,u);0!==h&&(t.rotate(-h),t.translate(-l,-c))}}};for(var ls={drawNode:function(t,e,r){var n,i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=e._private,d=c.rscratch,u=e.position();if(C(u.x)&&C(u.y)&&(!s||e.visible())){var p,h,f=s?e.effectiveOpacity():1,g=l.usePaths(),m=!1,v=e.padding();n=e.width()+2*v,i=e.height()+2*v,r&&(h=r,t.translate(-h.x1,-h.y1));for(var y=e.pstyle("background-image"),b=y.value,x=new Array(b.length),w=new Array(b.length),k=0,S=0;S<b.length;S++){var _=b[S],T=x[S]=null!=_&&"none"!==_;if(T){var E=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",S);k++,w[S]=l.getCachedImage(_,E,(function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")}))}}var P=e.pstyle("background-blacken").value,M=e.pstyle("border-width").pfValue,D=e.pstyle("background-opacity").value*f,A=e.pstyle("border-color").value,L=e.pstyle("border-style").value,N=e.pstyle("border-opacity").value*f;t.lineJoin="miter";var O=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;l.eleFillStyle(t,e,r)},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;l.colorStrokeStyle(t,A[0],A[1],A[2],e)},z=e.pstyle("shape").strValue,I=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(u.x,u.y);var B=l.nodePathCache=l.nodePathCache||[],R=nt("polygon"===z?z+","+I.join(","):z,""+i,""+n),j=B[R];null!=j?(p=j,m=!0,d.pathCache=p):(p=new Path2D,B[R]=d.pathCache=p)}var H=function(){if(!m){var r=u;g&&(r={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(p||t,r.x,r.y,n,i)}g?t.fill(p):t.fill()},G=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=c.backgrounding,o=0,a=0;a<w.length;a++){var s=e.cy().style().getIndexedStyle(e,"background-image-containment","value",a);n&&"over"===s||!n&&"inside"===s?o++:x[a]&&w[a].complete&&!w[a].error&&(o++,l.drawInscribedImage(t,w[a],e,a,r))}c.backgrounding=!(o===k),i!==c.backgrounding&&e.updateStyle(!1)},V=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(e)&&(l.drawPie(t,e,o),r&&(g||l.nodeShapes[l.getNodeShape(e)].draw(t,u.x,u.y,n,i)))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=(P>0?P:-P)*e,n=P>0?0:255;0!==P&&(l.colorFillStyle(t,n,n,n,r),g?t.fill(p):t.fill())},U=function(){if(M>0){if(t.lineWidth=M,t.lineCap="butt",t.setLineDash)switch(L){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(g?t.stroke(p):t.stroke(),"double"===L){t.lineWidth=M/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(p):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}},q=function(){a&&l.drawNodeOverlay(t,e,u,n,i)},X=function(){l.drawElementText(t,e,null,o)},Y="yes"===e.pstyle("ghost").value;if(Y){var K=e.pstyle("ghost-offset-x").pfValue,$=e.pstyle("ghost-offset-y").pfValue,Z=e.pstyle("ghost-opacity").value,Q=Z*f;t.translate(K,$),O(Z*D),H(),G(Q,!0),F(Z*N),U(),V(0!==P||0!==M),G(Q,!1),W(Q),t.translate(-K,-$)}O(),H(),G(f,!0),F(),U(),V(0!==P||0!==M),G(f,!1),W(),g&&t.translate(-u.x,-u.y),X(),q(),r&&t.translate(h.x1,h.y1)}},drawNodeOverlay:function(t,e,r,n,i){if(e.visible()){var o=e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-opacity").value,s=e.pstyle("overlay-color").value;if(a>0){if(r=r||e.position(),null==n||null==i){var l=e.padding();n=e.width()+2*l,i=e.height()+2*l}this.colorFillStyle(t,s[0],s[1],s[2],a),this.nodeShapes.roundrectangle.draw(t,r.x,r.y,n+2*o,i+2*o),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=n.x,s=n.y,l=e.width(),c=e.height(),d=Math.min(l,c)/2,u=0;this.usePaths()&&(a=0,s=0),"%"===o.units?d*=o.pfValue:void 0!==o.pfValue&&(d=o.pfValue/2);for(var p=1;p<=i.pieBackgroundN;p++){var h=e.pstyle("pie-"+p+"-background-size").value,f=e.pstyle("pie-"+p+"-background-color").value,g=e.pstyle("pie-"+p+"-background-opacity").value*r,m=h/100;m+u>1&&(m=1-u);var v=1.5*Math.PI+2*Math.PI*u,y=v+2*Math.PI*m;0===h||u>=1||u+m>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,d,v,y),t.closePath(),this.colorFillStyle(t,f[0],f[1],f[2],g),t.fill(),u+=m)}}},cs={getPixelRatio:function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},paintCache:function(t){for(var e,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if((e=r[i]).context===t){n=!1;break}return n&&(e={context:t},r.push(e)),e},createGradientStyleFor:function(t,e,r,n,i){var o,a=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(r.isEdge()){var c=r.sourceEndpoint(),d=r.targetEndpoint(),u=r.midpoint(),p=$t(c,u),h=$t(d,u);o=t.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(p,h))}else{var f=a?{x:0,y:0}:r.position(),g=r.paddedWidth(),m=r.paddedHeight();o=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,m))}else if(r.isEdge()){var v=r.sourceEndpoint(),y=r.targetEndpoint();o=t.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=a?{x:0,y:0}:r.position(),x=r.paddedWidth()/2,w=r.paddedHeight()/2;switch(r.pstyle("background-gradient-direction").value){case"to-bottom":o=t.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":o=t.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":o=t.createLinearGradient(b.x+x,b.y,b.x-x,b.y);break;case"to-right":o=t.createLinearGradient(b.x-x,b.y,b.x+x,b.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(b.x-x,b.y-w,b.x+x,b.y+w);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(b.x-x,b.y+w,b.x+x,b.y-w);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(b.x+x,b.y-w,b.x-x,b.y+w);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(b.x+x,b.y+w,b.x-x,b.y-w)}}if(!o)return null;for(var k=l.length===s.length,C=s.length,S=0;S<C;S++)o.addColorStop(k?l[S]:S/(C-1),"rgba("+s[S][0]+","+s[S][1]+","+s[S][2]+","+i+")");return o},gradientFillStyle:function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i},colorFillStyle:function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"},eleFillStyle:function(t,e,r){var n=e.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}},gradientStrokeStyle:function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i},colorStrokeStyle:function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"},eleStrokeStyle:function(t,e,r){var n=e.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}},matchCanvasSize:function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,c=i*a,d=o*a;if(c!==e.canvasWidth||d!==e.canvasHeight){e.fontCaches=null;var u=r.canvasContainer;u.style.width=i+"px",u.style.height=o+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)(l=r.canvases[p]).width=c,l.height=d,l.style.width=i+"px",l.style.height=o+"px";for(p=0;p<e.BUFFER_COUNT;p++)(l=r.bufferCanvases[p]).width=c,l.height=d,l.style.width=i+"px",l.style.height=o+"px";e.textureMult=1,a<=1&&(l=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,l.width=c*e.textureMult,l.height=d*e.textureMult),e.canvasWidth=c,e.canvasHeight=d}},renderTo:function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},render:function(t){var e=(t=t||bt()).forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,o=t.forcedPan,a=this,s=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=a.cy,c=a.data,d=c.canvasNeedsRedraw,u=a.textureOnViewport&&!e&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),p=void 0!==t.motionBlur?t.motionBlur:a.motionBlur,h=a.motionBlurPxRatio,f=l.hasCompoundNodes(),g=a.hoverData.draggingEles,m=!(!a.hoverData.selecting&&!a.touchData.selecting),v=p=p&&!e&&a.motionBlurEnabled&&!m;e||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!e&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),p&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(v=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!u&&(d[a.NODE]=!0,d[a.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),x=void 0!==i?i:b,w=l.pan(),k={x:w.x,y:w.y},C={zoom:b,pan:{x:w.x,y:w.y}},S=a.prevViewport;void 0===S||C.zoom!==S.zoom||C.pan.x!==S.pan.x||C.pan.y!==S.pan.y||g&&!f||(a.motionBlurPxRatio=1),o&&(k=o),x*=s,k.x*=s,k.y*=s;var _=a.getCachedZSortedEles();function T(t,e,r,n,i){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",a.colorFillStyle(t,255,255,255,a.motionBlurTransparency),t.fillRect(e,r,n,i),t.globalCompositeOperation=o}function E(t,n){var s,l,d,u;a.clearingMotionBlur||t!==c.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&t!==c.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=k,l=x,d=a.canvasWidth,u=a.canvasHeight):(s={x:w.x*h,y:w.y*h},l=b*h,d=a.canvasWidth*h,u=a.canvasHeight*h),t.setTransform(1,0,0,1,0,0),"motionBlur"===n?T(t,0,0,d,u):e||void 0!==n&&!n||t.clearRect(0,0,d,u),r||(t.translate(s.x,s.y),t.scale(l,l)),o&&t.translate(o.x,o.y),i&&t.scale(i,i)}if(u||(a.textureDrawLastFrame=!1),u){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=l.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var P=a.data.bufferContexts[a.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(C=a.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}d[a.DRAG]=!1,d[a.NODE]=!1;var M=c.contexts[a.NODE],D=a.textureCache.texture;C=a.textureCache.viewport,M.setTransform(1,0,0,1,0,0),p?T(M,0,0,C.width,C.height):M.clearRect(0,0,C.width,C.height);var A=y.core("outside-texture-bg-color").value,L=y.core("outside-texture-bg-opacity").value;a.colorFillStyle(M,A[0],A[1],A[2],L),M.fillRect(0,0,C.width,C.height),b=l.zoom(),E(M,!1),M.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/s,C.height/C.zoom/s),M.drawImage(D,C.mpan.x,C.mpan.y,C.width/C.zoom/s,C.height/C.zoom/s)}else a.textureOnViewport&&!e&&(a.textureCache=null);var N=l.extent(),O=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),F=a.hideEdgesOnViewport&&O,z=[];if(z[a.NODE]=!d[a.NODE]&&p&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,z[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),z[a.DRAG]=!d[a.DRAG]&&p&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,z[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),d[a.NODE]||r||n||z[a.NODE]){var I=p&&!z[a.NODE]&&1!==h;E(M=e||(I?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:c.contexts[a.NODE]),p&&!I?"motionBlur":void 0),F?a.drawCachedNodes(M,_.nondrag,s,N):a.drawLayeredElements(M,_.nondrag,s,N),a.debug&&a.drawDebugPoints(M,_.nondrag),r||p||(d[a.NODE]=!1)}if(!n&&(d[a.DRAG]||r||z[a.DRAG])&&(I=p&&!z[a.DRAG]&&1!==h,E(M=e||(I?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:c.contexts[a.DRAG]),p&&!I?"motionBlur":void 0),F?a.drawCachedNodes(M,_.drag,s,N):a.drawCachedElements(M,_.drag,s,N),a.debug&&a.drawDebugPoints(M,_.drag),r||p||(d[a.DRAG]=!1)),a.showFps||!n&&d[a.SELECT_BOX]&&!r){if(E(M=e||c.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){b=a.cy.zoom();var B=y.core("selection-box-border-width").value/b;M.lineWidth=B,M.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",M.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),B>0&&(M.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",M.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(c.bgActivePosistion&&!a.hoverData.selecting){b=a.cy.zoom();var R=c.bgActivePosistion;M.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",M.beginPath(),M.arc(R.x,R.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),M.fill()}var j=a.lastRedrawTime;if(a.showFps&&j){j=Math.round(j);var H=Math.round(1e3/j);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+j+" ms = "+H+" fps",0,20),M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(H/60,1),20)}r||(d[a.SELECT_BOX]=!1)}if(p&&1!==h){var G=c.contexts[a.NODE],V=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],W=c.contexts[a.DRAG],U=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],q=function(t,e,r){t.setTransform(1,0,0,1,0,0),r||!v?t.clearRect(0,0,a.canvasWidth,a.canvasHeight):T(t,0,0,a.canvasWidth,a.canvasHeight);var n=h;t.drawImage(e,0,0,a.canvasWidth*n,a.canvasHeight*n,0,0,a.canvasWidth,a.canvasHeight)};(d[a.NODE]||z[a.NODE])&&(q(G,V,z[a.NODE]),d[a.NODE]=!1),(d[a.DRAG]||z[a.DRAG])&&(q(W,U,z[a.DRAG]),d[a.DRAG]=!1)}a.prevViewport=C,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),p&&(a.motionBlurTimeout=setTimeout((function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!u,a.mbFrames=0,d[a.NODE]=!0,d[a.DRAG]=!0,a.redraw()}),100)),e||l.emit("render")}},ds={drawPolygonPath:function(t,e,r,n,i,o){var a=n/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],r+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],r+s*o[2*l+1]);t.closePath()},drawRoundPolygonPath:function(t,e,r,n,i,o){var a=n/2,s=i/2,l=Me(n,i);t.beginPath&&t.beginPath();for(var c=0;c<o.length/4;c++){var d,u;u=0===c?o.length-2:4*c-2,d=4*c+2;var p=e+a*o[4*c],h=r+s*o[4*c+1],f=-o[u]*o[d]-o[u+1]*o[d+1],g=l/Math.tan(Math.acos(f)/2),m=p-g*o[u],v=h-g*o[u+1],y=p+g*o[d],b=h+g*o[d+1];0===c?t.moveTo(m,v):t.lineTo(m,v),t.arcTo(p,h,y,b,l)}t.closePath()},drawRoundRectanglePath:function(t,e,r,n,i){var o=n/2,a=i/2,s=Pe(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-a),t.arcTo(e+o,r-a,e+o,r,s),t.arcTo(e+o,r+a,e,r+a,s),t.arcTo(e-o,r+a,e-o,r,s),t.arcTo(e-o,r-a,e,r-a,s),t.lineTo(e,r-a),t.closePath()},drawBottomRoundRectanglePath:function(t,e,r,n,i){var o=n/2,a=i/2,s=Pe(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-a),t.lineTo(e+o,r-a),t.lineTo(e+o,r),t.arcTo(e+o,r+a,e,r+a,s),t.arcTo(e-o,r+a,e-o,r,s),t.lineTo(e-o,r-a),t.lineTo(e,r-a),t.closePath()},drawCutRectanglePath:function(t,e,r,n,i){var o=n/2,a=i/2;t.beginPath&&t.beginPath(),t.moveTo(e-o+8,r-a),t.lineTo(e+o-8,r-a),t.lineTo(e+o,r-a+8),t.lineTo(e+o,r+a-8),t.lineTo(e+o-8,r+a),t.lineTo(e-o+8,r+a),t.lineTo(e-o,r+a-8),t.lineTo(e-o,r-a+8),t.closePath()},drawBarrelPath:function(t,e,r,n,i){var o=n/2,a=i/2,s=e-o,l=e+o,c=r-a,d=r+a,u=De(n,i),p=u.widthOffset,h=u.heightOffset,f=u.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,c+h),t.lineTo(s,d-h),t.quadraticCurveTo(s+f,d,s+p,d),t.lineTo(l-p,d),t.quadraticCurveTo(l-f,d,l,d-h),t.lineTo(l,c+h),t.quadraticCurveTo(l-f,c,l-p,c),t.lineTo(s+p,c),t.quadraticCurveTo(s+f,c,s,c+h),t.closePath()}},us=Math.sin(0),ps=Math.cos(0),hs={},fs={},gs=Math.PI/40,ms=0*Math.PI;ms<2*Math.PI;ms+=gs)hs[ms]=Math.sin(ms),fs[ms]=Math.cos(ms);ds.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var o,a,s=n/2,l=i/2,c=0*Math.PI;c<2*Math.PI;c+=gs)o=e-s*hs[c]*us+s*fs[c]*ps,a=r+l*fs[c]*us+l*hs[c]*ps,0===c?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var vs={};function ys(t){var e=t.indexOf(",");return t.substr(e+1)}function bs(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Hr((function(n,i){try{e.toBlob((function(t){null!=t?n(t):i(new Error("`canvas.toBlob()` sent a null value in its callback"))}),r,t.quality)}catch(t){i(t)}}));case"blob":return function(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return new Blob([n],{type:e})}(ys(n()),r);case"base64":return ys(n());case"base64uri":default:return n()}}vs.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]},vs.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements().boundingBox(),n=this.findContainerClientCoords(),i=t.full?Math.ceil(r.w):n[2],o=t.full?Math.ceil(r.h):n[3],a=C(t.maxWidth)||C(t.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==t.scale)i*=t.scale,o*=t.scale,l=t.scale;else if(a){var c=1/0,d=1/0;C(t.maxWidth)&&(c=l*t.maxWidth/i),C(t.maxHeight)&&(d=l*t.maxHeight/o),i*=l=Math.min(c,d),o*=l}a||(i*=s,o*=s,l*=s);var u=document.createElement("canvas");u.width=i,u.height=o,u.style.width=i+"px",u.style.height=o+"px";var p=u.getContext("2d");if(i>0&&o>0){p.clearRect(0,0,i,o),p.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(t.full)p.translate(-r.x1*l,-r.y1*l),p.scale(l,l),this.drawElements(p,h),p.scale(1/l,1/l),p.translate(r.x1*l,r.y1*l);else{var f=e.pan(),g={x:f.x*l,y:f.y*l};l*=e.zoom(),p.translate(g.x,g.y),p.scale(l,l),this.drawElements(p,h),p.scale(1/l,1/l),p.translate(-g.x,-g.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,i,o),p.fill())}return u},vs.png=function(t){return bs(t,this.bufferCanvasImage(t),"image/png")},vs.jpg=function(t){return bs(t,this.bufferCanvasImage(t),"image/jpeg")};var xs=ks,ws=ks.prototype;function ks(t){var e=this;e.data={canvases:new Array(ws.CANVAS_LAYERS),contexts:new Array(ws.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ws.CANVAS_LAYERS),bufferCanvases:new Array(ws.BUFFER_COUNT),bufferContexts:new Array(ws.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[r]=n;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};h&&h.userAgent.match(/msie|trident|edge/i)&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var s=0;s<ws.CANVAS_LAYERS;s++){var l=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=l.getContext("2d"),Object.keys(a).forEach((function(t){l.style[t]=a[t]})),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(ws.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(l),e.data.canvasNeedsRedraw[s]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[ws.NODE].setAttribute("data-id","layer"+ws.NODE+"-node"),e.data.canvases[ws.SELECT_BOX].setAttribute("data-id","layer"+ws.SELECT_BOX+"-selectbox"),e.data.canvases[ws.DRAG].setAttribute("data-id","layer"+ws.DRAG+"-drag"),s=0;s<ws.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var c=re(),d=function(t){return{x:-t.w/2,y:-t.h/2}},u=function(t){return t.boundingBox(),t[0]._private.bodyBounds},p=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||c},f=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||c},g=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||c},m=function(t,e){return e},v=function(t,e,r){var n=t?t+"-":"";return{x:e.x+r.pstyle(n+"text-margin-x").pfValue,y:e.y+r.pstyle(n+"text-margin-y").pfValue}},y=function(t,e,r){var n=t[0]._private.rscratch;return{x:n[e],y:n[r]}},b=e.data.eleTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,r,n,i,o){return e.drawElement(t,r,n,!1,!1,o)},getBoundingBox:u,getRotationPoint:function(t){return{x:((e=u(t)).x1+e.x2)/2,y:(e.y1+e.y2)/2};var e},getRotationOffset:function(t){return d(u(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),x=e.data.lblTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,r,n,i,o){return e.drawElementText(t,r,n,i,"main",o)},getBoundingBox:p,getRotationPoint:function(t){return v("",y(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=p(t),r=d(p(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":r.x=-e.w;break;case"right":r.x=0}switch(t.pstyle("text-valign").value){case"top":r.y=-e.h;break;case"bottom":r.y=0}}return r},isVisible:m}),w=e.data.slbTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,r,n,i,o){return e.drawElementText(t,r,n,i,"source",o)},getBoundingBox:f,getRotationPoint:function(t){return v("source",y(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return d(f(t))},isVisible:m}),k=e.data.tlbTxrCache=new Ba(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,r,n,i,o){return e.drawElementText(t,r,n,i,"target",o)},getBoundingBox:g,getRotationPoint:function(t){return v("target",y(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return d(g(t))},isVisible:m}),C=e.data.lyrTxrCache=new ja(e);e.onUpdateEleCalcs((function(t,e){b.invalidateElements(e),x.invalidateElements(e),w.invalidateElements(e),k.invalidateElements(e),C.invalidateElements(e);for(var r=0;r<e.length;r++){var n=e[r]._private;n.oldBackgroundTimestamp=n.backgroundTimestamp}}));var S=function(t){for(var e=0;e<t.length;e++)C.enqueueElementRefinement(t[e].ele)};b.onDequeue(S),x.onDequeue(S),w.onDequeue(S),k.onDequeue(S)}ws.CANVAS_LAYERS=3,ws.SELECT_BOX=0,ws.DRAG=1,ws.NODE=2,ws.BUFFER_COUNT=3,ws.TEXTURE_BUFFER=0,ws.MOTIONBLUR_BUFFER_NODE=1,ws.MOTIONBLUR_BUFFER_DRAG=2,ws.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ws.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ws.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ws.SELECT_BOX]=e}};var Cs="undefined"!=typeof Path2D;ws.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},ws.usePaths=function(){return Cs&&this.pathsEnabled},ws.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},ws.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},ws.makeOffscreenCanvas=function(t,e){var r;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":a(OffscreenCanvas))?r=new OffscreenCanvas(t,e):((r=document.createElement("canvas")).width=t,r.height=e),r},[Ua,Za,is,os,as,ls,cs,ds,vs,{nodeShapeImpl:function(t,e,r,n,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,o);case"polygon":return this.drawPolygonPath(e,r,n,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,o);case"barrel":return this.drawBarrelPath(e,r,n,i,o)}}}].forEach((function(t){R(ws,t)}));var Ss=[{type:"layout",extensions:la},{type:"renderer",extensions:[{name:"null",impl:ca},{name:"base",impl:Aa},{name:"canvas",impl:xs}]}],_s={},Ts={};function Es(t,e,r){var n=r,i=function(r){ht("Can not register `"+e+"` for `"+t+"` since `"+r+"` already exists in the prototype and can not be overridden")};if("core"===t){if(ko.prototype[e])return i(e);ko.prototype[e]=r}else if("collection"===t){if(Bi.prototype[e])return i(e);Bi.prototype[e]=r}else if("layout"===t){for(var o=function(t){this.options=t,r.call(this,t),k(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var c=s[l];a[c]=a[c]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var d=r.prototype.stop;a.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var r=0;r<e.length;r++)e[r].stop()}return d?d.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var u=function(t){return t._private.cy},p={addEventFields:function(t,e){e.layout=t,e.cy=u(t),e.target=t},bubble:function(){return!0},parent:function(t){return u(t)}};R(a,{createEmitter:function(){return this._private.emitter=new ni(p,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),Wr.eventAliasesOn(a),n=o}else if("renderer"===t&&"null"!==e&&"base"!==e){var h=Ps("renderer","base"),f=h.prototype,g=r,m=r.prototype,v=function(){h.apply(this,arguments),g.apply(this,arguments)},y=v.prototype;for(var b in f){var x=f[b];if(null!=m[b])return i(b);y[b]=x}for(var w in m)y[w]=m[w];f.clientFunctions.forEach((function(t){y[t]=y[t]||function(){ht("Renderer does not implement `renderer."+t+"()` on its prototype")}})),n=v}return H({map:_s,keys:[t,e],value:n})}function Ps(t,e){return G({map:_s,keys:[t,e]})}function Ms(t,e,r,n,i){return H({map:Ts,keys:[t,e,r,n],value:i})}function Ds(t,e,r,n){return G({map:Ts,keys:[t,e,r,n]})}var As=function(){return 2===arguments.length?Ps.apply(null,arguments):3===arguments.length?Es.apply(null,arguments):4===arguments.length?Ds.apply(null,arguments):5===arguments.length?Ms.apply(null,arguments):void ht("Invalid extension access syntax")};ko.prototype.extension=As,Ss.forEach((function(t){t.extensions.forEach((function(e){Es(t.type,e.name,e.impl)}))}));var Ls=function t(){if(!(this instanceof t))return new t;this.length=0},Ns=Ls.prototype;Ns.instanceString=function(){return"stylesheet"},Ns.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Ns.css=function(t,e){var r=this.length-1;if(b(t))this[r].properties.push({name:t,value:e});else if(k(t))for(var n=t,i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a];if(null!=s){var l=vo.properties[a]||vo.properties[O(a)];if(null!=l){var c=l.name,d=s;this[r].properties.push({name:c,value:d})}}}return this},Ns.style=Ns.css,Ns.generateStyle=function(t){var e=new vo(t);return this.appendToStyle(e)},Ns.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var Os=function(t){return void 0===t&&(t={}),k(t)?new ko(t):b(t)?As.apply(As,arguments):void 0};Os.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Os),t.apply(null,e),this},Os.warnings=function(t){return ft(t)},Os.version="3.19.0",Os.stylesheet=Os.Stylesheet=Ls,t.exports=Os},8930:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r.p+"73732f9592af4c5ef7317b95e7fdfa78.otf"},6839:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r.p+"6aa92971b230efa86413bfb3507ab7ab.otf"},1239:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r.p+"af6eb076338f0e1453ec45e0a6152711.otf"},6431:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r.p+"b107882789d7bf4224daae0a755cb356.otf"},4485:(t,e,r)=>{t.exports=r(2894)},2894:function(t,e){var r,n,i;(function(){var o,a,s,l,c,d,u,p,h,f,g,m,v,y,b;s=Math.floor,f=Math.min,a=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,r,n,i){var o;if(null==r&&(r=0),null==i&&(i=a),r<0)throw new Error("lo must be non-negative");for(null==n&&(n=t.length);r<n;)i(e,t[o=s((r+n)/2)])<0?n=o:r=o+1;return[].splice.apply(t,[r,r-r].concat(e)),e},d=function(t,e,r){return null==r&&(r=a),t.push(e),y(t,0,t.length-1,r)},c=function(t,e){var r,n;return null==e&&(e=a),r=t.pop(),t.length?(n=t[0],t[0]=r,b(t,0,e)):n=r,n},p=function(t,e,r){var n;return null==r&&(r=a),n=t[0],t[0]=e,b(t,0,r),n},u=function(t,e,r){var n;return null==r&&(r=a),t.length&&r(t[0],e)<0&&(e=(n=[t[0],e])[0],t[0]=n[1],b(t,0,r)),e},l=function(t,e){var r,n,i,o,l,c;for(null==e&&(e=a),l=[],n=0,i=(o=function(){c=[];for(var e=0,r=s(t.length/2);0<=r?e<r:e>r;0<=r?e++:e--)c.push(e);return c}.apply(this).reverse()).length;n<i;n++)r=o[n],l.push(b(t,r,e));return l},v=function(t,e,r){var n;if(null==r&&(r=a),-1!==(n=t.indexOf(e)))return y(t,0,n,r),b(t,n,r)},g=function(t,e,r){var n,i,o,s,c;if(null==r&&(r=a),!(i=t.slice(0,e)).length)return i;for(l(i,r),o=0,s=(c=t.slice(e)).length;o<s;o++)n=c[o],u(i,n,r);return i.sort(r).reverse()},m=function(t,e,r){var n,i,o,s,d,u,p,g,m;if(null==r&&(r=a),10*e<=t.length){if(!(o=t.slice(0,e).sort(r)).length)return o;for(i=o[o.length-1],s=0,u=(p=t.slice(e)).length;s<u;s++)r(n=p[s],i)<0&&(h(o,n,0,null,r),o.pop(),i=o[o.length-1]);return o}for(l(t,r),m=[],d=0,g=f(e,t.length);0<=g?d<g:d>g;0<=g?++d:--d)m.push(c(t,r));return m},y=function(t,e,r,n){var i,o,s;for(null==n&&(n=a),i=t[r];r>e&&n(i,o=t[s=r-1>>1])<0;)t[r]=o,r=s;return t[r]=i},b=function(t,e,r){var n,i,o,s,l;for(null==r&&(r=a),i=t.length,l=e,o=t[e],n=2*e+1;n<i;)(s=n+1)<i&&!(r(t[n],t[s])<0)&&(n=s),t[e]=t[n],n=2*(e=n)+1;return t[e]=o,y(t,l,e,r)},o=function(){function t(t){this.cmp=null!=t?t:a,this.nodes=[]}return t.push=d,t.pop=c,t.replace=p,t.pushpop=u,t.heapify=l,t.updateItem=v,t.nlargest=g,t.nsmallest=m,t.prototype.push=function(t){return d(this.nodes,t,this.cmp)},t.prototype.pop=function(){return c(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return p(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return u(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return l(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return v(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),n=[],void 0===(i="function"==typeof(r=function(){return o})?r.apply(e,n):r)||(t.exports=i)}).call(this)},9755:function(t,e){var r;!function(e,r){"use strict";"object"==typeof t.exports?t.exports=e.document?r(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(e)}("undefined"!=typeof window?window:this,(function(n,i){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,d=o.indexOf,u={},p=u.toString,h=u.hasOwnProperty,f=h.toString,g=f.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},b=n.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,r){var n,i,o=(r=r||b).createElement("script");if(o.text=t,e)for(n in x)(i=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,i);r.head.appendChild(o).parentNode.removeChild(o)}function k(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[p.call(t)]||"object":typeof t}var C="3.6.0",S=function(t,e){return new S.fn.init(t,e)};function _(t){var e=!!t&&"length"in t&&t.length,r=k(t);return!v(t)&&!y(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:C,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,r){return t.call(e,r,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var t,e,r,n,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(c&&n&&(S.isPlainObject(n)||(i=Array.isArray(n)))?(r=a[e],o=i&&!Array.isArray(r)?[]:i||S.isPlainObject(r)?r:{},i=!1,a[e]=S.extend(c,o,n)):void 0!==n&&(a[e]=n));return a},S.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==p.call(t)||(e=a(t))&&("function"!=typeof(r=h.call(e,"constructor")&&e.constructor)||f.call(r)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,r){w(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,n=0;if(_(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var r=e||[];return null!=t&&(_(Object(t))?S.merge(r,"string"==typeof t?[t]:t):c.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:d.call(e,t,r)},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n=[],i=0,o=t.length,a=!r;i<o;i++)!e(t[i],i)!==a&&n.push(t[i]);return n},map:function(t,e,r){var n,i,o=0,a=[];if(_(t))for(n=t.length;o<n;o++)null!=(i=e(t[o],o,r))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&a.push(i);return l(a)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var T=function(t){var e,r,n,i,o,a,s,l,c,d,u,p,h,f,g,m,v,y,b,x="sizzle"+1*new Date,w=t.document,k=0,C=0,S=lt(),_=lt(),T=lt(),E=lt(),P=function(t,e){return t===e&&(u=!0),0},M={}.hasOwnProperty,D=[],A=D.pop,L=D.push,N=D.push,O=D.slice,F=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\[[\\x20\\t\\r\\n\\f]*("+B+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+I+"*\\]",j=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",H=new RegExp(I+"+","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp(I+"|>"),q=new RegExp(j),X=new RegExp("^"+B+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),rt=function(t,e){var r="0x"+t.slice(1)-65536;return e||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){p()},at=xt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(D=O.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){N={apply:D.length?function(t,e){L.apply(t,O.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}function st(t,e,n,i){var o,s,c,d,u,f,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!i&&(p(e),e=e||h,g)){if(11!==w&&(u=J.exec(t)))if(o=u[1]){if(9===w){if(!(c=e.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(y&&(c=y.getElementById(o))&&b(e,c)&&c.id===o)return n.push(c),n}else{if(u[2])return N.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&r.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(o)),n}if(r.qsa&&!E[t+" "]&&(!m||!m.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&(U.test(t)||W.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&r.scope||((d=e.getAttribute("id"))?d=d.replace(nt,it):e.setAttribute("id",d=x)),s=(f=a(t)).length;s--;)f[s]=(d?"#"+d:":scope")+" "+bt(f[s]);v=f.join(",")}try{return N.apply(n,y.querySelectorAll(v)),n}catch(e){E(t,!0)}finally{d===x&&e.removeAttribute("id")}}}return l(t.replace(G,"$1"),e,n,i)}function lt(){var t=[];return function e(r,i){return t.push(r+" ")>n.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function ct(t){return t[x]=!0,t}function dt(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var r=t.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=e}function pt(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ct((function(e){return e=+e,ct((function(r,n){for(var i,o=t([],r.length,e),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in r=st.support={},o=st.isXML=function(t){var e=t&&t.namespaceURI,r=t&&(t.ownerDocument||t).documentElement;return!K.test(e||r&&r.nodeName||"HTML")},p=st.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:w;return a!=h&&9===a.nodeType&&a.documentElement?(f=(h=a).documentElement,g=!o(h),w!=h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),r.scope=dt((function(t){return f.appendChild(t).appendChild(h.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),r.attributes=dt((function(t){return t.className="i",!t.getAttribute("className")})),r.getElementsByTagName=dt((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),r.getElementsByClassName=Q.test(h.getElementsByClassName),r.getById=dt((function(t){return f.appendChild(t).id=x,!h.getElementsByName||!h.getElementsByName(x).length})),r.getById?(n.filter.ID=function(t){var e=t.replace(et,rt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r=e.getElementById(t);return r?[r]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,rt);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r,n,i,o=e.getElementById(t);if(o){if((r=o.getAttributeNode("id"))&&r.value===t)return[o];for(i=e.getElementsByName(t),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===t)return[o]}return[]}}),n.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,n=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(r.qsa=Q.test(h.querySelectorAll))&&(dt((function(t){var e;f.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+z+")"),t.querySelectorAll("[id~="+x+"-]").length||m.push("~="),(e=h.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),dt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&dt((function(t){r.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",j)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Q.test(f.compareDocumentPosition),b=e||Q.test(f.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},P=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===n?t==h||t.ownerDocument==w&&b(w,t)?-1:e==h||e.ownerDocument==w&&b(w,e)?1:d?F(d,t)-F(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var r,n=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t==h?-1:e==h?1:i?-1:o?1:d?F(d,t)-F(d,e):0;if(i===o)return pt(t,e);for(r=t;r=r.parentNode;)a.unshift(r);for(r=e;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?pt(a[n],s[n]):a[n]==w?-1:s[n]==w?1:0},h):h},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(p(t),r.matchesSelector&&g&&!E[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){E(e,!0)}return st(e,h,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=h&&p(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=h&&p(t);var i=n.attrHandle[e.toLowerCase()],o=i&&M.call(n.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:r.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(nt,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],i=0,o=0;if(u=!r.detectDuplicates,d=!r.sortStable&&t.slice(0),t.sort(P),u){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return d=null,t},i=st.getText=function(t){var e,r="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)r+=i(e);return r},(n=st.selectors={cacheLength:50,createPseudo:ct,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,rt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,rt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&q.test(r)&&(e=a(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,rt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+I+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,r){return function(n){var i=st.attr(n,t);return null==i?"!="===e:!e||(i+="","="===e?i===r:"!="===e?i!==r:"^="===e?r&&0===i.indexOf(r):"*="===e?r&&i.indexOf(r)>-1:"$="===e?r&&i.slice(-r.length)===r:"~="===e?(" "+i.replace(H," ")+" ").indexOf(r)>-1:"|="===e&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,n,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,l){var c,d,u,p,h,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(b=(h=(c=(d=(u=(p=m)[x]||(p[x]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]||[])[0]===k&&c[1])&&c[2],p=h&&m.childNodes[h];p=++h&&p&&p[g]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===e){d[t]=[k,h,b];break}}else if(y&&(b=h=(c=(d=(u=(p=e)[x]||(p[x]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]||[])[0]===k&&c[1]),!1===b)for(;(p=++h&&p&&p[g]||(b=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&((d=(u=p[x]||(p[x]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]=[k,b]),p!==e)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,e){var r,i=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return i[x]?i(e):i.length>1?(r=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,r){for(var n,o=i(t,e),a=o.length;a--;)t[n=F(t,o[a])]=!(r[n]=o[a])})):function(t){return i(t,0,r)}):i}},pseudos:{not:ct((function(t){var e=[],r=[],n=s(t.replace(G,"$1"));return n[x]?ct((function(t,e,r,i){for(var o,a=n(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,i,o){return e[0]=t,n(e,null,o,r),e[0]=null,!r.pop()}})),has:ct((function(t){return function(e){return st(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,rt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:ct((function(t){return X.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,rt).toLowerCase(),function(e){var r;do{if(r=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,r){return[r<0?r+e:r]})),even:mt((function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t})),odd:mt((function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t})),lt:mt((function(t,e,r){for(var n=r<0?r+e:r>e?e:r;--n>=0;)t.push(n);return t})),gt:mt((function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function yt(){}function bt(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function xt(t,e,r){var n=e.dir,i=e.next,o=i||n,a=r&&"parentNode"===o,s=C++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||a)return t(e,r,i);return!1}:function(e,r,l){var c,d,u,p=[k,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,r,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(d=(u=e[x]||(e[x]={}))[e.uniqueID]||(u[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=d[o])&&c[0]===k&&c[1]===s)return p[2]=c[2];if(d[o]=p,p[2]=t(e,r,l))return!0}return!1}}function wt(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function kt(t,e,r,n,i){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(r&&!r(o,n,i)||(a.push(o),c&&e.push(s)));return a}function Ct(t,e,r,n,i,o){return n&&!n[x]&&(n=Ct(n)),i&&!i[x]&&(i=Ct(i,o)),ct((function(o,a,s,l){var c,d,u,p=[],h=[],f=a.length,g=o||function(t,e,r){for(var n=0,i=e.length;n<i;n++)st(t,e[n],r);return r}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:kt(g,p,t,s,l),v=r?i||(o?t:f||n)?[]:a:m;if(r&&r(m,v,s,l),n)for(c=kt(v,h),n(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[h[d]]=!(m[h[d]]=u));if(o){if(i||t){if(i){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u);i(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=i?F(o,u):p[d])>-1&&(o[c]=!(a[c]=u))}}else v=kt(v===a?v.splice(f,v.length):v),i?i(null,a,v,l):N.apply(a,v)}))}function St(t){for(var e,r,i,o=t.length,a=n.relative[t[0].type],s=a||n.relative[" "],l=a?1:0,d=xt((function(t){return t===e}),s,!0),u=xt((function(t){return F(e,t)>-1}),s,!0),p=[function(t,r,n){var i=!a&&(n||r!==c)||((e=r).nodeType?d(t,r,n):u(t,r,n));return e=null,i}];l<o;l++)if(r=n.relative[t[l].type])p=[xt(wt(p),r)];else{if((r=n.filter[t[l].type].apply(null,t[l].matches))[x]){for(i=++l;i<o&&!n.relative[t[i].type];i++);return Ct(l>1&&wt(p),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(G,"$1"),r,l<i&&St(t.slice(l,i)),i<o&&St(t=t.slice(i)),i<o&&bt(t))}p.push(r)}return wt(p)}return yt.prototype=n.filters=n.pseudos,n.setFilters=new yt,a=st.tokenize=function(t,e){var r,i,o,a,s,l,c,d=_[t+" "];if(d)return e?0:d.slice(0);for(s=t,l=[],c=n.preFilter;s;){for(a in r&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=W.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(G," ")}),s=s.slice(r.length)),n.filter)!(i=Y[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return e?s.length:s?st.error(t):_(t,l).slice(0)},s=st.compile=function(t,e){var r,i=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),r=e.length;r--;)(s=St(e[r]))[x]?i.push(s):o.push(s);(s=T(t,function(t,e){var r=e.length>0,i=t.length>0,o=function(o,a,s,l,d){var u,f,m,v=0,y="0",b=o&&[],x=[],w=c,C=o||i&&n.find.TAG("*",d),S=k+=null==w?1:Math.random()||.1,_=C.length;for(d&&(c=a==h||a||d);y!==_&&null!=(u=C[y]);y++){if(i&&u){for(f=0,a||u.ownerDocument==h||(p(u),s=!g);m=t[f++];)if(m(u,a||h,s)){l.push(u);break}d&&(k=S)}r&&((u=!m&&u)&&v--,o&&b.push(u))}if(v+=y,r&&y!==v){for(f=0;m=e[f++];)m(b,x,a,s);if(o){if(v>0)for(;y--;)b[y]||x[y]||(x[y]=A.call(l));x=kt(x)}N.apply(l,x),d&&!o&&x.length>0&&v+e.length>1&&st.uniqueSort(l)}return d&&(k=S,c=w),b};return r?ct(o):o}(o,i))).selector=t}return s},l=st.select=function(t,e,r,i){var o,l,c,d,u,p="function"==typeof t&&t,h=!i&&a(t=p.selector||t);if(r=r||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,rt),e)||[])[0]))return r;p&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&(c=l[o],!n.relative[d=c.type]);)if((u=n.find[d])&&(i=u(c.matches[0].replace(et,rt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=i.length&&bt(l)))return N.apply(r,i),r;break}}return(p||s(t,h))(i,e,!g,r,!e||tt.test(t)&&vt(e.parentNode)||e),r},r.sortStable=x.split("").sort(P).join("")===x,r.detectDuplicates=!!u,p(),r.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))})),dt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),r.attributes&&dt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute("disabled")}))||ut(z,(function(t,e,r){var n;if(!r)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),st}(n);S.find=T,S.expr=T.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=T.uniqueSort,S.text=T.getText,S.isXMLDoc=T.isXML,S.contains=T.contains,S.escapeSelector=T.escape;var E=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&S(t).is(r))break;n.push(t)}return n},P=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},M=S.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,r){return v(e)?S.grep(t,(function(t,n){return!!e.call(t,n,t)!==r})):e.nodeType?S.grep(t,(function(t){return t===e!==r})):"string"!=typeof e?S.grep(t,(function(t){return d.call(e,t)>-1!==r})):S.filter(e,t,r)}S.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?S.find.matchesSelector(n,t)?[n]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<n;e++)if(S.contains(i[e],this))return!0})));for(r=this.pushStack([]),e=0;e<n;e++)S.find(t,i[e],r);return n>1?S.uniqueSort(r):r},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&M.test(t)?S(t):t||[],!1).length}});var N,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||N,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!n[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),A.test(n[1])&&S.isPlainObject(e))for(n in e)v(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=b.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==r.ready?r.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,N=S(b);var F=/^(?:parents|prev(?:Until|All))/,z={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),r=e.length;return this.filter((function(){for(var t=0;t<r;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var r,n=0,i=this.length,o=[],a="string"!=typeof t&&S(t);if(!M.test(t))for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&S.find.matchesSelector(r,t))){o.push(r);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(S(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,r){return E(t,"parentNode",r)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,r){return E(t,"nextSibling",r)},prevUntil:function(t,e,r){return E(t,"previousSibling",r)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(D(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(r,n){var i=S.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=S.filter(n,i)),this.length>1&&(z[t]||S.uniqueSort(i),F.test(t)&&i.reverse()),this.pushStack(i)}}));var B=/[^\x20\t\r\n\f]+/g;function R(t){return t}function j(t){throw t}function H(t,e,r,n){var i;try{t&&v(i=t.promise)?i.call(t).done(e).fail(r):t&&v(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(B)||[],(function(t,r){e[r]=!0})),e}(t):S.extend({},t);var e,r,n,i,o=[],a=[],s=-1,l=function(){for(i=i||t.once,n=e=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&t.stopOnFalse&&(s=o.length,r=!1);t.memory||(r=!1),e=!1,i&&(o=r?[]:"")},c={add:function(){return o&&(r&&!e&&(s=o.length-1,a.push(r)),function e(r){S.each(r,(function(r,n){v(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==k(n)&&e(n)}))}(arguments),r&&!e&&l()),this},remove:function(){return S.each(arguments,(function(t,e){for(var r;(r=S.inArray(e,o,r))>-1;)o.splice(r,1),r<=s&&s--})),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||e||(o=r=""),this},locked:function(){return!!i},fireWith:function(t,r){return i||(r=[t,(r=r||[]).slice?r.slice():r],a.push(r),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(r){S.each(e,(function(e,n){var i=v(t[n[4]])&&t[n[4]];o[n[1]]((function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?i?c.call(n,a(o,e,R,i),a(o,e,j,i)):(o++,c.call(n,a(o,e,R,i),a(o,e,j,i),a(o,e,R,e.notifyWith))):(r!==R&&(s=void 0,l=[n]),(i||e.resolveWith)(s,l))}},d=i?c:function(){try{c()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,d.stackTrace),t+1>=o&&(r!==j&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?d():(S.Deferred.getStackHook&&(d.stackTrace=S.Deferred.getStackHook()),n.setTimeout(d))}}return S.Deferred((function(n){e[0][3].add(a(0,n,v(i)?i:R,n.notifyWith)),e[1][3].add(a(0,n,v(t)?t:R)),e[2][3].add(a(0,n,v(r)?r:j))})).promise()},promise:function(t){return null!=t?S.extend(t,i):i}},o={};return S.each(e,(function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add((function(){r=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,r=e,n=Array(r),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?s.call(arguments):r,--e||o.resolveWith(n,i)}};if(e<=1&&(H(t,o.done(a(r)).resolve,o.reject,!e),"pending"===o.state()||v(i[r]&&i[r].then)))return o.then();for(;r--;)H(i[r],a(r),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&G.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){n.setTimeout((function(){throw t}))};var V=S.Deferred();function W(){b.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),S.ready()}S.fn.ready=function(t){return V.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||V.resolveWith(b,[S]))}}),S.ready.then=V.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(S.ready):(b.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var U=function(t,e,r,n,i,o,a){var s=0,l=t.length,c=null==r;if("object"===k(r))for(s in i=!0,r)U(t,e,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,v(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,r){return c.call(S(t),r)})),e))for(;s<l;s++)e(t[s],r,a?n:n.call(t[s],s,e(t[s],r)));return i?t:c?e.call(t):l?e(t[0],r):o},q=/^-ms-/,X=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function K(t){return t.replace(q,"ms-").replace(X,Y)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=S.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[K(e)]=r;else for(n in e)i[K(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e){r=(e=Array.isArray(e)?e.map(K):(e=K(e))in n?[e]:e.match(B)||[]).length;for(;r--;)delete n[e[r]]}(void 0===e||S.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var Q=new Z,J=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function rt(t,e,r){var n;if(void 0===r&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(n))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(r)}catch(t){}J.set(t,e,r)}else r=void 0;return r}S.extend({hasData:function(t){return J.hasData(t)||Q.hasData(t)},data:function(t,e,r){return J.access(t,e,r)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,r){return Q.access(t,e,r)},_removeData:function(t,e){Q.remove(t,e)}}),S.fn.extend({data:function(t,e){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=K(n.slice(5)),rt(o,n,i[n]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){J.set(this,t)})):U(this,(function(e){var r;if(o&&void 0===e)return void 0!==(r=J.get(o,t))||void 0!==(r=rt(o,t))?r:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),S.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=Q.get(t,e),r&&(!n||Array.isArray(r)?n=Q.access(t,e,S.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){e=e||"fx";var r=S.queue(t,e),n=r.length,i=r.shift(),o=S._queueHooks(t,e);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete o.stop,i.call(t,(function(){S.dequeue(t,e)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return Q.get(t,r)||Q.access(t,r,{empty:S.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",r])}))})}}),S.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?S.queue(this[0],t):void 0===e?this:this.each((function(){var r=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=S.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(r=Q.get(o[a],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=b.documentElement,st=function(t){return S.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(st=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===S.css(t,"display")};function dt(t,e,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return S.css(t,e,"")},l=s(),c=r&&r[3]||(S.cssNumber[e]?"":"px"),d=t.nodeType&&(S.cssNumber[e]||"px"!==c&&+l)&&it.exec(S.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;a--;)S.style(t,e,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),d/=o;d*=2,S.style(t,e,d+c),r=r||[]}return r&&(d=+d||+l||0,i=r[1]?d+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=d,n.end=i)),i}var ut={};function pt(t){var e,r=t.ownerDocument,n=t.nodeName,i=ut[n];return i||(e=r.body.appendChild(r.createElement(n)),i=S.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ut[n]=i,i)}function ht(t,e){for(var r,n,i=[],o=0,a=t.length;o<a;o++)(n=t[o]).style&&(r=n.style.display,e?("none"===r&&(i[o]=Q.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&ct(n)&&(i[o]=pt(n))):"none"!==r&&(i[o]="none",Q.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}S.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?S(this).show():S(this).hide()}))}});var ft,gt,mt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;ft=b.createDocumentFragment().appendChild(b.createElement("div")),(gt=b.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ft.appendChild(gt),m.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",m.option=!!ft.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?S.merge([t],r):r}function wt(t,e){for(var r=0,n=t.length;r<n;r++)Q.set(t[r],"globalEval",!e||Q.get(e[r],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,m.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var kt=/<|&#?\w+;/;function Ct(t,e,r,n,i){for(var o,a,s,l,c,d,u=e.createDocumentFragment(),p=[],h=0,f=t.length;h<f;h++)if((o=t[h])||0===o)if("object"===k(o))S.merge(p,o.nodeType?[o]:o);else if(kt.test(o)){for(a=a||u.appendChild(e.createElement("div")),s=(vt.exec(o)||["",""])[1].toLowerCase(),l=bt[s]||bt._default,a.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;S.merge(p,a.childNodes),(a=u.firstChild).textContent=""}else p.push(e.createTextNode(o));for(u.textContent="",h=0;o=p[h++];)if(n&&S.inArray(o,n)>-1)i&&i.push(o);else if(c=st(o),a=xt(u.appendChild(o),"script"),c&&wt(a),r)for(d=0;o=a[d++];)yt.test(o.type||"")&&r.push(o);return u}var St=/^([^.]*)(?:\.(.+)|)/;function _t(){return!0}function Tt(){return!1}function Et(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Pt(t,e,r,n,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof r&&(n=n||r,r=void 0),e)Pt(t,s,r,n,e[s],o);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=Tt;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return S().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),t.each((function(){S.event.add(this,e,i,n,r)}))}function Mt(t,e,r){r?(Q.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var n,i,o=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),Q.set(this,e,o),n=r(this,e),this[e](),o!==(i=Q.get(this,e))||n?Q.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else o.length&&(Q.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&S.event.add(t,e,_t)}S.event={global:{},add:function(t,e,r,n,i){var o,a,s,l,c,d,u,p,h,f,g,m=Q.get(t);if($(t))for(r.handler&&(r=(o=r).handler,i=o.selector),i&&S.find.matchesSelector(at,i),r.guid||(r.guid=S.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(B)||[""]).length;c--;)h=g=(s=St.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(u=S.event.special[h]||{},h=(i?u.delegateType:u.bindType)||h,u=S.event.special[h]||{},d=S.extend({type:h,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[h])||((p=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(h,a)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),S.event.global[h]=!0)},remove:function(t,e,r,n,i){var o,a,s,l,c,d,u,p,h,f,g,m=Q.hasData(t)&&Q.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(B)||[""]).length;c--;)if(h=g=(s=St.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=S.event.special[h]||{},p=l[h=(n?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)d=p[o],!i&&g!==d.origType||r&&r.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(p.splice(o,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(t,d));a&&!p.length&&(u.teardown&&!1!==u.teardown.call(t,f,m.handle)||S.removeEvent(t,h,m.handle),delete l[h])}else for(h in l)S.event.remove(t,h+e[c],r,n,!0);S.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,o,a,s=new Array(arguments.length),l=S.event.fix(t),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],d=S.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(a=S.event.handlers.call(this,l,c),e=0;(i=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(n=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(t,e){var r,n,i,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},r=0;r<l;r++)void 0===a[i=(n=e[r]).selector+" "]&&(a[i]=n.needsContext?S(i,this).index(c)>-1:S.find(i,this,null,[c]).length),a[i]&&o.push(n);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&D(e,"input")&&Mt(e,"click",_t),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&D(e,"input")&&Mt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&D(e,"input")&&Q.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?_t:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_t,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_t,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_t,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return Mt(this,t,Et),!1},trigger:function(){return Mt(this,t),!0},_default:function(){return!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||S.contains(n,i))||(t.type=o.origType,r=o.handler.apply(this,arguments),t.type=e),r}}})),S.fn.extend({on:function(t,e,r,n){return Pt(this,t,e,r,n)},one:function(t,e,r,n){return Pt(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,S(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=Tt),this.each((function(){S.event.remove(this,t,r,e)}))}});var Dt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function zt(t,e){var r,n,i,o,a,s;if(1===e.nodeType){if(Q.hasData(t)&&(s=Q.get(t).events))for(i in Q.remove(e,"handle events"),s)for(r=0,n=s[i].length;r<n;r++)S.event.add(e,i,s[i][r]);J.hasData(t)&&(o=J.access(t),a=S.extend({},o),J.set(e,a))}}function It(t,e){var r=e.nodeName.toLowerCase();"input"===r&&mt.test(t.type)?e.checked=t.checked:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}function Bt(t,e,r,n){e=l(e);var i,o,a,s,c,d,u=0,p=t.length,h=p-1,f=e[0],g=v(f);if(g||p>1&&"string"==typeof f&&!m.checkClone&&At.test(f))return t.each((function(i){var o=t.eq(i);g&&(e[0]=f.call(this,i,o.html())),Bt(o,e,r,n)}));if(p&&(o=(i=Ct(e,t[0].ownerDocument,!1,t,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=(a=S.map(xt(i,"script"),Ot)).length;u<p;u++)c=i,u!==h&&(c=S.clone(c,!0,!0),s&&S.merge(a,xt(c,"script"))),r.call(t[u],c,u);if(s)for(d=a[a.length-1].ownerDocument,S.map(a,Ft),u=0;u<s;u++)c=a[u],yt.test(c.type||"")&&!Q.access(c,"globalEval")&&S.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?S._evalUrl&&!c.noModule&&S._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):w(c.textContent.replace(Lt,""),c,d))}return t}function Rt(t,e,r){for(var n,i=e?S.filter(e,t):t,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||S.cleanData(xt(n)),n.parentNode&&(r&&st(n)&&wt(xt(n,"script")),n.parentNode.removeChild(n));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var n,i,o,a,s=t.cloneNode(!0),l=st(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(a=xt(s),n=0,i=(o=xt(t)).length;n<i;n++)It(o[n],a[n]);if(e)if(r)for(o=o||xt(t),a=a||xt(s),n=0,i=o.length;n<i;n++)zt(o[n],a[n]);else zt(t,s);return(a=xt(s,"script")).length>0&&wt(a,!l&&xt(t,"script")),s},cleanData:function(t){for(var e,r,n,i=S.event.special,o=0;void 0!==(r=t[o]);o++)if($(r)){if(e=r[Q.expando]){if(e.events)for(n in e.events)i[n]?S.event.remove(r,n):S.removeEvent(r,n,e.handle);r[Q.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return U(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!bt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;r<n;r++)1===(e=this[r]||{}).nodeType&&(S.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var r=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(xt(this)),r&&r.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var r,n=[],i=S(t),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),S(i[a])[e](r),c.apply(n,r.get());return this.pushStack(n)}}));var jt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Gt=function(t,e,r){var n,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in n=r.call(t),e)t.style[i]=o[i];return n},Vt=new RegExp(ot.join("|"),"i");function Wt(t,e,r){var n,i,o,a,s=t.style;return(r=r||Ht(t))&&(""!==(a=r.getPropertyValue(e)||r[e])||st(t)||(a=S.style(t,e)),!m.pixelBoxStyles()&&jt.test(a)&&Vt.test(e)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(d);var t=n.getComputedStyle(d);r="1%"!==t.top,l=12===e(t.marginLeft),d.style.right="60%",a=36===e(t.right),i=36===e(t.width),d.style.position="absolute",o=12===e(d.offsetWidth/3),at.removeChild(c),d=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,a,s,l,c=b.createElement("div"),d=b.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===d.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,r,i;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),r=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",r.style.height="9px",r.style.display="block",at.appendChild(t).appendChild(e).appendChild(r),i=n.getComputedStyle(e),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var qt=["Webkit","Moz","ms"],Xt=b.createElement("div").style,Yt={};function Kt(t){return S.cssProps[t]||Yt[t]||(t in Xt?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),r=qt.length;r--;)if((t=qt[r]+e)in Xt)return t}(t)||t)}var $t=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function te(t,e,r){var n=it.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function ee(t,e,r,n,i,o){var a="width"===e?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(l+=S.css(t,r+ot[a],!0,i)),n?("content"===r&&(l-=S.css(t,"padding"+ot[a],!0,i)),"margin"!==r&&(l-=S.css(t,"border"+ot[a]+"Width",!0,i))):(l+=S.css(t,"padding"+ot[a],!0,i),"padding"!==r?l+=S.css(t,"border"+ot[a]+"Width",!0,i):s+=S.css(t,"border"+ot[a]+"Width",!0,i));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function re(t,e,r){var n=Ht(t),i=(!m.boxSizingReliable()||r)&&"border-box"===S.css(t,"boxSizing",!1,n),o=i,a=Wt(t,e,n),s="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(a)){if(!r)return a;a="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&D(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(t,"display",!1,n))&&t.getClientRects().length&&(i="border-box"===S.css(t,"boxSizing",!1,n),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ee(t,e,r||(i?"border":"content"),o,n,a)+"px"}function ne(t,e,r,n,i){return new ne.prototype.init(t,e,r,n,i)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=Wt(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=K(e),l=Zt.test(e),c=t.style;if(l||(e=Kt(s)),a=S.cssHooks[e]||S.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(t,!1,n))?i:c[e];"string"==(o=typeof r)&&(i=it.exec(r))&&i[1]&&(r=dt(t,e,i),o="number"),null!=r&&r==r&&("number"!==o||l||(r+=i&&i[3]||(S.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==r||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(r=a.set(t,r,n))||(l?c.setProperty(e,r):c[e]=r))}},css:function(t,e,r,n){var i,o,a,s=K(e);return Zt.test(e)||(e=Kt(s)),(a=S.cssHooks[e]||S.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,r)),void 0===i&&(i=Wt(t,e,n)),"normal"===i&&e in Jt&&(i=Jt[e]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,r,n){if(r)return!$t.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,n):Gt(t,Qt,(function(){return re(t,e,n)}))},set:function(t,r,n){var i,o=Ht(t),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===S.css(t,"boxSizing",!1,o),l=n?ee(t,e,n,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ee(t,e,"border",!1,o)-.5)),l&&(i=it.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=S.css(t,e)),te(0,r,l)}}})),S.cssHooks.marginLeft=Ut(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+ot[n]+e]=o[n]||o[n-2]||o[0];return i}},"margin"!==t&&(S.cssHooks[t+e].set=te)})),S.fn.extend({css:function(t,e){return U(this,(function(t,e,r){var n,i,o={},a=0;if(Array.isArray(e)){for(n=Ht(t),i=e.length;a<i;a++)o[e[a]]=S.css(t,e[a],!1,n);return o}return void 0!==r?S.style(t,e,r):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,r,n,i,o){this.elem=t,this.prop=r,this.easing=i||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(S.cssNumber[r]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,r=ne.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ne.prototype.init,S.fx.step={};var ie,oe,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function le(){oe&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(le):n.setTimeout(le,S.fx.interval),S.fx.tick())}function ce(){return n.setTimeout((function(){ie=void 0})),ie=Date.now()}function de(t,e){var r,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)i["margin"+(r=ot[n])]=i["padding"+r]=t;return e&&(i.opacity=i.width=t),i}function ue(t,e,r){for(var n,i=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,e,t))return n}function pe(t,e,r){var n,i,o=0,a=pe.prefilters.length,s=S.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var e=ie||ce(),r=Math.max(0,c.startTime+c.duration-e),n=1-(r/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return s.notifyWith(t,[c,n,r]),n<1&&a?r:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},r),originalProperties:e,originalOptions:r,startTime:ie||ce(),duration:r.duration,tweens:[],createTween:function(e,r){var n=S.Tween(t,c.opts,e,r,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var r=0,n=e?c.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)c.tweens[r].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),d=c.props;for(function(t,e){var r,n,i,o,a;for(r in t)if(i=e[n=K(r)],o=t[r],Array.isArray(o)&&(i=o[1],o=t[r]=o[0]),r!==n&&(t[n]=o,delete t[r]),(a=S.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete t[n],o)r in t||(t[r]=o[r],e[r]=i);else e[n]=i}(d,c.opts.specialEasing);o<a;o++)if(n=pe.prefilters[o].call(c,t,d,c.opts))return v(n.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return S.map(d,ue,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(pe,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return dt(r.elem,t,it.exec(e),r),r}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(B);for(var r,n=0,i=t.length;n<i;n++)r=t[n],pe.tweeners[r]=pe.tweeners[r]||[],pe.tweeners[r].unshift(e)},prefilters:[function(t,e,r){var n,i,o,a,s,l,c,d,u="width"in e||"height"in e,p=this,h={},f=t.style,g=t.nodeType&&ct(t),m=Q.get(t,"fxshow");for(n in r.queue||(null==(a=S._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,S.queue(t,"fx").length||a.empty.fire()}))}))),e)if(i=e[n],ae.test(i)){if(delete e[n],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;g=!0}h[n]=m&&m[n]||S.style(t,n)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(h))for(n in u&&1===t.nodeType&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=Q.get(t,"display")),"none"===(d=S.css(t,"display"))&&(c?d=c:(ht([t],!0),c=t.style.display||c,d=S.css(t,"display"),ht([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===S.css(t,"float")&&(l||(p.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),r.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]}))),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=Q.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&ht([t],!0),p.done((function(){for(n in g||ht([t]),Q.remove(t,"fxshow"),h)S.style(t,n,h[n])}))),l=ue(g?m[n]:0,n,p),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),S.speed=function(t,e,r){var n=t&&"object"==typeof t?S.extend({},t):{complete:r||!r&&e||v(t)&&t,duration:t,easing:r&&e||e&&!v(e)&&e};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(t,e,r,n){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var i=S.isEmptyObject(t),o=S.speed(e,r,n),a=function(){var e=pe(this,S.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=S.timers,a=Q.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&se.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(r),e=!1,o.splice(i,1));!e&&r||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,r=Q.get(this),n=r[t+"queue"],i=r[t+"queueHooks"],o=S.timers,a=n?n.length:0;for(r.finish=!0,S.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var r=S.fn[e];S.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(de(e,!0),t,n,i)}})),S.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}})),S.timers=[],S.fx.tick=function(){var t,e=0,r=S.timers;for(ie=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||S.fx.stop(),ie=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){oe||(oe=!0,le())},S.fx.stop=function(){oe=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var he,fe=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return U(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,r):(1===o&&S.isXMLDoc(t)||(i=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?he:void 0)),void 0!==r?null===r?void S.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r):i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=S.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&D(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(B);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),he={set:function(t,e,r){return!1===e?S.removeAttr(t,r):t.setAttribute(r,r),r}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var r=fe[e]||S.find.attr;fe[e]=function(t,e,n){var i,o,a=e.toLowerCase();return n||(o=fe[a],fe[a]=i,i=null!=r(t,e,n)?a:null,fe[a]=o),i}}));var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ve(t){return(t.match(B)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(B)||[]}S.fn.extend({prop:function(t,e){return U(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,i=S.propHooks[e]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,r,n,i,o,a,s,l=0;if(v(t))return this.each((function(e){S(this).addClass(t.call(this,e,ye(this)))}));if((e=be(t)).length)for(;r=this[l++];)if(i=ye(r),n=1===r.nodeType&&" "+ve(i)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(s=ve(n))&&r.setAttribute("class",s)}return this},removeClass:function(t){var e,r,n,i,o,a,s,l=0;if(v(t))return this.each((function(e){S(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;r=this[l++];)if(i=ye(r),n=1===r.nodeType&&" "+ve(i)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(s=ve(n))&&r.setAttribute("class",s)}return this},toggleClass:function(t,e){var r=typeof t,n="string"===r||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(r){S(this).toggleClass(t.call(this,r,ye(this),e),e)})):this.each((function(){var e,i,o,a;if(n)for(i=0,o=S(this),a=be(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==r||((e=ye(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+ve(ye(r))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;S.fn.extend({val:function(t){var e,r,n,i=this[0];return arguments.length?(n=v(t),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?t.call(this,r,S(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(xe,""):null==r?"":r:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ve(S.text(t))}},select:{get:function(t){var e,r,n,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:i.length;for(n=o<0?l:a?o:0;n<l;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!D(r.parentNode,"optgroup"))){if(e=S(r).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var r,n,i=t.options,o=S.makeArray(e),a=i.length;a--;)((n=i[a]).selected=S.inArray(S.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},m.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var we=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,r,i){var o,a,s,l,c,d,u,p,f=[r||b],g=h.call(t,"type")?t.type:t,m=h.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!we.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:S.makeArray(e,[t]),u=S.event.special[g]||{},i||!u.trigger||!1!==u.trigger.apply(r,e))){if(!i&&!u.noBubble&&!y(r)){for(l=u.delegateType||g,we.test(l+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||b)&&f.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?l:u.bindType||g,(d=(Q.get(a,"events")||Object.create(null))[t.type]&&Q.get(a,"handle"))&&d.apply(a,e),(d=c&&a[c])&&d.apply&&$(a)&&(t.result=d.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!$(r)||c&&v(r[g])&&!y(r)&&((s=r[c])&&(r[c]=null),S.event.triggered=g,t.isPropagationStopped()&&p.addEventListener(g,ke),r[g](),t.isPropagationStopped()&&p.removeEventListener(g,ke),S.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(t,e,r){var n=S.extend(new S.Event,r,{type:t,isSimulated:!0});S.event.trigger(n,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var r=this[0];if(r)return S.event.trigger(t,e,r,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var r=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,i=Q.access(n,e);i||n.addEventListener(t,r,!0),Q.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=Q.access(n,e)-1;i?Q.access(n,e,i):(n.removeEventListener(t,r,!0),Q.remove(n,e))}}}));var Ce=n.location,Se={guid:Date.now()},_e=/\?/;S.parseXML=function(t){var e,r;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}return r=e&&e.getElementsByTagName("parsererror")[0],e&&!r||S.error("Invalid XML: "+(r?S.map(r.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Te=/\[\]$/,Ee=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function De(t,e,r,n){var i;if(Array.isArray(e))S.each(e,(function(e,i){r||Te.test(t)?n(t,i):De(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,r,n)}));else if(r||"object"!==k(e))n(t,e);else for(i in e)De(t+"["+i+"]",e[i],r,n)}S.param=function(t,e){var r,n=[],i=function(t,e){var r=v(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){i(this.name,this.value)}));else for(r in t)De(r,t[r],e,i);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Me.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var r=S(this).val();return null==r?null:Array.isArray(r)?S.map(r,(function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}})):{name:e.name,value:r.replace(Ee,"\r\n")}})).get()}});var Ae=/%20/g,Le=/#.*$/,Ne=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,ze=/^\/\//,Ie={},Be={},Re="*/".concat("*"),je=b.createElement("a");function He(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,i=0,o=e.toLowerCase().match(B)||[];if(v(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function Ge(t,e,r,n){var i={},o=t===Be;function a(s){var l;return i[s]=!0,S.each(t[s]||[],(function(t,s){var c=s(e,r,n);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Ve(t,e){var r,n,i=S.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&S.extend(!0,t,n),t}je.href=Ce.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,S.ajaxSettings),e):Ve(S.ajaxSettings,t)},ajaxPrefilter:He(Ie),ajaxTransport:He(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,l,c,d,u,p,h=S.ajaxSetup({},e),f=h.context||h,g=h.context&&(f.nodeType||f.jquery)?S(f):S.event,m=S.Deferred(),v=S.Callbacks("once memory"),y=h.statusCode||{},x={},w={},k="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Oe.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),_(0,e),this}};if(m.promise(C),h.url=((t||h.url||Ce.href)+"").replace(ze,Ce.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){l=b.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=je.protocol+"//"+je.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),Ge(Ie,h,e,C),c)return C;for(u in(d=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Fe.test(h.type),i=h.url.replace(Le,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ae,"+")):(p=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(_e.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(Ne,"$1"),p=(_e.test(i)?"&":"?")+"_="+Se.guid+++p),h.url=i+p),h.ifModified&&(S.lastModified[i]&&C.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&C.setRequestHeader("If-None-Match",S.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Re+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(f,C,h)||c))return C.abort();if(k="abort",v.add(h.complete),C.done(h.success),C.fail(h.error),r=Ge(Be,h,e,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(s=n.setTimeout((function(){C.abort("timeout")}),h.timeout));try{c=!1,r.send(x,_)}catch(t){if(c)throw t;_(-1,t)}}else _(-1,"No Transport");function _(t,e,a,l){var u,p,b,x,w,k=e;c||(c=!0,s&&n.clearTimeout(s),r=void 0,o=l||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(x=function(t,e,r){for(var n,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in r)o=l[0];else{for(i in r){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),r[o]}(h,C,a)),!u&&S.inArray("script",h.dataTypes)>-1&&S.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),x=function(t,e,r,n){var i,o,a,s,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=d.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(h,x,C,u),u?(h.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=w),(w=C.getResponseHeader("etag"))&&(S.etag[i]=w)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=x.state,p=x.data,u=!(b=x.error))):(b=k,!t&&k||(k="error",t<0&&(t=0))),C.status=t,C.statusText=(e||k)+"",u?m.resolveWith(f,[p,k,C]):m.rejectWith(f,[C,k,b]),C.statusCode(y),y=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,h,u?p:b]),v.fireWith(f,[C,k]),d&&(g.trigger("ajaxComplete",[C,h]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,r){return S.get(t,e,r,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,r,n,i){return v(r)&&(i=i||n,n=r,r=void 0),S.ajax(S.extend({url:t,type:e,dataType:i,data:r,success:n},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,r){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,r)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(r){S(this).wrapAll(e?t.call(this,r):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Ue=S.ajaxSettings.xhr();m.cors=!!Ue&&"withCredentials"in Ue,m.ajax=Ue=!!Ue,S.ajaxTransport((function(t){var e,r;if(m.cors||Ue&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){e&&r()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,r;if(t.crossDomain||t.scriptAttrs)return{send:function(n,i){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&i("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){r&&r()}}}));var qe,Xe=[],Ye=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||S.expando+"_"+Se.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ye,"$1"+i):!1!==t.jsonp&&(t.url+=(_e.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||S.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always((function(){void 0===o?S(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(i)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=((qe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),S.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(m.createHTMLDocument?((n=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(n)):e=b),o=!r&&[],(i=A.exec(t))?[e.createElement(i[1])]:(i=Ct([t],e,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var n,i,o},S.fn.load=function(t,e,r){var n,i,o,a=this,s=t.indexOf(" ");return s>-1&&(n=ve(t.slice(s)),t=t.slice(0,s)),v(e)?(r=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&S.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(n?S("<div>").append(S.parseHTML(t)).find(n):t)})).always(r&&function(t,e){a.each((function(){r.apply(this,o||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,r){var n,i,o,a,s,l,c=S.css(t,"position"),d=S(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=S.css(t,"top"),l=S.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(n=d.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),v(e)&&(e=e.call(t,r,S.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+i),"using"in e?e.using.call(t,u):d.css(u)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,r,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,n=this[0],i={top:0,left:0};if("fixed"===S.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((i=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),i.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-S.css(n,"marginTop",!0),left:e.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||at}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var r="pageYOffset"===e;S.fn[t]=function(n){return U(this,(function(t,n,i){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):t[n]=i}),t,n,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Ut(m.pixelPosition,(function(t,r){if(r)return r=Wt(t,e),jt.test(r)?S(t).position()[e]+"px":r}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(r,n){S.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return U(this,(function(e,r,i){var o;return y(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?S.css(e,r,s):S.style(e,r,i,s)}),e,a?i:void 0,a)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),v(t))return n=s.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=D,S.isFunction=v,S.isWindow=y,S.camelCase=K,S.type=k,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},void 0===(r=function(){return S}.apply(e,[]))||(t.exports=r);var $e=n.jQuery,Ze=n.$;return S.noConflict=function(t){return n.$===S&&(n.$=Ze),t&&n.jQuery===S&&(n.jQuery=$e),S},void 0===i&&(n.jQuery=n.$=S),S}))},6745:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;var n=r(4417),i=n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,r){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(r)}return t.prototype.setLayers=function(t){var e;return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,r=this.layers,n=r.length;for(e=0;e<n;e++)if(r[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,r=t.animations,n=r.length;for(e=0;e<n;e++)if(r[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,r=t.id,n=this.animations,i=n.length;for(e=0;e<i;e++)if(n[e].id===r){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,r,n,o,a,s,l,c={},d=this.animations;for(n=0;n<d.length;n++)if(e=(t=d[n]).layers,r=t.func,t._updateFrameObject(i()),a=e.length,!r||!1!==r.call(t,t.frame))for(o=0;o<a;o++)void 0!==(s=e[o])._id&&(c[s._id]=s);for(l in c)c.hasOwnProperty(l)&&c[l].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},4842:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.HitCanvas=e.SceneCanvas=e.Canvas=void 0;var o,a=r(8588),s=r(3442),l=r(4417),c=r(1455),d=r(3774),u=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||l.Konva.pixelRatio||function(){if(o)return o;var t=a.Util.createCanvasElement().getContext("2d");return o=(l.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return a.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();e.Canvas=u,c.Factory.addGetterSetter(u,"pixelRatio",void 0,d.getNumberValidator());var p=function(t){function e(e){void 0===e&&(e={width:0,height:0});var r=t.call(this,e)||this;return r.context=new s.SceneContext(r),r.setSize(e.width,e.height),r}return i(e,t),e}(u);e.SceneCanvas=p;var h=function(t){function e(e){void 0===e&&(e={width:0,height:0});var r=t.call(this,e)||this;return r.hitCanvas=!0,r.context=new s.HitContext(r),r.setSize(e.width,e.height),r}return i(e,t),e}(u);e.HitCanvas=h},8783:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var o=r(8588),a=r(1455),s=r(7939),l=r(3774),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new o.Collection,e}return i(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new o.Collection;return this.children.each((function(r){t(r)&&e.push(r)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new o.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new o.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var n=t[0];if(n.getParent())return n.moveTo(this),this;var i=this.children;return this._validateAdd(n),n._clearCaches(),n.index=i.length,n.parent=this,i.push(n),this._fire("add",{child:n}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return o.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var r=[];return this._descendants((function(n){var i=n._isMatch(t);return i&&r.push(n),!(!i||!e)})),o.Collection.toCollection(r)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var r=this.children[e];if(t(r))return!0;if(r.hasChildren()&&r._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=s.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),r=e.length,n=0;n<r;n++){var i=e[n];t.children.push(i.toObject())}return t},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=s.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(r){r.isVisible()&&r.intersects(t)&&e.push(r)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e){var r=this.getLayer(),n=t||r&&r.getCanvas(),i=n&&n.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=n&&n.isCache;if(!this.isVisible()&&!s)return this;if(a){i.save();var l=this.getAbsoluteTransform(e).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",n,e);return this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var r=this.getLayer(),n=t||r&&r.hitCanvas,i=n&&n.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(e).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",n,e);return this},e.prototype._drawChildren=function(t,e,r){var n=e&&e.getContext(),i=this.clipWidth(),o=this.clipHeight(),a=this.clipFunc(),s=i&&o||a,l=r===this;if(s){n.save();var c=this.getAbsoluteTransform(r),d=c.getMatrix();if(n.transform(d[0],d[1],d[2],d[3],d[4],d[5]),n.beginPath(),a)a.call(this,n,this);else{var u=this.clipX(),p=this.clipY();n.rect(u,p,i,o)}n.clip(),d=c.copy().invert().getMatrix(),n.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var h=!l&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;h&&(n.save(),n._applyGlobalCompositeOperation(this)),this.children.each((function(n){n[t](e,r)})),h&&n.restore(),s&&n.restore()},e.prototype.getClientRect=function(t){var e,r,n,i,o,a=(t=t||{}).skipTransform,s=t.relativeTo,l=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,r=a.y,n=a.x+a.width,i=a.y+a.height):(e=Math.min(e,a.x),r=Math.min(r,a.y),n=Math.max(n,a.x+a.width),i=Math.max(i,a.y+a.height)))}}));for(var c=this.find("Shape"),d=!1,u=0;u<c.length;u++)if(c[u]._isVisible(this)){d=!0;break}return o=d&&void 0!==e?{x:e,y:r,width:n-e,height:i-r}:{x:0,y:0,width:0,height:0},a?o:this._transformedRect(o,s)},e}(s.Node);e.Container=c,a.Factory.addComponentsGetterSetter(c,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(c,"clipX",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipY",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipWidth",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipHeight",void 0,l.getNumberValidator()),a.Factory.addGetterSetter(c,"clipFunc"),o.Collection.mapMethods(c)},3442:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.HitContext=e.SceneContext=e.Context=void 0;var o=r(8588),a=r(4417),s=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],l=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))},t.prototype.getTrace=function(t){var e,r,n,i,a=this.traceArr,s=a.length,l="";for(e=0;e<s;e++)(n=(r=a[e]).method)?(i=r.args,l+=n,t?l+="()":o.Util._isArray(i[0])?l+="(["+i.join(",")+"])":l+="("+i.join(",")+")"):(l+=r.property,t||(l+="="+r.val)),l+=";";return l},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,r,n,i,o){this._context.arc(t,e,r,n,i,o)},t.prototype.arcTo=function(t,e,r,n,i){this._context.arcTo(t,e,r,n,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,r,n,i,o){this._context.bezierCurveTo(t,e,r,n,i,o)},t.prototype.clearRect=function(t,e,r,n){this._context.clearRect(t,e,r,n)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var r=arguments;return 2===r.length?this._context.createImageData(t,e):1===r.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,r,n){return this._context.createLinearGradient(t,e,r,n)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,r,n,i,o){return this._context.createRadialGradient(t,e,r,n,i,o)},t.prototype.drawImage=function(t,e,r,n,i,o,a,s,l){var c=arguments,d=this._context;3===c.length?d.drawImage(t,e,r):5===c.length?d.drawImage(t,e,r,n,i):9===c.length&&d.drawImage(t,e,r,n,i,o,a,s,l)},t.prototype.ellipse=function(t,e,r,n,i,o,a,s){this._context.ellipse(t,e,r,n,i,o,a,s)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,r,n){this._context.fillRect(t,e,r,n)},t.prototype.strokeRect=function(t,e,r,n){this._context.strokeRect(t,e,r,n)},t.prototype.fillText=function(t,e,r){this._context.fillText(t,e,r)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,r,n){return this._context.getImageData(t,e,r,n)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,r,n){this._context.rect(t,e,r,n)},t.prototype.putImageData=function(t,e,r){this._context.putImageData(t,e,r)},t.prototype.quadraticCurveTo=function(t,e,r,n){this._context.quadraticCurveTo(t,e,r,n)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,r,n,i,o){this._context.setTransform(t,e,r,n,i,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,r,n){this._context.strokeText(t,e,r,n)},t.prototype.transform=function(t,e,r,n,i,o){this._context.transform(t,e,r,n,i,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,r=this,n=s.length,i=o.Util._simplifyArray,a=this.setAttr,l=function(t){var n,o=r[t];r[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),n=o.apply(r,arguments),r._trace({method:t,args:e}),n}};for(t=0;t<n;t++)l(s[t]);r.setAttr=function(){a.apply(r,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),r._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=l,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(l.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),r=t.getFillPatternY(),n=a.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY();t.getFillPatternScaleX(),t.getFillPatternScaleY(),(e||r)&&this.translate(e||0,r||0),n&&this.rotate(n),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),r=t.getFillPriority();if(e&&"color"===r)this._fillColor(t);else{var n=t.getFillPatternImage();if(n&&"pattern"===r)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===r)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):i?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),n=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,r.x,r.y);if(n){for(var o=0;o<n.length;o+=2)i.addColorStop(n[o],n[o+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}},e.prototype._applyShadow=function(t){var e=o.Util,r=e.get(t.getShadowRGBA(),"black"),n=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),a=t.getAbsoluteScale(),s=this.canvas.getPixelRatio(),l=a.x*s,c=a.y*s;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",n*Math.min(Math.abs(l),Math.abs(c))),this.setAttr("shadowOffsetX",i.x*l),this.setAttr("shadowOffsetY",i.y*c)},e}(l);e.SceneContext=c;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),i="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(l);e.HitContext=d},210:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;var n=r(4417),i=r(8588);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){var r=[];e.DD._dragElements.forEach((function(e,n){var o=e.node,a=o.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=i.Util._getFirstPointerId(t));var s=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(s){if("dragging"!==e.dragStatus){var l=o.dragDistance();if(Math.max(Math.abs(s.x-e.startPointerPos.x),Math.abs(s.y-e.startPointerPos.y))<l)return;if(o.startDrag({evt:t}),!o.isDragging())return}o._setDragPosition(t,e),r.push(o)}})),r.forEach((function(e){e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(r,i){var o=r.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===r.pointerId}))){"dragging"!==r.dragStatus&&"stopped"!==r.dragStatus||(e.DD.justDragged=!0,n.Konva.listenClickTap=!1,r.dragStatus="stopped");var a=r.node.getLayer()||r.node instanceof n.Konva.Stage&&r.node;a&&a.batchDraw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(r,n){"stopped"===r.dragStatus&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:t},!0),"dragging"!==r.dragStatus&&e.DD._dragElements.delete(n)}))}},n.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},1455:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;var n=r(8588),i=r(3774),o="get",a="set";e.Factory={addGetterSetter:function(t,r,n,i,o){e.Factory.addGetter(t,r,n),e.Factory.addSetter(t,r,i,o),e.Factory.addOverloadedGetterSetter(t,r)},addGetter:function(t,e,r){var i=o+n.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?r:t}},addSetter:function(t,r,i,o){var s=a+n.Util._capitalize(r);t.prototype[s]||e.Factory.overWriteSetter(t,r,i,o)},overWriteSetter:function(t,e,r,i){var o=a+n.Util._capitalize(e);t.prototype[o]=function(t){return r&&null!=t&&(t=r.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,r,s,l,c){var d,u,p=s.length,h=n.Util._capitalize,f=o+h(r),g=a+h(r);t.prototype[f]=function(){var t={};for(d=0;d<p;d++)t[u=s[d]]=this.getAttr(r+h(u));return t};var m=i.getComponentValidator(s);t.prototype[g]=function(t){var e,n=this.attrs[r];for(e in l&&(t=l.call(this,t)),m&&m.call(this,t,r),t)t.hasOwnProperty(e)&&this._setAttr(r+h(e),t[e]);return this._fireChangeEvent(r,n,t),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(t,r)},addOverloadedGetterSetter:function(t,e){var r=n.Util._capitalize(e),i=a+r,s=o+r;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter:function(t,r,i,a){n.Util.error("Adding deprecated "+r);var s=o+n.Util._capitalize(r),l=r+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){n.Util.error(l);var t=this.attrs[r];return void 0===t?i:t},e.Factory.addSetter(t,r,a,(function(){n.Util.error(l)})),e.Factory.addOverloadedGetterSetter(t,r)},backCompat:function(t,e){n.Util.each(e,(function(e,r){var i=t.prototype[r],s=o+n.Util._capitalize(e),l=a+n.Util._capitalize(e);function c(){i.apply(this,arguments),n.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[e]=c,t.prototype[s]=c,t.prototype[l]=c}))},afterSetFilter:function(){this._filterUpToDate=!1}}},3980:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.FastLayer=void 0;var o=r(8588),a=r(4415),s=r(4417),l=function(t){function e(e){var r=t.call(this,e)||this;return r.listening(!1),o.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),r}return i(e,t),e}(a.Layer);e.FastLayer=l,l.prototype.nodeType="FastLayer",s._registerNode(l),o.Collection.mapMethods(l)},4417:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e._NODES_REGISTRY=e.Konva=e.glob=e._parseUA=void 0;var n=Math.PI/180,i=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)};e._parseUA=function(t){var e=t.toLowerCase(),r=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:r[1]||"",version:r[2]||"0",isIE:i(e),mobile:n,ieMobile:o}},e.glob=void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"7.2.5",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*n:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},8985:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var o=r(8588),a=r(8783),s=r(4417),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")},e}(a.Container);e.Group=l,l.prototype.nodeType="Group",s._registerNode(l),o.Collection.mapMethods(l)},4415:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;var o=r(8588),a=r(8783),s=r(7939),l=r(1455),c=r(4842),d=r(3774),u=r(7955),p=r(4417),h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],f=h.length,g=function(t){function e(e){var r=t.call(this,e)||this;return r.canvas=new c.SceneCanvas,r.hitCanvas=new c.HitCanvas({pixelRatio:1}),r._waitingForDraw=!1,r.on("visibleChange.konva",r._checkVisibility),r._checkVisibility(),r.on("imageSmoothingEnabledChange.konva",r._setSmoothEnabled),r._setSmoothEnabled(),r}return i(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var r=this.getStage();return r&&(r.content.removeChild(this.getCanvas()._canvas),e<r.children.length-1?r.content.insertBefore(this.getCanvas()._canvas,r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){s.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!s.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(s.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(s.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return s.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,r=t.height;return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),s.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype.getIntersection=function(t,e){if(!this.isListening()||!this.isVisible())return null;for(var r=1,n=!1;;){for(var i=0;i<f;i++){var o=h[i],a=this._getIntersection({x:t.x+o.x*r,y:t.y+o.y*r}),s=a.shape;if(s&&e)return s.findAncestor(e,!0);if(s)return s;if(n=!!a.antialiased,!a.antialiased)break}if(!n)return null;r+=1}},e.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,n=r[3];if(255===n){var i=o.Util._rgbToHex(r[0],r[1],r[2]),a=u.shapes["#"+i];return a?{shape:a}:{antialiased:!0}}return n>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var r=this.getLayer(),n=t||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),a.Container.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var r=this.getLayer(),n=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,n,e),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.setHitGraphEnabled=function(t){o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},e.prototype.getHitGraphEnabled=function(t){return o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e}(a.Container);e.Layer=g,g.prototype.nodeType="Layer",p._registerNode(g),l.Factory.addGetterSetter(g,"imageSmoothingEnabled",!0),l.Factory.addGetterSetter(g,"clearBeforeDraw",!0),l.Factory.addGetterSetter(g,"hitGraphEnabled",!0,d.getBooleanValidator()),o.Collection.mapMethods(g)},7939:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=e._removeName=e._addName=e._removeId=e.names=e.ids=void 0;var n=r(8588),i=r(1455),o=r(4842),a=r(4417),s=r(210),l=r(3774);e.ids={},e.names={},e._removeId=function(t,r){t&&e.ids[t]===r&&delete e.ids[t]},e._addName=function(t,r){r&&(e.names[r]||(e.names[r]=[]),e.names[r].push(t))},e._removeName=function(t,r){if(t){var n=e.names[t];if(n){for(var i=0;i<n.length;i++)n[i]._id===r&&n.splice(i,1);0===n.length&&delete e.names[t]}}};var c="absoluteOpacity",d="allEventListeners",u="absoluteTransform",p="absoluteScale",h="canvas",f="listening",g="mouseenter",m="mouseleave",v="Shape",y=" ",b="stage",x="transform",w="visible",k=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y),C=(["scaleXChange.konva","scaleYChange.konva"].join(y),new n.Collection),S=1,_=function(){function t(t){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=C,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return C},t.prototype._clearCache=function(t){t!==x&&t!==u||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},t.prototype._getCache=function(t,e){var r=this._cache.get(t);return(void 0===r||(t===x||t===u)&&!0===r.dirty)&&(r=e.call(this),this._cache.set(t,r)),r},t.prototype._calculate=function(t,e,r){var n=this;if(!this._attachedDepsListeners.get(t)){var i=e.map((function(t){return t+"Change.konva"})).join(y);this.on(i,(function(){n._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)},t.prototype._getCanvasCache=function(){return this._cache.get(h)},t.prototype._clearSelfAndDescendantCache=function(t,e){this._clearCache(t),e&&t===u&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t,!0)}))},t.prototype.clearCache=function(){return this._cache.delete(h),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},r={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||r.width),a=Math.ceil(e.height||r.height),s=e.pixelRatio,l=void 0===e.x?r.x:e.x,d=void 0===e.y?r.y:e.y,u=e.offset||0,f=e.drawBorder||!1;if(i&&a){i+=2*u,a+=2*u,l-=u,d-=u;var g=new o.SceneCanvas({pixelRatio:s,width:i,height:a}),m=new o.SceneCanvas({pixelRatio:s,width:0,height:0}),v=new o.HitCanvas({pixelRatio:1,width:i,height:a}),y=g.getContext(),b=v.getContext();return v.isCache=!0,g.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),y.save(),b.save(),y.translate(-l,-d),b.translate(-l,-d),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this.drawScene(g,this),this.drawHit(v,this),this._isUnderCache=!1,y.restore(),b.restore(),f&&(y.save(),y.beginPath(),y.rect(0,0,i,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(h,{scene:g,filter:m,hit:v,x:l,y:d}),this}n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var r,n,i,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=s.point(t);void 0===r&&(r=i=e.x,n=o=e.y),r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),{x:r,y:n,width:i-r,height:o-n}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var r=this._getCachedSceneCanvas(),n=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/n,r.height/n),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),r=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(r._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,r,i,o=this.filters(),a=this._getCanvasCache(),s=a.scene,l=a.filter,c=l.getContext();if(o){if(!this._filterUpToDate){var d=s.pixelRatio;l.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(t=o.length,c.clear(),c.drawImage(s._canvas,0,0,s.getWidth()/d,s.getHeight()/d),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),r=0;r<t;r++)"function"==typeof(i=o[r])?(i.call(this,e),c.putImageData(e,0,0)):n.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(t){n.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return s},t.prototype.on=function(t,e){if(this._cache&&this._cache.delete(d),3===arguments.length)return this._delegate.apply(this,arguments);var r,n,i,o,a=t.split(y),s=a.length;for(r=0;r<s;r++)i=(n=a[r].split("."))[0],o=n[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var r,n,i,o,a,s=(t||"").split(y),l=s.length;if(this._cache&&this._cache.delete(d),!t)for(n in this.eventListeners)this._off(n);for(r=0;r<l;r++)if(o=(i=s[r].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(n in this.eventListeners)this._off(n,a,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,r){var i=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,i),a=0;a<o.length;a++)(t=n.Util.cloneObject(t)).currentTarget=o[a],r.call(o[a],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(f)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),r=0;r<t.length;r++){var n=t[r];e._removeName(n,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+n.Util._capitalize(t);return n.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new n.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e=this;return this._batchTransformChanges((function(){var r,i;if(!t)return e;for(r in t)"children"!==r&&(i="set"+n.Util._capitalize(r),n.Util._isFunction(e[i])?e[i](t[r]):e._setAttr(r,t[r]))})),this},t.prototype.isListening=function(){return this._getCache(f,this._isListening)},t.prototype._isListening=function(t){if(!this.listening())return!1;var e=this.getParent();return!e||e===t||this===t||e._isListening(t)},t.prototype.isVisible=function(){return this._getCache(w,this._isVisible)},t.prototype._isVisible=function(t){if(!this.visible())return!1;var e=this.getParent();return!e||e===t||this===t||e._isVisible(t)},t.prototype.shouldDrawHit=function(t,e){if(void 0===e&&(e=!1),t)return this._isVisible(t)&&this._isListening(t);var r=this.getLayer(),n=!1;s.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===r)&&(n=!0)}));var i=!e&&!a.Konva.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!i},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,r,n,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(l){for(t=[],e=l.length,r=0;r<e;r++)n=l[r],a++,n.nodeType!==v&&(t=t.concat(n.getChildren().toArray())),n._id===o._id&&(r=e);t.length>0&&t[0].getDepth()<=i&&s(t)}(o.getStage().getChildren()),a},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(x),this._clearSelfAndDescendantCache(u,!0)),this._needClearTransformCache=!1},t.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges((function(){e.x(t.x),e.y(t.y)})),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,r=this.parent;r;){if(r.isCached()){e=!0;break}r=r.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),o=new n.Transform,a=this.offset();return o.m=i.slice(),o.translate(a.x,a.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(x);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(t.x,t.y),t={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(x),this._clearSelfAndDescendantCache(u),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e]},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},t.prototype.move=function(t){var e=t.x,r=t.y,n=this.x(),i=this.y();return void 0!==e&&(n+=e),void 0!==r&&(i+=r),this.setPosition({x:n,y:i}),this},t.prototype._eachAncestorReverse=function(t,e){var r,n,i=[],o=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(r=i.length,n=0;n<r;n++)t(i[n])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&n.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(c,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,r,i,o={},a=this.getAttrs();for(t in o.attrs={},a)e=a[t],n.Util.isObject(e)&&!n.Util._isPlainObject(e)&&!n.Util._isArray(e)||(r="function"==typeof this[t]&&this[t],delete a[t],i=r?r.call(this):null,a[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),n.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,r){var n=[];e&&this._isMatch(t)&&n.push(this);for(var i=this.parent;i;){if(i===r)return n;i._isMatch(t)&&n.push(i),i=i.parent}return n},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,r){return this.findAncestors(t,e,r)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,r,i=t.replace(/ /g,"").split(","),o=i.length;for(e=0;e<o;e++)if(r=i[e],n.Util.isValidSelector(r)||(n.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),"#"===r.charAt(0)){if(this.id()===r.slice(1))return!0}else if("."===r.charAt(0)){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(b,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,r){return void 0===e&&(e={}),e.target=e.target||this,r?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(u,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new n.Transform,this._eachAncestorReverse((function(t){var r=t.transformsEnabled();"all"===r?e.multiply(t.getTransform()):"position"===r&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(u)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var r=this.transformsEnabled();if("all"===r)e.multiply(this.getTransform());else if("position"===r){var i=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,s=this.attrs.offsetY||0;e.translate(i-a,o-s)}return e.dirty=!1,e},t.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var r=this.getAbsoluteTransform(t).decompose();return{x:r.scaleX,y:r.scaleY}},t.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},t.prototype.getTransform=function(){return this._getCache(x,this._getTransform)},t.prototype._getTransform=function(){var t,e,r=this._cache.get(x)||new n.Transform;r.reset();var i=this.x(),o=this.y(),s=a.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,c=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,d=this.attrs.skewX||0,u=this.attrs.skewY||0,p=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return 0===i&&0===o||r.translate(i,o),0!==s&&r.rotate(s),0===d&&0===u||r.skew(d,u),1===l&&1===c||r.scale(l,c),0===p&&0===h||r.translate(-1*p,-1*h),r.dirty=!1,r},t.prototype.clone=function(t){var e,r,i,o,a,s=n.Util.cloneObject(this.attrs);for(e in t)s[e]=t[e];var l=new this.constructor(s);for(e in this.eventListeners)for(i=(r=this.eventListeners[e]).length,o=0;o<i;o++)(a=r[o]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(a));return l},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),r=this.getStage(),n=void 0!==t.x?t.x:e.x,i=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,s=new o.SceneCanvas({width:t.width||e.width||(r?r.width():0),height:t.height||e.height||(r?r.height():0),pixelRatio:a}),l=s.getContext();return l.save(),(n||i)&&l.translate(-1*n,-1*i),this.drawScene(s),l.restore(),s},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,r=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(e,r);return t.callback&&t.callback(n),n},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,n.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance},t.prototype._off=function(t,e,r){var n,i,o,a=this.eventListeners[t];for(n=0;n<a.length;n++)if(i=a[n].name,o=a[n].handler,!("konva"===i&&"konva"!==e||e&&i!==e||r&&r!==o)){if(a.splice(n,1),0===a.length){delete this.eventListeners[t];break}n--}},t.prototype._fireChangeEvent=function(t,e,r){this._fire(t+"Change",{oldVal:e,newVal:r})},t.prototype.setId=function(t){var r=this.id();return e._removeId(r,this),function(t,r){r&&(e.ids[r]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var r,n,i=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(n=0;n<i.length;n++)r=i[n],-1===o.indexOf(r)&&r&&e._removeName(r,this._id);for(n=0;n<o.length;n++)r=o[n],-1===i.indexOf(r)&&r&&e._addName(this,r);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),r=e?e+" "+t:t;this.setName(r)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),r=e.indexOf(t);return-1!==r&&(e.splice(r,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var r=this["set"+n.Util._capitalize(t)];return n.Util._isFunction(r)?r.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e,r){void 0===r&&(r=!1);var i=this.attrs[t];(i!==e||n.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,r){var n;void 0!==r&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=r,this._fireChangeEvent(t,n,r))},t.prototype._fireAndBubble=function(t,e,r){if(e&&this.nodeType===v&&(e.target=this),t!==g&&t!==m||!(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||"Stage"===this.nodeType&&!r)){this._fire(t,e);var n=(t===g||t===m)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!n&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,e,r):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._getProtoListeners=function(t){var e=this._cache.get(d);if(!e){e={};for(var r=Object.getPrototypeOf(this);r;)if(r.eventListeners){for(var n in r.eventListeners){var i=r.eventListeners[n],o=e[n]||[];e[n]=i.concat(o)}r=Object.getPrototypeOf(r)}else r=Object.getPrototypeOf(r);this._cache.set(d,e)}return e[t]},t.prototype._fire=function(t,e){(e=e||{}).currentTarget=this,e.type=t;var r=this._getProtoListeners(t);if(r)for(var n=0;n<r.length;n++)r[n].handler.call(this,e);var i=this.eventListeners[t];if(i)for(n=0;n<i.length;n++)i[n].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,r=this.getStage(),n=this.getAbsolutePosition(),i=r._getPointerById(e)||r._changedPointerPositions[0]||n;s.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-n.x,y:i.y-n.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t,e){void 0===e&&(e=!0),s.DD._dragElements.has(this._id)||this._createDragElement(t),s.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)},t.prototype._setDragPosition=function(t,e){var r=this.getStage()._getPointerById(e.pointerId);if(r){var i={x:r.x-e.offset.x,y:r.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var a=o.call(this,i,t);a?i=a:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},t.prototype.stopDrag=function(t){var e=s.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),s.DD._endDragBefore(t),s.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=s.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((void 0===t.evt.button||a.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var r=!1;s.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(r=!0)})),r||this._createDragElement(t)}}))},t.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var t=s.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,r=t&&"ready"===t.dragStatus;e?this.stopDrag():r&&s.DD._dragElements.delete(this._id)}},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return n.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,r){var i,o,s,l=t.prototype.getClassName.call(e),c=e.children;if(r&&(e.attrs.container=r),a._NODES_REGISTRY[l]||(n.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),i=new(0,a._NODES_REGISTRY[l])(e.attrs),c)for(o=c.length,s=0;s<o;s++)i.add(t._createNode(c[s]));return i},t}();e.Node=_,_.prototype.nodeType="Node",_.prototype._attrsAffectingSize=[],_.prototype.eventListeners={},_.prototype.on.call(_.prototype,k,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(x),this._clearSelfAndDescendantCache(u))})),_.prototype.on.call(_.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(w)})),_.prototype.on.call(_.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(f)})),_.prototype.on.call(_.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));var T=i.Factory.addGetterSetter;T(_,"zIndex"),T(_,"absolutePosition"),T(_,"position"),T(_,"x",0,l.getNumberValidator()),T(_,"y",0,l.getNumberValidator()),T(_,"globalCompositeOperation","source-over",l.getStringValidator()),T(_,"opacity",1,l.getNumberValidator()),T(_,"name","",l.getStringValidator()),T(_,"id","",l.getStringValidator()),T(_,"rotation",0,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(_,"scale",["x","y"]),T(_,"scaleX",1,l.getNumberValidator()),T(_,"scaleY",1,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(_,"skew",["x","y"]),T(_,"skewX",0,l.getNumberValidator()),T(_,"skewY",0,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(_,"offset",["x","y"]),T(_,"offsetX",0,l.getNumberValidator()),T(_,"offsetY",0,l.getNumberValidator()),T(_,"dragDistance",null,l.getNumberValidator()),T(_,"width",0,l.getNumberValidator()),T(_,"height",0,l.getNumberValidator()),T(_,"listening",!0,l.getBooleanValidator()),T(_,"preventDefault",!0,l.getBooleanValidator()),T(_,"filters",null,(function(t){return this._filterUpToDate=!1,t})),T(_,"visible",!0,l.getBooleanValidator()),T(_,"transformsEnabled","all",l.getStringValidator()),T(_,"size"),T(_,"dragBoundFunc"),T(_,"draggable",!1,l.getBooleanValidator()),i.Factory.backCompat(_,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),n.Collection.mapMethods(_)},8479:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseCapture=e.setPointerCapture=e.hasPointerCapture=e.createEvent=e.getCapturedShape=void 0;var n=r(4417),i=new Map,o=void 0!==n.Konva._global.PointerEvent;function a(t){return{evt:t,pointerId:t.pointerId}}function s(t,e){var r=i.get(t);if(r){var n=r.getStage();n&&n.content,i.delete(t),o&&r._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return i.get(t)},e.createEvent=a,e.hasPointerCapture=function(t,e){return i.get(t)===e},e.setPointerCapture=function(t,e){s(t),e.getStage()&&(i.set(t,e),o&&e._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))},e.releaseCapture=s},7955:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;var o,a=r(8588),s=r(1455),l=r(7939),c=r(3774),d=r(4417),u=r(8479),p="hasShadow",h="shadowRGBA",f="patternImage",g="linearGradient",m="radialGradient";function v(){return o||(o=a.Util.createCanvasElement().getContext("2d"))}e.shapes={};var y=function(t){function r(r){for(var n,i=t.call(this,r)||this;!(n=a.Util.getRandomColor())||n in e.shapes;);return i.colorKey=n,e.shapes[n]=i,i}return i(r,t),r.prototype.getContext=function(){return this.getLayer().getContext()},r.prototype.getCanvas=function(){return this.getLayer().getCanvas()},r.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},r.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},r.prototype.hasShadow=function(){return this._getCache(p,this._hasShadow)},r.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},r.prototype._getFillPattern=function(){return this._getCache(f,this.__getFillPattern)},r.prototype.__getFillPattern=function(){if(this.fillPatternImage()){var t=v().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");return t&&t.setTransform&&t.setTransform({a:this.fillPatternScaleX(),b:0,c:0,d:this.fillPatternScaleY(),e:0,f:0}),t}},r.prototype._getLinearGradient=function(){return this._getCache(g,this.__getLinearGradient)},r.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=v(),r=this.fillLinearGradientStartPoint(),n=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(r.x,r.y,n.x,n.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},r.prototype._getRadialGradient=function(){return this._getCache(m,this.__getRadialGradient)},r.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=v(),r=this.fillRadialGradientStartPoint(),n=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),n.x,n.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},r.prototype.getShadowRGBA=function(){return this._getCache(h,this._getShadowRGBA)},r.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=a.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},r.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())}))},r.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())}))},r.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},r.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},r.prototype.destroy=function(){return l.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},r.prototype._useBufferCanvas=function(t){var e;if(!this.getStage())return!1;if(null!==(e=this.attrs.perfectDrawEnabled)&&void 0!==e&&!e)return!1;var r=t||this.hasFill(),n=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(r&&n&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(r&&n&&o&&a)},r.prototype.setStrokeHitEnabled=function(t){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},r.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},r.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},r.prototype.getClientRect=function(t){void 0===t&&(t={});var e=t.skipTransform,r=t.relativeTo,n=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=n.width+i,a=n.height+i,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,c=s?this.shadowOffsetY():0,d=o+Math.abs(l),u=a+Math.abs(c),p=s&&this.shadowBlur()||0,h=d+2*p,f=u+2*p,g=0;Math.round(i/2)!==i/2&&(g=1);var m={width:h+g,height:f+g,x:-Math.round(i/2+p)+Math.min(l,0)+n.x,y:-Math.round(i/2+p)+Math.min(c,0)+n.y};return e?m:this._transformedRect(m,r)},r.prototype.drawScene=function(t,e){var r,n,i=this.getLayer(),o=t||i.getCanvas(),a=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),d=o.isCache,u=o.isCache,p=e===this;if(!this.isVisible()&&!d)return this;if(s){a.save();var h=this.getAbsoluteTransform(e).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!u){(n=(r=this.getStage().bufferCanvas).getContext()).clear(),n.save(),n._applyLineJoin(this);var f=this.getAbsoluteTransform(e).getMatrix();n.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,n,this),n.restore();var g=r.pixelRatio;c&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(r._canvas,0,0,r.width/g,r.height/g)}else a._applyLineJoin(this),p||(f=this.getAbsoluteTransform(e).getMatrix(),a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),c&&a._applyShadow(this),l.call(this,a,this);return a.restore(),this},r.prototype.drawHit=function(t,e,r){if(void 0===r&&(r=!1),!this.shouldDrawHit(e,r))return this;var n=this.getLayer(),i=t||n.hitCanvas,o=i&&i.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||(console.log(this),a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),c){o.save();var d=this.getAbsoluteTransform(e).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!s)return this;if(o.save(),o._applyLineJoin(this),this!==e){var u=this.getAbsoluteTransform(e).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return s.call(this,o,this),o.restore(),this},r.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,r,n,i,o,s=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=s.hit,d=c.getContext(),u=c.getWidth(),p=c.getHeight();d.clear(),d.drawImage(l._canvas,0,0,u,p);try{for(n=(r=(e=d.getImageData(0,0,u,p)).data).length,i=a.Util._hexToRgb(this.colorKey),o=0;o<n;o+=4)r[o+3]>t?(r[o]=i.r,r[o+1]=i.g,r[o+2]=i.b,r[o+3]=255):r[o+3]=0;d.putImageData(e,0,0)}catch(t){a.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},r.prototype.hasPointerCapture=function(t){return u.hasPointerCapture(t,this)},r.prototype.setPointerCapture=function(t){u.setPointerCapture(t,this)},r.prototype.releaseCapture=function(t){u.releaseCapture(t,this)},r}(l.Node);e.Shape=y,y.prototype._fillFunc=function(t){t.fill()},y.prototype._strokeFunc=function(t){t.stroke()},y.prototype._fillFuncHit=function(t){t.fill()},y.prototype._strokeFuncHit=function(t){t.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",d._registerNode(y),y.prototype.eventListeners={},y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(p)})),y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(h)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",(function(){this._clearCache(f)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(g)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(m)})),s.Factory.addGetterSetter(y,"stroke",void 0,c.getStringOrGradientValidator()),s.Factory.addGetterSetter(y,"strokeWidth",2,c.getNumberValidator()),s.Factory.addGetterSetter(y,"fillAfterStrokeEnabled",!1),s.Factory.addGetterSetter(y,"hitStrokeWidth","auto",c.getNumberOrAutoValidator()),s.Factory.addGetterSetter(y,"strokeHitEnabled",!0,c.getBooleanValidator()),s.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,c.getBooleanValidator()),s.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,c.getBooleanValidator()),s.Factory.addGetterSetter(y,"lineJoin"),s.Factory.addGetterSetter(y,"lineCap"),s.Factory.addGetterSetter(y,"sceneFunc"),s.Factory.addGetterSetter(y,"hitFunc"),s.Factory.addGetterSetter(y,"dash"),s.Factory.addGetterSetter(y,"dashOffset",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"shadowColor",void 0,c.getStringValidator()),s.Factory.addGetterSetter(y,"shadowBlur",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"shadowOpacity",1,c.getNumberValidator()),s.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),s.Factory.addGetterSetter(y,"shadowOffsetX",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"shadowOffsetY",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"fillPatternImage"),s.Factory.addGetterSetter(y,"fill",void 0,c.getStringOrGradientValidator()),s.Factory.addGetterSetter(y,"fillPatternX",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"fillPatternY",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),s.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),s.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),s.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),s.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),s.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),s.Factory.addGetterSetter(y,"fillEnabled",!0),s.Factory.addGetterSetter(y,"strokeEnabled",!0),s.Factory.addGetterSetter(y,"shadowEnabled",!0),s.Factory.addGetterSetter(y,"dashEnabled",!0),s.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),s.Factory.addGetterSetter(y,"fillPriority","color"),s.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),s.Factory.addGetterSetter(y,"fillPatternOffsetX",0,c.getNumberValidator()),s.Factory.addGetterSetter(y,"fillPatternOffsetY",0,c.getNumberValidator()),s.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),s.Factory.addGetterSetter(y,"fillPatternScaleX",1,c.getNumberValidator()),s.Factory.addGetterSetter(y,"fillPatternScaleY",1,c.getNumberValidator()),s.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),s.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),s.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),s.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),s.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),s.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),s.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),s.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),s.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),s.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),s.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),s.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),s.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),s.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),s.Factory.addGetterSetter(y,"fillPatternRotation",0),s.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),a.Collection.mapMethods(y)},8342:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;var o=r(8588),a=r(1455),s=r(8783),l=r(4417),c=r(4842),d=r(210),u=r(4417),p=r(8479),h="mouseout",f="mouseleave",g="mouseover",m="mouseenter",v="mousemove",y="mousedown",b="mouseup",x="pointermove",w="pointerdown",k="pointerup",C="contextmenu",S="click",_="dblclick",T="touchstart",E="touchend",P="dbltap",M="touchmove",D="wheel",A=[m,y,v,b,f,T,M,E,g,D,C,w,x,k,"pointercancel","lostpointercapture"],L=A.length;function N(t,e){t.content.addEventListener(e,(function(r){t["_"+e](r)}),!1)}function O(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var F=function(t){function r(r){var n=t.call(this,O(r))||this;return n._pointerPositions=[],n._changedPointerPositions=[],n._buildDOM(),n._bindContentEvents(),e.stages.push(n),n.on("widthChange.konva heightChange.konva",n._resizeDOM),n.on("visibleChange.konva",n._checkVisibility),n.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){O(n.attrs)})),n._checkVisibility(),n}return i(r,t),r.prototype._validateAdd=function(t){var e="Layer"===t.getType(),r="FastLayer"===t.getType();e||r||o.Util.throw("You may only add layers to the stage.")},r.prototype._checkVisibility=function(){if(this.content){var t=this.visible()?"":"none";this.content.style.display=t}},r.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var r;r="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(r)}if(!t)throw"Can not find container in document with id "+r}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},r.prototype.shouldDrawHit=function(){return!0},r.prototype.clear=function(){var t,e=this.children,r=e.length;for(t=0;t<r;t++)e[t].clear();return this},r.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),s.Container.prototype.clone.call(this,t)},r.prototype.destroy=function(){t.prototype.destroy.call(this);var r=this.content;r&&o.Util._isInDocument(r)&&this.container().removeChild(r);var n=e.stages.indexOf(this);return n>-1&&e.stages.splice(n,1),this},r.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},r.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},r.prototype.getPointersPositions=function(){return this._pointerPositions},r.prototype.getStage=function(){return this},r.prototype.getContent=function(){return this.content},r.prototype._toKonvaCanvas=function(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new c.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),r=e.getContext()._context,n=this.children;return(t.x||t.y)&&r.translate(-1*t.x,-1*t.y),n.each((function(e){if(e.isVisible()){var n=e._toKonvaCanvas(t);r.drawImage(n._canvas,t.x,t.y,n.getWidth()/n.getPixelRatio(),n.getHeight()/n.getPixelRatio())}})),e},r.prototype.getIntersection=function(t,e){if(!t)return null;var r,n,i=this.children;for(r=i.length-1;r>=0;r--)if(n=i[r].getIntersection(t,e))return n;return null},r.prototype._resizeDOM=function(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.each((function(r){r.setSize({width:t,height:e}),r.draw()}))},r.prototype.add=function(e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}t.prototype.add.call(this,e);var n=this.children.length;return n>5&&o.Util.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),l.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},r.prototype.getParent=function(){return null},r.prototype.getLayer=function(){return null},r.prototype.hasPointerCapture=function(t){return p.hasPointerCapture(t,this)},r.prototype.setPointerCapture=function(t){p.setPointerCapture(t,this)},r.prototype.releaseCapture=function(t){p.releaseCapture(t,this)},r.prototype.getLayers=function(){return this.getChildren()},r.prototype._bindContentEvents=function(){if(l.Konva.isBrowser)for(var t=0;t<L;t++)N(this,A[t])},r.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(m,{evt:t,target:this,currentTarget:this})},r.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(g,{evt:t,target:this,currentTarget:this})},r.prototype._mouseleave=function(t){var e;this.setPointersPositions(t);var r=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,n=!d.DD.isDragging||l.Konva.hitOnDragEnabled;r&&n?(r._fireAndBubble(h,{evt:t}),r._fireAndBubble(f,{evt:t}),this._fire(f,{evt:t,target:this,currentTarget:this}),this.targetShape=null):n&&(this._fire(f,{evt:t,target:this,currentTarget:this}),this._fire(h,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},r.prototype._mousemove=function(t){var e;if(l.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var r,n=o.Util._getFirstPointerId(t),i=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,a=!d.DD.isDragging||l.Konva.hitOnDragEnabled;a&&((r=this.getIntersection(this.getPointerPosition()))&&r.isListening()?a&&i!==r?(i&&(i._fireAndBubble(h,{evt:t,pointerId:n},r),i._fireAndBubble(f,{evt:t,pointerId:n},r)),r._fireAndBubble(g,{evt:t,pointerId:n},i),r._fireAndBubble(m,{evt:t,pointerId:n},i),r._fireAndBubble(v,{evt:t,pointerId:n}),this.targetShape=r):r._fireAndBubble(v,{evt:t,pointerId:n}):(i&&a&&(i._fireAndBubble(h,{evt:t,pointerId:n}),i._fireAndBubble(f,{evt:t,pointerId:n}),this._fire(g,{evt:t,target:this,currentTarget:this,pointerId:n}),this.targetShape=null),this._fire(v,{evt:t,target:this,currentTarget:this,pointerId:n})),this._fire("contentMousemove",{evt:t})),t.cancelable&&t.preventDefault()},r.prototype._mousedown=function(t){if(l.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),r=this.getIntersection(this.getPointerPosition());d.DD.justDragged=!1,l.Konva.listenClickTap=!0,r&&r.isListening()?(this.clickStartShape=r,r._fireAndBubble(y,{evt:t,pointerId:e})):this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},r.prototype._mouseup=function(t){if(l.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),r=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,i=this.clickEndShape,a=!1;l.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):d.DD.justDragged||(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow),r&&r.isListening()?(this.clickEndShape=r,r._fireAndBubble(b,{evt:t,pointerId:e}),l.Konva.listenClickTap&&n&&n._id===r._id&&(r._fireAndBubble(S,{evt:t,pointerId:e}),a&&i&&i===r&&r._fireAndBubble(_,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(b,{evt:t,target:this,currentTarget:this,pointerId:e}),l.Konva.listenClickTap&&this._fire(S,{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire(_,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),a&&this._fire("contentDblclick",{evt:t})),l.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},r.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(C,{evt:t}):this._fire(C,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},r.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var r=!1;this._changedPointerPositions.forEach((function(n){var i=e.getIntersection(n);l.Konva.listenClickTap=!0,d.DD.justDragged=!1,i&&i.isListening()&&(l.Konva.captureTouchEventsEnabled&&i.setPointerCapture(n.id),e.tapStartShape=i,i._fireAndBubble(T,{evt:t,pointerId:n.id},e),r=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),r||this._fire(T,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},r.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!d.DD.isDragging||l.Konva.hitOnDragEnabled){var r=!1,n={};this._changedPointerPositions.forEach((function(i){var o=p.getCapturedShape(i.id)||e.getIntersection(i);o&&o.isListening()&&(n[o._id]||(n[o._id]=!0,o._fireAndBubble(M,{evt:t,pointerId:i.id}),r=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),r||this._fire(M,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}d.DD.isDragging&&d.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},r.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var r=this.tapEndShape,n=!1;l.Konva.inDblClickWindow?(n=!0,clearTimeout(this.dblTimeout)):d.DD.justDragged||(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow);var i=!1,o={},a=!1,s=!1;this._changedPointerPositions.forEach((function(c){var d=p.getCapturedShape(c.id)||e.getIntersection(c);d&&d.releaseCapture(c.id),d&&d.isListening()&&(o[d._id]||(o[d._id]=!0,e.tapEndShape=d,d._fireAndBubble(E,{evt:t,pointerId:c.id}),i=!0,l.Konva.listenClickTap&&d===e.tapStartShape&&(a=!0,d._fireAndBubble("tap",{evt:t,pointerId:c.id}),n&&r&&r===d&&(s=!0,d._fireAndBubble(P,{evt:t,pointerId:c.id}))),d.isListening()&&d.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire(E,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva.listenClickTap&&!a&&(this.tapEndShape=null,this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),n&&!s&&this._fire(P,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),n&&this._fire("contentDbltap",{evt:t})),this.preventDefault()&&t.cancelable&&t.preventDefault(),l.Konva.listenClickTap=!1},r.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(D,{evt:t}):this._fire(D,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},r.prototype._pointerdown=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(w,p.createEvent(t))}},r.prototype._pointermove=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(x,p.createEvent(t))}},r.prototype._pointerup=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(k,p.createEvent(t)),p.releaseCapture(t.pointerId)}},r.prototype._pointercancel=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(k,p.createEvent(t)),p.releaseCapture(t.pointerId)}},r.prototype._lostpointercapture=function(t){p.releaseCapture(t.pointerId)},r.prototype.setPointersPositions=function(t){var e=this,r=this._getContentPosition(),n=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],o.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-r.left)/r.scaleX,y:(t.clientY-r.top)/r.scaleY})})),o.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-r.left)/r.scaleX,y:(t.clientY-r.top)/r.scaleY})}))):(n=(t.clientX-r.left)/r.scaleX,i=(t.clientY-r.top)/r.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:i,id:o.Util._getFirstPointerId(t)}])},r.prototype._setPointerPosition=function(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},r.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},r.prototype._buildDOM=function(){if(this.bufferCanvas=new c.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),l.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},r.prototype.cache=function(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},r.prototype.clearCache=function(){return this},r.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},r}(s.Container);e.Stage=F,F.prototype.nodeType="Stage",u._registerNode(F),a.Factory.addGetterSetter(F,"container")},8017:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;var n=r(8588),i=r(6745),o=r(7939),a=r(4417),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"],d=function(){function t(t,e,r,n,i,o,a){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),u=function(){function t(r){var o,c,u=this,p=r.node,h=p._id,f=r.easing||e.Easings.Linear,g=!!r.yoyo;o=void 0===r.duration?.3:0===r.duration?.001:r.duration,this.node=p,this._id=l++;var m=p.getLayer()||(p instanceof a.Konva.Stage?p.getLayers():null);for(c in m||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){u.tween.onEnterFrame()}),m),this.tween=new d(c,(function(t){u._tweenFunc(t)}),f,0,1,1e3*o,g),this._addListeners(),t.attrs[h]||(t.attrs[h]={}),t.attrs[h][this._id]||(t.attrs[h][this._id]={}),t.tweens[h]||(t.tweens[h]={}),r)void 0===s[c]&&this._addAttr(c,r[c]);this.reset(),this.onFinish=r.onFinish,this.onReset=r.onReset,this.onUpdate=r.onUpdate}return t.prototype._addAttr=function(e,r){var i,o,a,s,l,d,u,p,h=this.node,f=h._id;if((a=t.tweens[f][e])&&delete t.attrs[f][a][e],i=h.getAttr(e),n.Util._isArray(r))if(o=[],l=Math.max(r.length,i.length),"points"===e&&r.length!==i.length&&(r.length>i.length?(u=i,i=n.Util._prepareArrayForTween(i,r,h.closed())):(d=r,r=n.Util._prepareArrayForTween(r,i,h.closed()))),0===e.indexOf("fill"))for(s=0;s<l;s++)if(s%2==0)o.push(r[s]-i[s]);else{var g=n.Util.colorToRGBA(i[s]);p=n.Util.colorToRGBA(r[s]),i[s]=g,o.push({r:p.r-g.r,g:p.g-g.g,b:p.b-g.b,a:p.a-g.a})}else for(s=0;s<l;s++)o.push(r[s]-i[s]);else-1!==c.indexOf(e)?(i=n.Util.colorToRGBA(i),o={r:(p=n.Util.colorToRGBA(r)).r-i.r,g:p.g-i.g,b:p.b-i.b,a:p.a-i.a}):o=r-i;t.attrs[f][this._id][e]={start:i,diff:o,end:r,trueEnd:d,trueStart:u},t.tweens[f][e]=this._id},t.prototype._tweenFunc=function(e){var r,i,o,a,s,l,d,u,p=this.node,h=t.attrs[p._id][this._id];for(r in h){if(o=(i=h[r]).start,a=i.diff,u=i.end,n.Util._isArray(o))if(s=[],d=Math.max(o.length,u.length),0===r.indexOf("fill"))for(l=0;l<d;l++)l%2==0?s.push((o[l]||0)+a[l]*e):s.push("rgba("+Math.round(o[l].r+a[l].r*e)+","+Math.round(o[l].g+a[l].g*e)+","+Math.round(o[l].b+a[l].b*e)+","+(o[l].a+a[l].a*e)+")");else for(l=0;l<d;l++)s.push((o[l]||0)+a[l]*e);else s=-1!==c.indexOf(r)?"rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":o+a*e;p.setAttr(r,s)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var r=e.node,n=t.attrs[r._id][e._id];n.points&&n.points.trueEnd&&r.setAttr("points",n.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var r=e.node,n=t.attrs[r._id][e._id];n.points&&n.points.trueStart&&r.points(n.points.trueStart),e.onReset&&e.onReset()},this.tween.onUpdate=function(){e.onUpdate&&e.onUpdate.call(e)}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,r=this.node._id,n=this._id,i=t.tweens[r];for(e in this.pause(),i)delete t.tweens[r][e];delete t.attrs[r][n]},t.attrs={},t.tweens={},t}();e.Tween=u,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new u(t).play()},e.Easings={BackEaseIn:function(t,e,r,n){var i=1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,r,n){var i=1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,r,n){var i=1.70158;return(t/=n/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+e:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,r,n,i,o){var a=0;return 0===t?e:1==(t/=n)?e+r:(o||(o=.3*n),!i||i<Math.abs(r)?(i=r,a=o/4):a=o/(2*Math.PI)*Math.asin(r/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,r,n,i,o){var a=0;return 0===t?e:1==(t/=n)?e+r:(o||(o=.3*n),!i||i<Math.abs(r)?(i=r,a=o/4):a=o/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*n-a)*(2*Math.PI)/o)+r+e)},ElasticEaseInOut:function(t,e,r,n,i,o){var a=0;return 0===t?e:2==(t/=n/2)?e+r:(o||(o=n*(.3*1.5)),!i||i<Math.abs(r)?(i=r,a=o/4):a=o/(2*Math.PI)*Math.asin(r/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/o)*.5+r+e)},BounceEaseOut:function(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,r,n,i){return n-e.Easings.BounceEaseOut(i-t,0,n,i)+r},BounceEaseInOut:function(t,r,n,i){return t<i/2?.5*e.Easings.BounceEaseIn(2*t,0,n,i)+r:.5*e.Easings.BounceEaseOut(2*t-i,0,n,i)+.5*n+r},EaseIn:function(t,e,r,n){return r*(t/=n)*t+e},EaseOut:function(t,e,r,n){return-r*(t/=n)*(t-2)+e},EaseInOut:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,r,n){return r*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,r,n){return r*t/n+e}}},8588:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=e.Collection=void 0;var n=r(4417),i=function(){function t(){}return t.toCollection=function(e){var r,n=new t,i=e.length;for(r=0;r<i;r++)n.push(e[r]);return n},t._mapMethod=function(e){t.prototype[e]=function(){var t,r=this.length,n=[].slice.call(arguments);for(t=0;t<r;t++)this[t][e].apply(this[t],n);return this}},t.mapMethods=function(e){var r=e.prototype;for(var n in r)t._mapMethod(n)},t}();e.Collection=i,i.prototype=[],i.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},i.prototype.toArray=function(){var t,e=[],r=this.length;for(t=0;t<r;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},t.prototype.copy=function(){return new t(this.m)},t.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.m[0]*e+this.m[2]*r,i=this.m[1]*e+this.m[3]*r,o=this.m[0]*-r+this.m[2]*e,a=this.m[1]*-r+this.m[3]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=o,this.m[3]=a,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var r=this.m[0]+this.m[2]*e,n=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=r,this.m[2]=n,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,r=-this.m[1]*t,n=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=r,this.m[2]=n,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var r=this.m[0],n=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],s=(r*(e-this.m[5])-n*(t-a))/(r*o-n*i),l=(t-a-i*s)/r;return this.translate(l,s)},t.prototype.decompose=function(){var t=this.m[0],r=this.m[1],n=this.m[2],i=this.m[3],o=t*i-r*n,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=r){var s=Math.sqrt(t*t+r*r);a.rotation=r>0?Math.acos(t/s):-Math.acos(t/s),a.scaleX=s,a.scaleY=o/s,a.skewX=(t*n+r*i)/o,a.skewY=0}else if(0!=n||0!=i){var l=Math.sqrt(n*n+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-n/l):-Math.acos(n/l)),a.scaleX=o/l,a.scaleY=l,a.skewX=0,a.skewY=(t*n+r*i)/o}return a.rotation=e.Util._getRotation(a.rotation),a},t}();e.Transform=o;var a=Math.PI/180,s=180/Math.PI,l="Konva error: ",c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t||t>0?1:-1},requestAnimFrame:function(t){u.push(t),1===u.length&&requestAnimationFrame((function(){var t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var r,n,i=[],o=t.length,a=e.Util;for(r=0;r<o;r++)n=t[r],a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n=n.toString()),i.push(n);return i},_urlToImage:function(t,e){var r=new n.glob.Image;r.onload=function(){e(r)},r.src=t},_rgbToHex:function(t,e,r){return((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in c?{r:(e=c[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=c[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(r[0],r.slice(1)),i=Number(n[0])/360,o=Number(n[1])/100,a=Number(n[2])/100,s=void 0,l=void 0;if(0===o)return l=255*a,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};for(var c=2*a-(e=a<.5?a*(1+o):a+o-a*o),d=[0,0,0],u=0;u<3;u++)(s=i+1/3*-(u-1))<0&&s++,s>1&&s--,l=6*s<1?c+6*(e-c)*s:2*s<1?e:3*s<2?c+(e-c)*(2/3-s)*6:c,d[u]=255*l;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*a},_radToDeg:function(t){return t*s},_getRotation:function(t){return n.Konva.angleDeg?e.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(l+t)},error:function(t){console.error(l+t)},warn:function(t){n.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function r(){this.constructor=t}r.prototype=e.prototype;var n=t.prototype;for(var i in t.prototype=new r,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,r,n,i,o,a){var s=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-r,2)+Math.pow(o-n,2)),c=a*s/(s+l),d=a*l/(s+l);return[r-c*(i-t),n-c*(o-e),r+d*(i-t),n+d*(o-e)]},_expandPoints:function(t,r){var n,i,o=t.length,a=[];for(n=2;n<o-2;n+=2)i=e.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],r),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(t[n]),a.push(t[n+1]),a.push(i[2]),a.push(i[3]));return a},each:function(t,e){for(var r in t)e(r,t[r])},_inRange:function(t,e,r){return e<=t&&t<r},_getProjectionToSegment:function(t,e,r,n,i,o){var a,s,l,c=(t-r)*(t-r)+(e-n)*(e-n);if(0==c)a=t,s=e,l=(i-r)*(i-r)+(o-n)*(o-n);else{var d=((i-t)*(r-t)+(o-e)*(n-e))/c;d<0?(a=t,s=e,l=(t-i)*(t-i)+(e-o)*(e-o)):d>1?(a=r,s=n,l=(r-i)*(r-i)+(n-o)*(n-o)):l=((a=t+d*(r-t))-i)*(a-i)+((s=e+d*(n-e))-o)*(s-o)}return[a,s,l]},_getProjectionToLine:function(t,r,n){var i=e.Util.cloneObject(t),o=Number.MAX_VALUE;return r.forEach((function(a,s){if(n||s!==r.length-1){var l=r[(s+1)%r.length],c=e.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,t.x,t.y),d=c[0],u=c[1],p=c[2];p<o&&(i.x=d,i.y=u,o=p)}})),i},_prepareArrayForTween:function(t,r,n){var i,o=[],a=[];if(t.length>r.length){var s=r;r=t,t=s}for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});for(i=0;i<r.length;i+=2)a.push({x:r[i],y:r[i+1]});var l=[];return a.forEach((function(t){var r=e.Util._getProjectionToLine(t,o,n);l.push(r.x),l.push(r.y)})),l},_prepareToStringify:function(t){var r;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(r=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||e.Util._isElement(t[n])){if(!r.configurable)return null;delete t[n]}else if(null===e.Util._prepareToStringify(t[n])){if(!r.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var r in e)t[r]=e[r];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},3774:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentValidator=e.getBooleanValidator=e.getNumberArrayValidator=e.getFunctionValidator=e.getStringOrGradientValidator=e.getStringValidator=e.getNumberOrAutoValidator=e.getNumberOrArrayOfNumbersValidator=e.getNumberValidator=e.alphaComponent=e.RGBComponent=void 0;var n=r(4417),i=r(8588);function o(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(n.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrArrayOfNumbersValidator=function(t){if(n.Konva.isUnminified)return function(e,r){var n=i.Util._isNumber(e),a=i.Util._isArray(e)&&e.length==t;return n||a||i.Util.warn(o(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}},e.getNumberOrAutoValidator=function(){if(n.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(n.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getStringOrGradientValidator=function(){if(n.Konva.isUnminified)return function(t,e){var r=i.Util._isString(t),n="[object CanvasGradient]"===Object.prototype.toString.call(t);return r||n||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},e.getFunctionValidator=function(){if(n.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(n.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach((function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(n.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(n.Konva.isUnminified)return function(e,r){return i.Util.isObject(e)||i.Util.warn(o(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}},3986:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=r(4417),i=r(8588),o=r(7939),a=r(8783),s=r(8342),l=r(4415),c=r(3980),d=r(8985),u=r(210),p=r(7955),h=r(6745),f=r(8017),g=r(3442),m=r(4842);e.Konva=i.Util._assign(n.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:d.Group,DD:u.DD,Shape:p.Shape,shapes:p.shapes,Animation:h.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:m.Canvas})},2076:(t,e,r)=>{"use strict";e.S=void 0;var n=r(3986),i=r(119),o=r(2064),a=r(7643),s=r(535),l=r(1298),c=r(6067),d=r(7149),u=r(7339),p=r(5244),h=r(1785),f=r(657),g=r(8986),m=r(1964),v=r(3787),y=r(2831),b=r(9516),x=r(9846),w=r(2527),k=r(6672),C=r(5309),S=r(1695),_=r(9621),T=r(1179),E=r(7194),P=r(3925),M=r(5751),D=r(6588),A=r(3565),L=r(5929),N=r(7233),O=r(8590),F=r(8280),z=r(3438),I=r(6703),B=r(1665),R=r(1863);e.S=n.Konva.Util._assign(n.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:d.Line,Path:u.Path,Rect:p.Rect,RegularPolygon:h.RegularPolygon,Ring:f.Ring,Sprite:g.Sprite,Star:m.Star,Text:v.Text,TextPath:y.TextPath,Transformer:b.Transformer,Wedge:x.Wedge,Filters:{Blur:w.Blur,Brighten:k.Brighten,Contrast:C.Contrast,Emboss:S.Emboss,Enhance:_.Enhance,Grayscale:T.Grayscale,HSL:E.HSL,HSV:P.HSV,Invert:M.Invert,Kaleidoscope:D.Kaleidoscope,Mask:A.Mask,Noise:L.Noise,Pixelate:N.Pixelate,Posterize:O.Posterize,RGB:F.RGB,RGBA:z.RGBA,Sepia:I.Sepia,Solarize:B.Solarize,Threshold:R.Threshold}})},2527:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;var n=r(1455),i=r(7939),o=r(3774);function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var r,n,i,o,c,d,u,p,h,f,g,m,v,y,b,x,w,k,C,S,_,T,E,P,M=t.data,D=t.width,A=t.height,L=e+e+1,N=D-1,O=A-1,F=e+1,z=F*(F+1)/2,I=new a,B=null,R=I,j=null,H=null,G=s[e],V=l[e];for(i=1;i<L;i++)R=R.next=new a,i===F&&(B=R);for(R.next=I,u=d=0,n=0;n<A;n++){for(x=w=k=C=p=h=f=g=0,m=F*(S=M[d]),v=F*(_=M[d+1]),y=F*(T=M[d+2]),b=F*(E=M[d+3]),p+=z*S,h+=z*_,f+=z*T,g+=z*E,R=I,i=0;i<F;i++)R.r=S,R.g=_,R.b=T,R.a=E,R=R.next;for(i=1;i<F;i++)o=d+((N<i?N:i)<<2),p+=(R.r=S=M[o])*(P=F-i),h+=(R.g=_=M[o+1])*P,f+=(R.b=T=M[o+2])*P,g+=(R.a=E=M[o+3])*P,x+=S,w+=_,k+=T,C+=E,R=R.next;for(j=I,H=B,r=0;r<D;r++)M[d+3]=E=g*G>>V,0!==E?(E=255/E,M[d]=(p*G>>V)*E,M[d+1]=(h*G>>V)*E,M[d+2]=(f*G>>V)*E):M[d]=M[d+1]=M[d+2]=0,p-=m,h-=v,f-=y,g-=b,m-=j.r,v-=j.g,y-=j.b,b-=j.a,o=u+((o=r+e+1)<N?o:N)<<2,p+=x+=j.r=M[o],h+=w+=j.g=M[o+1],f+=k+=j.b=M[o+2],g+=C+=j.a=M[o+3],j=j.next,m+=S=H.r,v+=_=H.g,y+=T=H.b,b+=E=H.a,x-=S,w-=_,k-=T,C-=E,H=H.next,d+=4;u+=D}for(r=0;r<D;r++){for(w=k=C=x=h=f=g=p=0,m=F*(S=M[d=r<<2]),v=F*(_=M[d+1]),y=F*(T=M[d+2]),b=F*(E=M[d+3]),p+=z*S,h+=z*_,f+=z*T,g+=z*E,R=I,i=0;i<F;i++)R.r=S,R.g=_,R.b=T,R.a=E,R=R.next;for(c=D,i=1;i<=e;i++)d=c+r<<2,p+=(R.r=S=M[d])*(P=F-i),h+=(R.g=_=M[d+1])*P,f+=(R.b=T=M[d+2])*P,g+=(R.a=E=M[d+3])*P,x+=S,w+=_,k+=T,C+=E,R=R.next,i<O&&(c+=D);for(d=r,j=I,H=B,n=0;n<A;n++)M[3+(o=d<<2)]=E=g*G>>V,E>0?(E=255/E,M[o]=(p*G>>V)*E,M[o+1]=(h*G>>V)*E,M[o+2]=(f*G>>V)*E):M[o]=M[o+1]=M[o+2]=0,p-=m,h-=v,f-=y,g-=b,m-=j.r,v-=j.g,y-=j.b,b-=j.a,o=r+((o=n+F)<O?o:O)*D<<2,p+=x+=j.r=M[o],h+=w+=j.g=M[o+1],f+=k+=j.b=M[o+2],g+=C+=j.a=M[o+3],j=j.next,m+=S=H.r,v+=_=H.g,y+=T=H.b,b+=E=H.a,x-=S,w-=_,k-=T,C-=E,H=H.next,d+=D}}(t,e)},n.Factory.addGetterSetter(i.Node,"blurRadius",0,o.getNumberValidator(),n.Factory.afterSetFilter)},6672:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brighten=void 0;var n=r(1455),i=r(7939),o=r(3774);e.Brighten=function(t){var e,r=255*this.brightness(),n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]+=r,n[e+1]+=r,n[e+2]+=r},n.Factory.addGetterSetter(i.Node,"brightness",0,o.getNumberValidator(),n.Factory.afterSetFilter)},5309:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;var n=r(1455),i=r(7939),o=r(3774);e.Contrast=function(t){var e,r=Math.pow((this.contrast()+100)/100,2),n=t.data,i=n.length,o=150,a=150,s=150;for(e=0;e<i;e+=4)o=n[e],a=n[e+1],s=n[e+2],o/=255,o-=.5,o*=r,o+=.5,a/=255,a-=.5,a*=r,a+=.5,s/=255,s-=.5,s*=r,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,n[e]=o,n[e+1]=a,n[e+2]=s},n.Factory.addGetterSetter(i.Node,"contrast",0,o.getNumberValidator(),n.Factory.afterSetFilter)},1695:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emboss=void 0;var n=r(1455),i=r(7939),o=r(8588),a=r(3774);e.Emboss=function(t){var e=10*this.embossStrength(),r=255*this.embossWhiteLevel(),n=this.embossDirection(),i=this.embossBlend(),a=0,s=0,l=t.data,c=t.width,d=t.height,u=4*c,p=d;switch(n){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:o.Util.error("Unknown emboss direction: "+n)}do{var h=(p-1)*u,f=a;p+f<1&&(f=0),p+f>d&&(f=0);var g=(p-1+f)*c*4,m=c;do{var v=h+4*(m-1),y=s;m+y<1&&(y=0),m+y>c&&(y=0);var b=g+4*(m-1+y),x=l[v]-l[b],w=l[v+1]-l[b+1],k=l[v+2]-l[b+2],C=x,S=C>0?C:-C;if((w>0?w:-w)>S&&(C=w),(k>0?k:-k)>S&&(C=k),C*=e,i){var _=l[v]+C,T=l[v+1]+C,E=l[v+2]+C;l[v]=_>255?255:_<0?0:_,l[v+1]=T>255?255:T<0?0:T,l[v+2]=E>255?255:E<0?0:E}else{var P=r-C;P<0?P=0:P>255&&(P=255),l[v]=l[v+1]=l[v+2]=P}}while(--m)}while(--p)},n.Factory.addGetterSetter(i.Node,"embossStrength",.5,a.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,a.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,n.Factory.afterSetFilter)},9621:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Enhance=void 0;var n=r(1455),i=r(7939),o=r(3774);function a(t,e,r,n,i){var o=r-e,a=i-n;return 0===o?n+a/2:0===a?n:a*((t-e)/o)+n}e.Enhance=function(t){var e,r,n,i,o=t.data,s=o.length,l=o[0],c=l,d=o[1],u=d,p=o[2],h=p,f=this.enhance();if(0!==f){for(i=0;i<s;i+=4)(e=o[i+0])<l?l=e:e>c&&(c=e),(r=o[i+1])<d?d=r:r>u&&(u=r),(n=o[i+2])<p?p=n:n>h&&(h=n);var g,m,v,y,b,x,w,k,C;for(c===l&&(c=255,l=0),u===d&&(u=255,d=0),h===p&&(h=255,p=0),f>0?(m=c+f*(255-c),v=l-f*(l-0),b=u+f*(255-u),x=d-f*(d-0),k=h+f*(255-h),C=p-f*(p-0)):(m=c+f*(c-(g=.5*(c+l))),v=l+f*(l-g),b=u+f*(u-(y=.5*(u+d))),x=d+f*(d-y),k=h+f*(h-(w=.5*(h+p))),C=p+f*(p-w)),i=0;i<s;i+=4)o[i+0]=a(o[i+0],l,c,v,m),o[i+1]=a(o[i+1],d,u,x,b),o[i+2]=a(o[i+2],p,h,C,k)}},n.Factory.addGetterSetter(i.Node,"enhance",0,o.getNumberValidator(),n.Factory.afterSetFilter)},1179:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=void 0,e.Grayscale=function(t){var e,r,n=t.data,i=n.length;for(e=0;e<i;e+=4)r=.34*n[e]+.5*n[e+1]+.16*n[e+2],n[e]=r,n[e+1]=r,n[e+2]=r}},7194:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSL=void 0;var n=r(1455),i=r(7939),o=r(3774);n.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"luminance",0,o.getNumberValidator(),n.Factory.afterSetFilter),e.HSL=function(t){var e,r,n,i,o,a=t.data,s=a.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=127*this.luminance(),u=1*l*Math.cos(c*Math.PI/180),p=1*l*Math.sin(c*Math.PI/180),h=.299+.701*u+.167*p,f=.587-.587*u+.33*p,g=.114-.114*u-.497*p,m=.299-.299*u-.328*p,v=.587+.413*u+.035*p,y=.114-.114*u+.293*p,b=.299-.3*u+1.25*p,x=.587-.586*u-1.05*p,w=.114+.886*u-.2*p;for(e=0;e<s;e+=4)r=a[e+0],n=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=h*r+f*n+g*i+d,a[e+1]=m*r+v*n+y*i+d,a[e+2]=b*r+x*n+w*i+d,a[e+3]=o}},3925:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSV=void 0;var n=r(1455),i=r(7939),o=r(3774);e.HSV=function(t){var e,r,n,i,o,a=t.data,s=a.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,u=l*c*Math.cos(d*Math.PI/180),p=l*c*Math.sin(d*Math.PI/180),h=.299*l+.701*u+.167*p,f=.587*l-.587*u+.33*p,g=.114*l-.114*u-.497*p,m=.299*l-.299*u-.328*p,v=.587*l+.413*u+.035*p,y=.114*l-.114*u+.293*p,b=.299*l-.3*u+1.25*p,x=.587*l-.586*u-1.05*p,w=.114*l+.886*u-.2*p;for(e=0;e<s;e+=4)r=a[e+0],n=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=h*r+f*n+g*i,a[e+1]=m*r+v*n+y*i,a[e+2]=b*r+x*n+w*i,a[e+3]=o},n.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"value",0,o.getNumberValidator(),n.Factory.afterSetFilter)},5751:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0,e.Invert=function(t){var e,r=t.data,n=r.length;for(e=0;e<n;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2]}},6588:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kaleidoscope=void 0;var n=r(1455),i=r(7939),o=r(8588),a=r(3774);e.Kaleidoscope=function(t){var e,r,n,i,a,s,l,c,d,u=t.width,p=t.height,h=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(u*(f%360)/360);if(!(h<1)){var m=o.Util.createCanvasElement();m.width=u,m.height=p;var v=m.getContext("2d").getImageData(0,0,u,p);!function(t,e,r){var n,i,o,a,s=t.data,l=e.data,c=t.width,d=t.height,u=r.polarCenterX||c/2,p=r.polarCenterY||d/2,h=0,f=0,g=0,m=0,v=Math.sqrt(u*u+p*p);i=c-u,o=d-p,v=(a=Math.sqrt(i*i+o*o))>v?a:v;var y,b,x,w,k=d,C=c,S=360/C*Math.PI/180;for(b=0;b<C;b+=1)for(x=Math.sin(b*S),w=Math.cos(b*S),y=0;y<k;y+=1)i=Math.floor(u+v*y/k*w),h=s[0+(n=4*((o=Math.floor(p+v*y/k*x))*c+i))],f=s[n+1],g=s[n+2],m=s[n+3],l[0+(n=4*(b+y*c))]=h,l[n+1]=f,l[n+2]=g,l[n+3]=m}(t,v,{polarCenterX:u/2,polarCenterY:p/2});for(var y=u/Math.pow(2,h);y<=8;)y*=2,h-=1;var b=y=Math.ceil(y),x=0,w=b,k=1;for(g+y>u&&(x=b,w=0,k=-1),r=0;r<p;r+=1)for(e=x;e!==w;e+=k)c=4*(u*r+Math.round(e+g)%u),i=v.data[c+0],a=v.data[c+1],s=v.data[c+2],l=v.data[c+3],d=4*(u*r+e),v.data[d+0]=i,v.data[d+1]=a,v.data[d+2]=s,v.data[d+3]=l;for(r=0;r<p;r+=1)for(b=Math.floor(y),n=0;n<h;n+=1){for(e=0;e<b+1;e+=1)c=4*(u*r+e),i=v.data[c+0],a=v.data[c+1],s=v.data[c+2],l=v.data[c+3],d=4*(u*r+2*b-e-1),v.data[d+0]=i,v.data[d+1]=a,v.data[d+2]=s,v.data[d+3]=l;b*=2}!function(t,e,r){var n,i,o,a,s,l,c=t.data,d=e.data,u=t.width,p=t.height,h=r.polarCenterX||u/2,f=r.polarCenterY||p/2,g=0,m=0,v=0,y=0,b=Math.sqrt(h*h+f*f);i=u-h,o=p-f,b=(l=Math.sqrt(i*i+o*o))>b?l:b;var x,w,k,C=p,S=u,_=r.polarRotation||0;for(i=0;i<u;i+=1)for(o=0;o<p;o+=1)a=i-h,s=o-f,x=Math.sqrt(a*a+s*s)*C/b,w=(w=(180*Math.atan2(s,a)/Math.PI+360+_)%360)*S/360,k=Math.floor(w),g=c[0+(n=4*(Math.floor(x)*u+k))],m=c[n+1],v=c[n+2],y=c[n+3],d[0+(n=4*(o*u+i))]=g,d[n+1]=m,d[n+2]=v,d[n+3]=y}(v,t,{polarRotation:0})}},n.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,a.getNumberValidator(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,a.getNumberValidator(),n.Factory.afterSetFilter)},3565:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;var n=r(1455),i=r(7939),o=r(3774);function a(t,e,r){var n=4*(r*t.width+e),i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function s(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var r=a(t,0,0),n=a(t,t.width-1,0),i=a(t,0,t.height-1),o=a(t,t.width-1,t.height-1),l=e||10;if(s(r,n)<l&&s(n,o)<l&&s(o,i)<l&&s(i,r)<l){for(var c=function(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([n,r,o,i]),d=[],u=0;u<t.width*t.height;u++){var p=s(c,[t.data[4*u],t.data[4*u+1],t.data[4*u+2]]);d[u]=p<l?0:255}return d}}(t,this.threshold());return e&&function(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}(t,e=function(t,e,r){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),a=[],s=0;s<r;s++)for(var l=0;l<e;l++){for(var c=s*e+l,d=0,u=0;u<i;u++)for(var p=0;p<i;p++){var h=s+u-o,f=l+p-o;if(h>=0&&h<r&&f>=0&&f<e){var g=n[u*i+p];d+=t[h*e+f]*g}}a[c]=d}return a}(e=function(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),a=[],s=0;s<r;s++)for(var l=0;l<e;l++){for(var c=s*e+l,d=0,u=0;u<i;u++)for(var p=0;p<i;p++){var h=s+u-o,f=l+p-o;if(h>=0&&h<r&&f>=0&&f<e){var g=n[u*i+p];d+=t[h*e+f]*g}}a[c]=d>=1020?255:0}return a}(e=function(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),a=[],s=0;s<r;s++)for(var l=0;l<e;l++){for(var c=s*e+l,d=0,u=0;u<i;u++)for(var p=0;p<i;p++){var h=s+u-o,f=l+p-o;if(h>=0&&h<r&&f>=0&&f<e){var g=n[u*i+p];d+=t[h*e+f]*g}}a[c]=2040===d?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},n.Factory.addGetterSetter(i.Node,"threshold",0,o.getNumberValidator(),n.Factory.afterSetFilter)},5929:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Noise=void 0;var n=r(1455),i=r(7939),o=r(3774);e.Noise=function(t){var e,r=255*this.noise(),n=t.data,i=n.length,o=r/2;for(e=0;e<i;e+=4)n[e+0]+=o-2*o*Math.random(),n[e+1]+=o-2*o*Math.random(),n[e+2]+=o-2*o*Math.random()},n.Factory.addGetterSetter(i.Node,"noise",.2,o.getNumberValidator(),n.Factory.afterSetFilter)},7233:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixelate=void 0;var n=r(1455),i=r(8588),o=r(7939),a=r(3774);e.Pixelate=function(t){var e,r,n,o,a,s,l,c,d,u,p,h,f,g,m=Math.ceil(this.pixelSize()),v=t.width,y=t.height,b=Math.ceil(v/m),x=Math.ceil(y/m),w=t.data;if(m<=0)i.Util.error("pixelSize value can not be <= 0");else for(h=0;h<b;h+=1)for(f=0;f<x;f+=1){for(o=0,a=0,s=0,l=0,d=(c=h*m)+m,p=(u=f*m)+m,g=0,e=c;e<d;e+=1)if(!(e>=v))for(r=u;r<p;r+=1)r>=y||(o+=w[0+(n=4*(v*r+e))],a+=w[n+1],s+=w[n+2],l+=w[n+3],g+=1);for(o/=g,a/=g,s/=g,l/=g,e=c;e<d;e+=1)if(!(e>=v))for(r=u;r<p;r+=1)r>=y||(w[0+(n=4*(v*r+e))]=o,w[n+1]=a,w[n+2]=s,w[n+3]=l)}},n.Factory.addGetterSetter(o.Node,"pixelSize",8,a.getNumberValidator(),n.Factory.afterSetFilter)},8590:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Posterize=void 0;var n=r(1455),i=r(7939),o=r(3774);e.Posterize=function(t){var e,r=Math.round(254*this.levels())+1,n=t.data,i=n.length,o=255/r;for(e=0;e<i;e+=1)n[e]=Math.floor(n[e]/o)*o},n.Factory.addGetterSetter(i.Node,"levels",.5,o.getNumberValidator(),n.Factory.afterSetFilter)},8280:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGB=void 0;var n=r(1455),i=r(7939),o=r(3774);e.RGB=function(t){var e,r,n=t.data,i=n.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)r=(.34*n[e]+.5*n[e+1]+.16*n[e+2])/255,n[e]=r*o,n[e+1]=r*a,n[e+2]=r*s,n[e+3]=n[e+3]},n.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,n.Factory.afterSetFilter)},3438:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA=void 0;var n=r(1455),i=r(7939),o=r(3774);e.RGBA=function(t){var e,r,n=t.data,i=n.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<i;e+=4)r=1-l,n[e]=o*l+n[e]*r,n[e+1]=a*l+n[e+1]*r,n[e+2]=s*l+n[e+2]*r},n.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),n.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(i.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},6703:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=void 0,e.Sepia=function(t){var e,r,n,i,o=t.data,a=o.length;for(e=0;e<a;e+=4)r=o[e+0],n=o[e+1],i=o[e+2],o[e+0]=Math.min(255,.393*r+.769*n+.189*i),o[e+1]=Math.min(255,.349*r+.686*n+.168*i),o[e+2]=Math.min(255,.272*r+.534*n+.131*i)}},1665:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=void 0,e.Solarize=function(t){var e=t.data,r=t.width,n=4*r,i=t.height;do{var o=(i-1)*n,a=r;do{var s=o+4*(a-1),l=e[s],c=e[s+1],d=e[s+2];l>127&&(l=255-l),c>127&&(c=255-c),d>127&&(d=255-d),e[s]=l,e[s+1]=c,e[s+2]=d}while(--a)}while(--i)}},1863:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Threshold=void 0;var n=r(1455),i=r(7939),o=r(3774);e.Threshold=function(t){var e,r=255*this.threshold(),n=t.data,i=n.length;for(e=0;e<i;e+=1)n[e]=n[e]<r?0:255},n.Factory.addGetterSetter(i.Node,"threshold",.5,o.getNumberValidator(),n.Factory.afterSetFilter)},185:(t,e,r)=>{var n=r(2076).S;n._injectGlobal(n),e.default=n,t.exports=e.default},119:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(4417),c=r(3774),d=r(4417),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=l.Konva.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,r),t.arc(0,0,this.innerRadius(),e,0,!r),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(s.Shape);e.Arc=u,u.prototype._centroid=!0,u.prototype.className="Arc",u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],d._registerNode(u),a.Factory.addGetterSetter(u,"innerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(u,"outerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(u,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(u,"clockwise",!1,c.getBooleanValidator()),o.Collection.mapMethods(u)},2064:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;var o=r(8588),a=r(1455),s=r(7149),l=r(3774),c=r(4417),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var r=2*Math.PI,n=this.points(),i=n,o=0!==this.tension()&&n.length>4;o&&(i=this.getTensionPoints());var a,s,l=n.length;o?(a=n[l-2]-(i[i.length-2]+i[i.length-4])/2,s=n[l-1]-(i[i.length-1]+i[i.length-3])/2):(a=n[l-2]-n[l-4],s=n[l-1]-n[l-3]);var c=(Math.atan2(s,a)+r)%r,d=this.pointerLength(),u=this.pointerWidth();e.save(),e.beginPath(),e.translate(n[l-2],n[l-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-d,u/2),e.lineTo(-d,-u/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(n[0],n[1]),o?(a=(i[0]+i[2])/2-n[0],s=(i[1]+i[3])/2-n[1]):(a=n[2]-n[0],s=n[3]-n[1]),e.rotate((Math.atan2(-s,-a)+r)%r),e.moveTo(0,0),e.lineTo(-d,u/2),e.lineTo(-d,-u/2),e.closePath(),e.restore());var p=this.dashEnabled();p&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),p&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+2*r,height:e.height+2*r}},e}(s.Line);e.Arrow=d,d.prototype.className="Arrow",c._registerNode(d),a.Factory.addGetterSetter(d,"pointerLength",10,l.getNumberValidator()),a.Factory.addGetterSetter(d,"pointerWidth",10,l.getNumberValidator()),a.Factory.addGetterSetter(d,"pointerAtBeginning",!1),o.Collection.mapMethods(d)},7643:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(3774),c=r(4417),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(s.Shape);e.Circle=d,d.prototype._centroid=!0,d.prototype.className="Circle",d.prototype._attrsAffectingSize=["radius"],c._registerNode(d),a.Factory.addGetterSetter(d,"radius",0,l.getNumberValidator()),o.Collection.mapMethods(d)},535:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(3774),c=r(4417),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),e!==r&&t.scale(1,r/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(s.Shape);e.Ellipse=d,d.prototype.className="Ellipse",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radiusX","radiusY"],c._registerNode(d),a.Factory.addComponentsGetterSetter(d,"radius",["x","y"]),a.Factory.addGetterSetter(d,"radiusX",0,l.getNumberValidator()),a.Factory.addGetterSetter(d,"radiusY",0,l.getNumberValidator()),o.Collection.mapMethods(d)},1298:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(3774),c=r(4417),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._sceneFunc=function(t){var e,r=this.getWidth(),n=this.getHeight(),i=this.attrs.image;if(i){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;e=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,r,n]:[i,0,0,r,n]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,r,n),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,e)},e.prototype._hitFunc=function(t){var e=this.width(),r=this.height();t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.width)||0},e.prototype.getHeight=function(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.height)||0},e.fromURL=function(t,r){var n=o.Util.createImageElement();n.onload=function(){var t=new e({image:n});r(t)},n.crossOrigin="Anonymous",n.src=t},e}(s.Shape);e.Image=d,d.prototype.className="Image",c._registerNode(d),a.Factory.addGetterSetter(d,"image"),a.Factory.addComponentsGetterSetter(d,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(d,"cropX",0,l.getNumberValidator()),a.Factory.addGetterSetter(d,"cropY",0,l.getNumberValidator()),a.Factory.addGetterSetter(d,"cropWidth",0,l.getNumberValidator()),a.Factory.addGetterSetter(d,"cropHeight",0,l.getNumberValidator()),o.Collection.mapMethods(d)},6067:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.Label=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(8985),c=r(3774),d=r(4417),u=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],p="up",h="right",f="down",g="left",m=u.length,v=function(t){function e(e){var r=t.call(this,e)||this;return r.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),r}return i(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,r=this,n=function(){r._sync()};for(e=0;e<m;e++)t.on(u[e]+"Change.konva",n)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,r,n,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),r=l.pointerDirection(),n=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,r){case p:i=t/2,o=-1*a;break;case h:i=t+n,o=e/2;break;case f:i=t/2,o=e+a;break;case g:i=-1*n,o=e/2}l.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*i,y:-1*o})}},e}(l.Group);e.Label=v,v.prototype.className="Label",d._registerNode(v),o.Collection.mapMethods(v);var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),r=this.height(),n=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),s=0,l=0,c=0,d=0;"number"==typeof a?s=l=c=d=Math.min(a,e/2,r/2):(s=Math.min(a[0]||0,e/2,r/2),l=Math.min(a[1]||0,e/2,r/2),d=Math.min(a[2]||0,e/2,r/2),c=Math.min(a[3]||0,e/2,r/2)),t.beginPath(),t.moveTo(s,0),n===p&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),n===h&&(t.lineTo(e,(r-o)/2),t.lineTo(e+i,r/2),t.lineTo(e,(r+o)/2)),t.lineTo(e,r-d),t.arc(e-d,r-d,d,0,Math.PI/2,!1),n===f&&(t.lineTo((e+i)/2,r),t.lineTo(e/2,r+o),t.lineTo((e-i)/2,r)),t.lineTo(c,r),t.arc(c,r-c,c,Math.PI/2,Math.PI,!1),n===g&&(t.lineTo(0,(r+o)/2),t.lineTo(-1*i,r/2),t.lineTo(0,(r-o)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,r=this.pointerWidth(),n=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===p?(e-=n,a+=n):i===f?a+=n:i===g?(t-=1.5*r,o+=r):i===h&&(o+=1.5*r),{x:t,y:e,width:o,height:a}},e}(s.Shape);e.Tag=y,y.prototype.className="Tag",d._registerNode(y),a.Factory.addGetterSetter(y,"pointerDirection","none"),a.Factory.addGetterSetter(y,"pointerWidth",0,c.getNumberValidator()),a.Factory.addGetterSetter(y,"pointerHeight",0,c.getNumberValidator()),a.Factory.addGetterSetter(y,"cornerRadius",0,c.getNumberOrArrayOfNumbersValidator(4)),o.Collection.mapMethods(y)},7149:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var a=r(8588),s=r(1455),l=r(7955),c=r(3774),d=r(4417),u=function(t){function e(e){var r=t.call(this,e)||this;return r.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),r}return i(e,t),e.prototype._sceneFunc=function(t){var e,r,n,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&o>4){for(r=(e=this.getTensionPoints()).length,n=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<r-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);s||t.quadraticCurveTo(e[r-2],e[r-1],i[o-2],i[o-1])}else if(l)for(n=2;n<o;)t.bezierCurveTo(i[n++],i[n++],i[n++],i[n++],i[n++],i[n++]);else for(n=2;n<o;n+=2)t.lineTo(i[n],i[n+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,r=this.tension(),n=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],r),i=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],r),o=a.Util._expandPoints(t,r);return[n[2],n[3]].concat(o).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],n[0],n[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,r,n=(t=0!==this.tension()?o([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],i=t[0],a=t[1],s=t[1],l=0;l<t.length/2;l++)e=t[2*l],r=t[2*l+1],n=Math.min(n,e),i=Math.max(i,e),a=Math.min(a,r),s=Math.max(s,r);return{x:n,y:a,width:i-n,height:s-a}},e}(l.Shape);e.Line=u,u.prototype.className="Line",u.prototype._attrsAffectingSize=["points","bezier","tension"],d._registerNode(u),s.Factory.addGetterSetter(u,"closed",!1),s.Factory.addGetterSetter(u,"bezier",!1),s.Factory.addGetterSetter(u,"tension",0,c.getNumberValidator()),s.Factory.addGetterSetter(u,"points",[],c.getNumberArrayValidator()),a.Collection.mapMethods(u)},7339:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(4417),c=function(t){function e(r){var n=t.call(this,r)||this;n.dataArray=[],n.pathLength=0,n.dataArray=e.parsePathData(n.data()),n.pathLength=0;for(var i=0;i<n.dataArray.length;++i)n.pathLength+=n.dataArray[i].pathLength;return n.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),n}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var r=!1,n=0;n<e.length;n++){var i=e[n].command,o=e[n].points;switch(i){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],c=o[3],d=o[4],u=o[5],p=o[6],h=o[7],f=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;t.translate(a,s),t.rotate(p),t.scale(g,m),t.arc(0,0,f,d,d+u,1-h),t.scale(1/g,1/m),t.rotate(-p),t.translate(-a,-s);break;case"z":r=!0,t.closePath()}}r||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(r){if("A"===r.command){var n=r.points[4],i=r.points[5],o=r.points[4]+i,a=Math.PI/180;if(Math.abs(n-o)<a&&(a=Math.abs(n-o)),i<0)for(var s=n-a;s>o;s-=a){var l=e.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],s,0);t.push(l.x,l.y)}else for(s=n+a;s<o;s+=a)l=e.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],s,0),t.push(l.x,l.y)}else if("C"===r.command)for(s=0;s<=1;s+=.01)l=e.getPointOnCubicBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3],r.points[4],r.points[5]),t.push(l.x,l.y);else t=t.concat(r.points)}));for(var r,n,i=t[0],o=t[0],a=t[1],s=t[1],l=0;l<t.length/2;l++)r=t[2*l],n=t[2*l+1],isNaN(r)||(i=Math.min(i,r),o=Math.max(o,r)),isNaN(n)||(a=Math.min(a,n),s=Math.max(s,n));return{x:Math.round(i),y:Math.round(a),width:Math.round(o-i),height:Math.round(s-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var r,n=0,i=this.dataArray.length;if(!i)return null;for(;n<i&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===i)return{x:(r=this.dataArray[n-1].points.slice(-2))[0],y:r[1]};if(t<.01)return{x:(r=this.dataArray[n].points.slice(0,2))[0],y:r[1]};var o=this.dataArray[n],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],l=a[1],c=a[2],d=a[3],u=a[4],p=a[5],h=a[6];return u+=p*t/o.pathLength,e.getPointOnEllipticalArc(s,l,c,d,u,h)}return null},e.getLineLength=function(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))},e.getPointOnLine=function(t,e,r,n,i,o,a){void 0===o&&(o=e),void 0===a&&(a=r);var s=(i-r)/(n-e+1e-8),l=Math.sqrt(t*t/(1+s*s));n<e&&(l*=-1);var c,d=s*l;if(n===e)c={x:o,y:a+d};else if((a-r)/(o-e+1e-8)===s)c={x:o+l,y:a+d};else{var u,p,h=this.getLineLength(e,r,n,i),f=(o-e)*(n-e)+(a-r)*(i-r);u=e+(f/=h*h)*(n-e),p=r+f*(i-r);var g=this.getLineLength(o,a,u,p),m=Math.sqrt(t*t-g*g);l=Math.sqrt(m*m/(1+s*s)),n<e&&(l*=-1),c={x:u+l,y:p+(d=s*l)}}return c},e.getPointOnCubicBezier=function(t,e,r,n,i,o,a,s,l){function c(t){return t*t*t}function d(t){return 3*t*t*(1-t)}function u(t){return 3*t*(1-t)*(1-t)}function p(t){return(1-t)*(1-t)*(1-t)}return{x:s*c(t)+o*d(t)+n*u(t)+e*p(t),y:l*c(t)+a*d(t)+i*u(t)+r*p(t)}},e.getPointOnQuadraticBezier=function(t,e,r,n,i,o,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:o*s(t)+n*l(t)+e*c(t),y:a*s(t)+i*l(t)+r*c(t)}},e.getPointOnEllipticalArc=function(t,e,r,n,i,o){var a=Math.cos(o),s=Math.sin(o),l=r*Math.cos(i),c=n*Math.sin(i);return{x:t+(l*a-c*s),y:e+(l*s+c*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var n=0;n<r.length;n++)e=e.replace(new RegExp(r[n],"g"),"|"+r[n]);var i,o=e.split("|"),a=[],s=[],l=0,c=0,d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(n=1;n<o.length;n++){var u=o[n],p=u.charAt(0);for(u=u.slice(1),s.length=0;i=d.exec(u);)s.push(i[0]);for(var h=[],f=0,g=s.length;f<g;f++){var m=parseFloat(s[f]);isNaN(m)?h.push(0):h.push(m)}for(;h.length>0&&!isNaN(h[0]);){var v,y,b,x,w,k,C,S,_,T,E=null,P=[],M=l,D=c;switch(p){case"l":l+=h.shift(),c+=h.shift(),E="L",P.push(l,c);break;case"L":l=h.shift(),c=h.shift(),P.push(l,c);break;case"m":var A=h.shift(),L=h.shift();if(l+=A,c+=L,E="M",a.length>2&&"z"===a[a.length-1].command)for(var N=a.length-2;N>=0;N--)if("M"===a[N].command){l=a[N].points[0]+A,c=a[N].points[1]+L;break}P.push(l,c),p="l";break;case"M":l=h.shift(),c=h.shift(),E="M",P.push(l,c),p="L";break;case"h":l+=h.shift(),E="L",P.push(l,c);break;case"H":l=h.shift(),E="L",P.push(l,c);break;case"v":c+=h.shift(),E="L",P.push(l,c);break;case"V":c=h.shift(),E="L",P.push(l,c);break;case"C":P.push(h.shift(),h.shift(),h.shift(),h.shift()),l=h.shift(),c=h.shift(),P.push(l,c);break;case"c":P.push(l+h.shift(),c+h.shift(),l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),E="C",P.push(l,c);break;case"S":y=l,b=c,"C"===(v=a[a.length-1]).command&&(y=l+(l-v.points[2]),b=c+(c-v.points[3])),P.push(y,b,h.shift(),h.shift()),l=h.shift(),c=h.shift(),E="C",P.push(l,c);break;case"s":y=l,b=c,"C"===(v=a[a.length-1]).command&&(y=l+(l-v.points[2]),b=c+(c-v.points[3])),P.push(y,b,l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),E="C",P.push(l,c);break;case"Q":P.push(h.shift(),h.shift()),l=h.shift(),c=h.shift(),P.push(l,c);break;case"q":P.push(l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),E="Q",P.push(l,c);break;case"T":y=l,b=c,"Q"===(v=a[a.length-1]).command&&(y=l+(l-v.points[0]),b=c+(c-v.points[1])),l=h.shift(),c=h.shift(),E="Q",P.push(y,b,l,c);break;case"t":y=l,b=c,"Q"===(v=a[a.length-1]).command&&(y=l+(l-v.points[0]),b=c+(c-v.points[1])),l+=h.shift(),c+=h.shift(),E="Q",P.push(y,b,l,c);break;case"A":x=h.shift(),w=h.shift(),k=h.shift(),C=h.shift(),S=h.shift(),_=l,T=c,l=h.shift(),c=h.shift(),E="A",P=this.convertEndpointToCenterParameterization(_,T,l,c,C,S,x,w,k);break;case"a":x=h.shift(),w=h.shift(),k=h.shift(),C=h.shift(),S=h.shift(),_=l,T=c,l+=h.shift(),c+=h.shift(),E="A",P=this.convertEndpointToCenterParameterization(_,T,l,c,C,S,x,w,k)}a.push({command:E||p,points:P,start:{x:M,y:D},pathLength:this.calcLength(M,D,E||p,P)})}"z"!==p&&"Z"!==p||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,r,n,i){var o,a,s,l,c=e;switch(n){case"L":return c.getLineLength(t,r,i[0],i[1]);case"C":for(o=0,a=c.getPointOnCubicBezier(0,t,r,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)s=c.getPointOnCubicBezier(l,t,r,i[0],i[1],i[2],i[3],i[4],i[5]),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=c.getPointOnQuadraticBezier(0,t,r,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)s=c.getPointOnQuadraticBezier(l,t,r,i[0],i[1],i[2],i[3]),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var d=i[4],u=i[5],p=i[4]+u,h=Math.PI/180;if(Math.abs(d-p)<h&&(h=Math.abs(d-p)),a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),u<0)for(l=d-h;l>p;l-=h)s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(l=d+h;l<p;l+=h)s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),o+c.getLineLength(a.x,a.y,s.x,s.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,r,n,i,o,a,s,l){var c=l*(Math.PI/180),d=Math.cos(c)*(t-r)/2+Math.sin(c)*(e-n)/2,u=-1*Math.sin(c)*(t-r)/2+Math.cos(c)*(e-n)/2,p=d*d/(a*a)+u*u/(s*s);p>1&&(a*=Math.sqrt(p),s*=Math.sqrt(p));var h=Math.sqrt((a*a*(s*s)-a*a*(u*u)-s*s*(d*d))/(a*a*(u*u)+s*s*(d*d)));i===o&&(h*=-1),isNaN(h)&&(h=0);var f=h*a*u/s,g=h*-s*d/a,m=(t+r)/2+Math.cos(c)*f-Math.sin(c)*g,v=(e+n)/2+Math.sin(c)*f+Math.cos(c)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},x=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},w=x([1,0],[(d-f)/a,(u-g)/s]),k=[(d-f)/a,(u-g)/s],C=[(-1*d-f)/a,(-1*u-g)/s],S=x(k,C);return b(k,C)<=-1&&(S=Math.PI),b(k,C)>=1&&(S=0),0===o&&S>0&&(S-=2*Math.PI),1===o&&S<0&&(S+=2*Math.PI),[m,v,a,s,w,S,c,o]},e}(s.Shape);e.Path=c,c.prototype.className="Path",c.prototype._attrsAffectingSize=["data"],l._registerNode(c),a.Factory.addGetterSetter(c,"data"),o.Collection.mapMethods(c)},5244:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(4417),c=r(3774),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),r=this.width(),n=this.height();if(t.beginPath(),e){var i=0,o=0,a=0,s=0;"number"==typeof e?i=o=a=s=Math.min(e,r/2,n/2):(i=Math.min(e[0]||0,r/2,n/2),o=Math.min(e[1]||0,r/2,n/2),s=Math.min(e[2]||0,r/2,n/2),a=Math.min(e[3]||0,r/2,n/2)),t.moveTo(i,0),t.lineTo(r-o,0),t.arc(r-o,o,o,3*Math.PI/2,0,!1),t.lineTo(r,n-s),t.arc(r-s,n-s,s,0,Math.PI/2,!1),t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,r,n);t.closePath(),t.fillStrokeShape(this)},e}(s.Shape);e.Rect=d,d.prototype.className="Rect",l._registerNode(d),a.Factory.addGetterSetter(d,"cornerRadius",0,c.getNumberOrArrayOfNumbersValidator(4)),o.Collection.mapMethods(d)},1785:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegularPolygon=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(3774),c=r(4417),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var r=1;r<e.length;r++)t.lineTo(e[r].x,e[r].y);t.closePath(),t.fillStrokeShape(this)},e.prototype._getPoints=function(){for(var t=this.attrs.sides,e=this.attrs.radius||0,r=[],n=0;n<t;n++)r.push({x:e*Math.sin(2*n*Math.PI/t),y:-1*e*Math.cos(2*n*Math.PI/t)});return r},e.prototype.getSelfRect=function(){var t=this._getPoints(),e=t[0].x,r=t[0].y,n=t[0].x,i=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),r=Math.max(r,t.x),n=Math.min(n,t.y),i=Math.max(i,t.y)})),{x:e,y:n,width:r-e,height:i-n}},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(s.Shape);e.RegularPolygon=d,d.prototype.className="RegularPolygon",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],c._registerNode(d),a.Factory.addGetterSetter(d,"radius",0,l.getNumberValidator()),a.Factory.addGetterSetter(d,"sides",0,l.getNumberValidator()),o.Collection.mapMethods(d)},657:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(3774),c=r(4417),d=2*Math.PI,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,d,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),d,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(s.Shape);e.Ring=u,u.prototype.className="Ring",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(u),a.Factory.addGetterSetter(u,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"outerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(u)},8986:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(6745),c=r(3774),d=r(4417),u=function(t){function e(e){var r=t.call(this,e)||this;return r._updated=!0,r.anim=new l.Animation((function(){var t=r._updated;return r._updated=!1,t})),r.on("animationChange.konva",(function(){this.frameIndex(0)})),r.on("frameIndexChange.konva",(function(){this._updated=!0})),r.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),r}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),r=this.frameIndex(),n=4*r,i=this.animations()[e],o=this.frameOffsets(),a=i[n+0],s=i[n+1],l=i[n+2],c=i[n+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),d)if(o){var u=o[e],p=2*r;t.drawImage(d,a,s,l,c,u[p+0],u[p+1],l,c)}else t.drawImage(d,a,s,l,c,0,0,l,c)},e.prototype._hitFunc=function(t){var e=this.animation(),r=this.frameIndex(),n=4*r,i=this.animations()[e],o=this.frameOffsets(),a=i[n+2],s=i[n+3];if(t.beginPath(),o){var l=o[e],c=2*r;t.rect(l[c+0],l[c+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(s.Shape);e.Sprite=u,u.prototype.className="Sprite",d._registerNode(u),a.Factory.addGetterSetter(u,"animation"),a.Factory.addGetterSetter(u,"animations"),a.Factory.addGetterSetter(u,"frameOffsets"),a.Factory.addGetterSetter(u,"image"),a.Factory.addGetterSetter(u,"frameIndex",0,c.getNumberValidator()),a.Factory.addGetterSetter(u,"frameRate",17,c.getNumberValidator()),a.Factory.backCompat(u,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),o.Collection.mapMethods(u)},1964:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(3774),c=r(4417),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),r=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(var i=1;i<2*n;i++){var o=i%2==0?r:e,a=o*Math.sin(i*Math.PI/n),s=-1*o*Math.cos(i*Math.PI/n);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(s.Shape);e.Star=d,d.prototype.className="Star",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(d),a.Factory.addGetterSetter(d,"numPoints",5,l.getNumberValidator()),a.Factory.addGetterSetter(d,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(d,"outerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(d)},3787:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.stringToArray=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(4417),c=r(3774),d=r(4417);function u(t){return Array.from(t)}e.stringToArray=u;var p,h="auto",f="justify",g="left",m="middle",v="normal",y=" ",b=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],x=b.length;function w(){return p||(p=o.Util.createCanvasElement().getContext("2d"))}var k=function(t){function e(e){var r=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;r._partialTextX=0,r._partialTextY=0;for(var n=0;n<x;n++)r.on(b[n]+"Change.konva",r._setTextData);return r._setTextData(),r}return i(e,t),e.prototype._sceneFunc=function(t){var e=this.textArr,r=e.length;if(this.text()){var n,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),l=0,c=this.align(),d=this.getWidth(),p=this.letterSpacing(),h=this.fill(),v=this.textDecoration(),y=-1!==v.indexOf("underline"),b=-1!==v.indexOf("line-through"),x=0,w=(x=a/2,0),k=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",m),t.setAttr("textAlign",g),s===m?l=(this.getHeight()-r*a-2*i)/2:"bottom"===s&&(l=this.getHeight()-r*a-2*i),t.translate(i,l+i),n=0;n<r;n++){w=0,k=0;var C,S,_,T=e[n],E=T.text,P=T.width,M=n!==r-1;if(t.save(),"right"===c?w+=d-P-2*i:"center"===c&&(w+=(d-P-2*i)/2),y&&(t.save(),t.beginPath(),t.moveTo(w,x+k+Math.round(o/2)),S=0==(C=E.split(" ").length-1),_=c===f&&M&&!S?d-2*i:P,t.lineTo(w+Math.round(_),x+k+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=h,t.stroke(),t.restore()),b&&(t.save(),t.beginPath(),t.moveTo(w,x+k),S=0==(C=E.split(" ").length-1),_=c===f&&M&&!S?d-2*i:P,t.lineTo(w+Math.round(_),x+k),t.lineWidth=o/15,t.strokeStyle=h,t.stroke(),t.restore()),0!==p||c===f){C=E.split(" ").length-1;for(var D=u(E),A=0;A<D.length;A++){var L=D[A];" "===L&&n!==r-1&&c===f&&(w+=(d-2*i-P)/C),this._partialTextX=w,this._partialTextY=x+k,this._partialText=L,t.fillStrokeShape(this),w+=this.measureSize(L).width+p}}else this._partialTextX=w,this._partialTextY=x+k,this._partialText=E,t.fillStrokeShape(this);t.restore(),r>1&&(x+=a)}}},e.prototype._hitFunc=function(t){var e=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,e,r),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=o.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return this.attrs.width===h||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return this.attrs.height===h||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,r=w(),n=this.fontSize();return r.save(),r.font=this._getContextFont(),e=r.measureText(t),r.restore(),{width:e.width,height:n}},e.prototype._getContextFont=function(){return l.Konva.UA.isIE?this.fontStyle()+y+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+y+this.fontVariant()+y+(this.fontSize()+"px ")+this.fontFamily().split(",").map((function(t){var e=(t=t.trim()).indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!r&&(t='"'+t+'"'),t})).join(", ")},e.prototype._addTextLine=function(t){this.align()===f&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),r=t.length;return w().measureText(t).width+(r?e*(r-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),r=0,n=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,a=i!==h&&void 0!==i,s=o!==h&&void 0!==o,l=this.padding(),c=i-2*l,d=o-2*l,u=0,p=this.wrap(),f="none"!==p,g="char"!==p&&f,m=this.ellipsis();this.textArr=[],w().font=this._getContextFont();for(var v=m?this._getTextWidth("…"):0,b=0,x=t.length;b<x;++b){var k=t[b],C=this._getTextWidth(k);if(a&&C>c)for(;k.length>0;){for(var S=0,_=k.length,T="",E=0;S<_;){var P=S+_>>>1,M=k.slice(0,P+1),D=this._getTextWidth(M)+v;D<=c?(S=P+1,T=M,E=D):_=P}if(!T)break;if(g){var A,L=k[T.length];(A=(L===y||"-"===L)&&E<=c?T.length:Math.max(T.lastIndexOf(y),T.lastIndexOf("-"))+1)>0&&(S=A,T=T.slice(0,S),E=this._getTextWidth(T))}if(T=T.trimRight(),this._addTextLine(T),r=Math.max(r,E),u+=n,!f||s&&u+n>d){var N=this.textArr[this.textArr.length-1];N&&m&&(this._getTextWidth(N.text+"…")<c||(N.text=N.text.slice(0,N.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(N.text+"…"));break}if((k=(k=k.slice(S)).trimLeft()).length>0&&(C=this._getTextWidth(k))<=c){this._addTextLine(k),u+=n,r=Math.max(r,C);break}}else this._addTextLine(k),u+=n,r=Math.max(r,C);if(s&&u+n>d)break}this.textHeight=e,this.textWidth=r},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(s.Shape);e.Text=k,k.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},k.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},k.prototype.className="Text",k.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],d._registerNode(k),a.Factory.overWriteSetter(k,"width",c.getNumberOrAutoValidator()),a.Factory.overWriteSetter(k,"height",c.getNumberOrAutoValidator()),a.Factory.addGetterSetter(k,"fontFamily","Arial"),a.Factory.addGetterSetter(k,"fontSize",12,c.getNumberValidator()),a.Factory.addGetterSetter(k,"fontStyle",v),a.Factory.addGetterSetter(k,"fontVariant",v),a.Factory.addGetterSetter(k,"padding",0,c.getNumberValidator()),a.Factory.addGetterSetter(k,"align",g),a.Factory.addGetterSetter(k,"verticalAlign","top"),a.Factory.addGetterSetter(k,"lineHeight",1,c.getNumberValidator()),a.Factory.addGetterSetter(k,"wrap","word"),a.Factory.addGetterSetter(k,"ellipsis",!1,c.getBooleanValidator()),a.Factory.addGetterSetter(k,"letterSpacing",0,c.getNumberValidator()),a.Factory.addGetterSetter(k,"text","",c.getStringValidator()),a.Factory.addGetterSetter(k,"textDecoration",""),o.Collection.mapMethods(k)},2831:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextPath=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(7339),c=r(3787),d=r(3774),u=r(4417),p="normal";function h(t){t.fillText(this.partialText,0,0)}function f(t){t.strokeText(this.partialText,0,0)}var g=function(t){function e(e){var r=t.call(this,e)||this;return r.dummyCanvas=o.Util.createCanvasElement(),r.dataArray=[],r.dataArray=l.Path.parsePathData(r.attrs.data),r.on("dataChange.konva",(function(){this.dataArray=l.Path.parsePathData(this.attrs.data),this._setTextData()})),r.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",r._setTextData),e&&e.getKerning&&(o.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),r.kerningFunc(e.getKerning)),r._setTextData(),r}return i(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),r=this.fill(),n=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var a=i[o].p0;t.translate(a.x,a.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,n/2+1),t.lineTo(n,n/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=r,t.lineWidth=n/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var r=e[0].p0;t.moveTo(r.x,r.y)}for(var n=0;n<e.length;n++){var i=e[n].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return c.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return c.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var r=e.measureText(t);return e.restore(),{width:r.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),r=this.letterSpacing(),n=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var a=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(a+=t.dataArray[s].pathLength);var d=0;"center"===n&&(d=Math.max(0,a/2-o/2)),"right"===n&&(d=Math.max(0,a-o));for(var u,p,h,f=c.stringToArray(this.text()),g=this.text().split(" ").length-1,m=-1,v=0,y=function(){v=0;for(var e=t.dataArray,r=m+1;r<e.length;r++){if(e[r].pathLength>0)return m=r,e[r];"M"===e[r].command&&(u={x:e[r].points[0],y:e[r].points[1]})}return{}},b=function(e){var i=t._getTextSize(e).width+r;" "===e&&"justify"===n&&(i+=(a-o)/g);var s=0,c=0;for(p=void 0;Math.abs(i-s)/i>.01&&c<20;){c++;for(var d=s;void 0===h;)(h=y())&&d+h.pathLength<i&&(d+=h.pathLength,h=void 0);if(h==={}||void 0===u)return;var f=!1;switch(h.command){case"L":l.Path.getLineLength(u.x,u.y,h.points[0],h.points[1])>i?p=l.Path.getPointOnLine(i,u.x,u.y,h.points[0],h.points[1],u.x,u.y):h=void 0;break;case"A":var m=h.points[4],b=h.points[5],x=h.points[4]+b;0===v?v=m+1e-8:i>s?v+=Math.PI/180*b/Math.abs(b):v-=Math.PI/360*b/Math.abs(b),(b<0&&v<x||b>=0&&v>x)&&(v=x,f=!0),p=l.Path.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],v,h.points[6]);break;case"C":0===v?v=i>h.pathLength?1e-8:i/h.pathLength:i>s?v+=(i-s)/h.pathLength/2:v=Math.max(v-(s-i)/h.pathLength/2,0),v>1&&(v=1,f=!0),p=l.Path.getPointOnCubicBezier(v,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);break;case"Q":0===v?v=i/h.pathLength:i>s?v+=(i-s)/h.pathLength:v-=(s-i)/h.pathLength,v>1&&(v=1,f=!0),p=l.Path.getPointOnQuadraticBezier(v,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3])}void 0!==p&&(s=l.Path.getLineLength(u.x,u.y,p.x,p.y)),f&&(f=!1,h=void 0)}},x=d/(t._getTextSize("C").width+r)-1,w=0;w<x&&(b("C"),void 0!==u&&void 0!==p);w++)u=p;for(var k=0;k<f.length&&(b(f[k]),void 0!==u&&void 0!==p);k++){var C=l.Path.getLineLength(u.x,u.y,p.x,p.y),S=0;if(i)try{S=i(f[k-1],f[k])*this.fontSize()}catch(t){S=0}u.x+=S,p.x+=S,this.textWidth+=S;var _=l.Path.getPointOnLine(S+C/2,u.x,u.y,p.x,p.y),T=Math.atan2(p.y-u.y,p.x-u.x);this.glyphInfo.push({transposeX:_.x,transposeY:_.y,text:f[k],rotation:T,p0:u,p1:p}),u=p}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,r,n=t[0]||0,i=t[0]||0,o=t[1]||0,a=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],r=t[2*s+1],n=Math.min(n,e),i=Math.max(i,e),o=Math.min(o,r),a=Math.max(a,r);var l=this.fontSize();return{x:n-l/2,y:o-l/2,width:i-n+l,height:a-o+l}},e}(s.Shape);e.TextPath=g,g.prototype._fillFunc=h,g.prototype._strokeFunc=f,g.prototype._fillFuncHit=h,g.prototype._strokeFuncHit=f,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],u._registerNode(g),a.Factory.addGetterSetter(g,"data"),a.Factory.addGetterSetter(g,"fontFamily","Arial"),a.Factory.addGetterSetter(g,"fontSize",12,d.getNumberValidator()),a.Factory.addGetterSetter(g,"fontStyle",p),a.Factory.addGetterSetter(g,"align","left"),a.Factory.addGetterSetter(g,"letterSpacing",0,d.getNumberValidator()),a.Factory.addGetterSetter(g,"textBaseline","middle"),a.Factory.addGetterSetter(g,"fontVariant",p),a.Factory.addGetterSetter(g,"text",""),a.Factory.addGetterSetter(g,"textDecoration",null),a.Factory.addGetterSetter(g,"kerningFunc",null),o.Collection.mapMethods(g)},9516:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Transformer=void 0;var a=r(8588),s=r(1455),l=r(7939),c=r(7955),d=r(5244),u=r(8985),p=r(4417),h=r(3774),f=r(4417),g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"})).join(" "),m="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},b="ontouchstart"in p.Konva._global,x=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(t,e,r){var n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return o(o({},t),{rotation:t.rotation+e,x:n,y:i})}var k=function(t){function e(e){var r=t.call(this,e)||this;return r._transforming=!1,r._createElements(),r._handleMouseMove=r._handleMouseMove.bind(r),r._handleMouseUp=r._handleMouseUp.bind(r),r.update=r.update.bind(r),r.on(g,r.update),r.getNode()&&r.update(),r}return i(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},e.prototype.getNode=function(){return this._nodes&&this._nodes[0]},e.prototype.setNodes=function(t){var e=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((function(t){var r=t._attrsAffectingSize.map((function(t){return t+"Change.tr-konva"})).join(" "),n=function(){1===e.nodes().length&&e.rotation(e.nodes()[0].getAbsoluteRotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()};t.on(r,n),t.on(v,n),t.on("_clearTransformCache.tr-konva",n),t.on("xChange.tr-konva yChange.tr-konva",n),e._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this},e.prototype._proxyDrag=function(t){var e,r=this;t.on("dragstart.tr-konva",(function(n){e=t.getAbsolutePosition(),r.isDragging()||t===r.findOne(".back")||r.startDrag(n,!1)})),t.on("dragmove.tr-konva",(function(n){if(e){var i=t.getAbsolutePosition(),o=i.x-e.x,a=i.y-e.y;r.nodes().forEach((function(e){if(e!==t&&!e.isDragging()){var r=e.getAbsolutePosition();e.setAbsolutePosition({x:r.x+o,y:r.y+a}),e.startDrag(n)}})),e=null}}))},e.prototype.getNodes=function(){return this._nodes||[]},e.prototype.getActiveAnchor=function(){return this._movingAnchorName},e.prototype.detach=function(){this._nodes&&this._nodes.forEach((function(t){t.off(".tr-konva")})),this._nodes=[],this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(m,this.__getNodeRect)},e.prototype.__getNodeShape=function(t,e,r){void 0===e&&(e=this.rotation());var n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(r),o=t.getAbsolutePosition(r),a=n.x*i.x-t.offsetX()*i.x,s=n.y*i.y-t.offsetY()*i.y,l=(p.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return w({x:o.x+a*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+a*Math.sin(l),width:n.width*i.x,height:n.height*i.y,rotation:l},-p.Konva.getAngle(e),{x:0,y:0})},e.prototype.__getNodeRect=function(){var t=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var e=[];this.nodes().map((function(r){var n=r.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:t.ignoreStroke()}),i=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],o=r.getAbsoluteTransform();i.forEach((function(t){var r=o.point(t);e.push(r)}))}));var r,n,i,o,s=new a.Transform;s.rotate(-p.Konva.getAngle(this.rotation())),e.forEach((function(t){var e=s.point(t);void 0===r&&(r=i=e.x,n=o=e.y),r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),s.invert();var l=s.point({x:r,y:n});return{x:l.x,y:l.y,width:i-r,height:o-n,rotation:p.Konva.getAngle(this.rotation())}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),x.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,r=new d.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:b?10:"auto"}),n=this;r.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),r.on("dragstart",(function(t){r.stopDrag(),t.cancelBubble=!0})),r.on("dragend",(function(t){t.cancelBubble=!0})),r.on("mouseenter",(function(){var n=p.Konva.getAngle(e.rotation()),i=function(t,e){if("rotater"===t)return"crosshair";e+=a.Util._degToRad(y[t]||0);var r=(a.Util._radToDeg(e)%360+360)%360;return a.Util._inRange(r,337.5,360)||a.Util._inRange(r,0,22.5)?"ns-resize":a.Util._inRange(r,22.5,67.5)?"nesw-resize":a.Util._inRange(r,67.5,112.5)?"ew-resize":a.Util._inRange(r,112.5,157.5)?"nwse-resize":a.Util._inRange(r,157.5,202.5)?"ns-resize":a.Util._inRange(r,202.5,247.5)?"nesw-resize":a.Util._inRange(r,247.5,292.5)?"ew-resize":a.Util._inRange(r,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(t,n);r.getStage().content.style.cursor=i,e._cursorChange=!0})),r.on("mouseout",(function(){r.getStage().content.style.cursor="",e._cursorChange=!1})),this.add(r)},e.prototype._createBack=function(){var t=this,e=new c.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),r=e.padding();t.beginPath(),t.rect(-r,-r,this.width()+2*r,this.height()+2*r),t.moveTo(this.width()/2,-r),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*a.Util._sign(this.height())-r),t.fillStrokeShape(this)},hitFunc:function(e,r){if(t.shouldOverdrawWholeArea()){var n=t.padding();e.beginPath(),e.rect(-n,-n,r.width()+2*n,r.height()+2*n),e.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(function(t){t.cancelBubble=!0})),e.on("dragmove",(function(t){t.cancelBubble=!0})),e.on("dragend",(function(t){t.cancelBubble=!0}))},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),r=e.width,n=e.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.sin=Math.abs(n/i),this.cos=Math.abs(r/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;var o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((function(e){e._fire("transformstart",{evt:t,target:e})}))},e.prototype._handleMouseMove=function(t){var e,r,n,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(t);var a=o.getPointerPosition(),s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},l=i.getAbsolutePosition();i.setAbsolutePosition(s);var c=i.getAbsolutePosition();if(l.x!==c.x||l.y!==c.y)if("rotater"!==this._movingAnchorName){var d=this.keepRatio()||t.shiftKey,u=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(d){var h=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(h.y-i.y(),2));var f=this.findOne(".top-left").x()>h.x?-1:1,g=this.findOne(".top-left").y()>h.y?-1:1;e=n*this.cos*f,r=n*this.sin*g,this.findOne(".top-left").x(h.x-e),this.findOne(".top-left").y(h.y-r)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){d&&(h=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},n=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(h.y-i.y(),2)),f=this.findOne(".top-right").x()<h.x?-1:1,g=this.findOne(".top-right").y()>h.y?-1:1,e=n*this.cos*f,r=n*this.sin*g,this.findOne(".top-right").x(h.x+e),this.findOne(".top-right").y(h.y-r));var m=i.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(i.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(i.x()):"bottom-left"===this._movingAnchorName?(d&&(h=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},n=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(i.y()-h.y,2)),f=h.x<i.x()?-1:1,g=i.y()<h.y?-1:1,e=n*this.cos*f,r=n*this.sin*g,i.x(h.x-e),i.y(h.y+r)),m=i.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(i.y()):"bottom-right"===this._movingAnchorName?d&&(h=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},n=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(i.y()-h.y,2)),f=this.findOne(".bottom-right").x()<h.x?-1:1,g=this.findOne(".bottom-right").y()<h.y?-1:1,e=n*this.cos*f,r=n*this.sin*g,this.findOne(".bottom-right").x(h.x+e),this.findOne(".bottom-right").y(h.y+r)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(u=this.centeredScaling()||t.altKey){var v=this.findOne(".top-left"),y=this.findOne(".bottom-right"),b=v.x(),x=v.y(),k=this.getWidth()-y.x(),C=this.getHeight()-y.y();y.move({x:-b,y:-x}),v.move({x:k,y:C})}var S=this.findOne(".top-left").getAbsolutePosition();e=S.x,r=S.y;var _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:r,width:_,height:T,rotation:p.Konva.getAngle(this.rotation())},t)}else{var E=this._getNodeRect();e=i.x()-E.width/2,r=-i.y()+E.height/2;var P=Math.atan2(-r,e)+Math.PI/2;E.height<0&&(P-=Math.PI);var M=p.Konva.getAngle(this.rotation())+P,D=p.Konva.getAngle(this.rotationSnapTolerance()),A=function(t,e){return w(t,e,function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t))}(E,function(t,e,r){for(var n=e,i=0;i<t.length;i++){var o=p.Konva.getAngle(t[i]),a=Math.abs(o-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<r&&(n=o)}return n}(this.rotationSnaps(),M,D)-E.rotation);this._fitNodesInto(A,t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype.getAbsoluteTransform=function(){return this.getTransform()},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((function(e){e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}},e.prototype._fitNodesInto=function(t,e){var r=this,n=this._getNodeRect();if(a.Util._inRange(t.width,2*-this.padding()-1,1))this.update();else if(a.Util._inRange(t.height,2*-this.padding()-1,1))this.update();else{var i=new a.Transform;if(i.rotate(p.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){var o=i.point({x:2*-this.padding(),y:0});t.x+=o.x,t.y+=o.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y}else this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0&&(o=i.point({x:2*this.padding(),y:0}),this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y,t.width+=2*this.padding());if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0?(o=i.point({x:0,y:2*-this.padding()}),t.x+=o.x,t.y+=o.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y,t.height+=2*this.padding()):this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0&&(o=i.point({x:0,y:2*this.padding()}),this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y,t.height+=2*this.padding()),this.boundBoxFunc()){var s=this.boundBoxFunc()(n,t);s?t=s:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var l=1e7,c=new a.Transform;c.translate(n.x,n.y),c.rotate(n.rotation),c.scale(n.width/l,n.height/l);var d=new a.Transform;d.translate(t.x,t.y),d.rotate(t.rotation),d.scale(t.width/l,t.height/l);var u=d.multiply(c.invert());this._nodes.forEach((function(t){var n,i=t.getParent().getAbsoluteTransform(),o=t.getTransform().copy();o.translate(t.offsetX(),t.offsetY());var s=new a.Transform;s.multiply(i.copy().invert()).multiply(u).multiply(i).multiply(o);var l=s.decompose();t.setAttrs(l),r._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this.rotation(a.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype._batchChangeChild=function(t,e){this.findOne(t).setAttrs(e)},e.prototype.update=function(){var t,e=this,r=this._getNodeRect();this.rotation(a.Util._getRotation(r.rotation));var n=r.width,i=r.height,o=this.enabledAnchors(),s=this.resizeEnabled(),l=this.padding(),c=this.anchorSize();this.find("._anchor").each((function(t){t.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+l,offsetY:c/2+l,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:c/2+l,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:c/2-l,offsetY:c/2+l,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:c/2+l,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:c/2-l,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:c/2+l,offsetY:c/2-l,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:c/2-l,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:c/2-l,offsetY:c/2-l,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*a.Util._sign(i)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return l.Node.prototype.toObject.call(this)},e}(u.Group);e.Transformer=k,k.prototype.className="Transformer",f._registerNode(k),s.Factory.addGetterSetter(k,"enabledAnchors",x,(function(t){return t instanceof Array||a.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===x.indexOf(t)&&a.Util.warn("Unknown anchor name: "+t+". Available names are: "+x.join(", "))})),t||[]})),s.Factory.addGetterSetter(k,"resizeEnabled",!0),s.Factory.addGetterSetter(k,"anchorSize",10,h.getNumberValidator()),s.Factory.addGetterSetter(k,"rotateEnabled",!0),s.Factory.addGetterSetter(k,"rotationSnaps",[]),s.Factory.addGetterSetter(k,"rotateAnchorOffset",50,h.getNumberValidator()),s.Factory.addGetterSetter(k,"rotationSnapTolerance",5,h.getNumberValidator()),s.Factory.addGetterSetter(k,"borderEnabled",!0),s.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(k,"anchorStrokeWidth",1,h.getNumberValidator()),s.Factory.addGetterSetter(k,"anchorFill","white"),s.Factory.addGetterSetter(k,"anchorCornerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(k,"borderStrokeWidth",1,h.getNumberValidator()),s.Factory.addGetterSetter(k,"borderDash"),s.Factory.addGetterSetter(k,"keepRatio",!0),s.Factory.addGetterSetter(k,"centeredScaling",!1),s.Factory.addGetterSetter(k,"ignoreStroke",!1),s.Factory.addGetterSetter(k,"padding",0,h.getNumberValidator()),s.Factory.addGetterSetter(k,"node"),s.Factory.addGetterSetter(k,"nodes"),s.Factory.addGetterSetter(k,"boundBoxFunc"),s.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),s.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(k)},9846:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Wedge=void 0;var o=r(8588),a=r(1455),s=r(7955),l=r(4417),c=r(3774),d=r(4417),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,l.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(s.Shape);e.Wedge=u,u.prototype.className="Wedge",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],d._registerNode(u),a.Factory.addGetterSetter(u,"radius",0,c.getNumberValidator()),a.Factory.addGetterSetter(u,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(u,"clockwise",!1),a.Factory.backCompat(u,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),o.Collection.mapMethods(u)},1296:(t,e,r)=>{var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,h=Math.min,f=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=o.test(t);return r||a.test(t)?s(t.slice(2),r?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,r){var n,i,o,a,s,l,c=0,d=!1,u=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var r=n,o=i;return n=i=void 0,c=e,a=t.apply(o,r)}function b(t){return c=t,s=setTimeout(w,e),d?y(t):a}function x(t){var r=t-l;return void 0===l||r>=e||r<0||u&&t-c>=o}function w(){var t=f();if(x(t))return k(t);s=setTimeout(w,function(t){var r=e-(t-l);return u?h(r,o-(t-c)):r}(t))}function k(t){return s=void 0,v&&n?y(t):(n=i=void 0,a)}function C(){var t=f(),r=x(t);if(n=arguments,i=this,l=t,r){if(void 0===s)return b(l);if(u)return s=setTimeout(w,e),y(l)}return void 0===s&&(s=setTimeout(w,e)),a}return e=m(e)||0,g(r)&&(d=!!r.leading,o=(u="maxWait"in r)?p(m(r.maxWait)||0,e):o,v="trailing"in r?!!r.trailing:v),C.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=i=s=void 0},C.flush=function(){return void 0===s?a:k(f())},C}},3379:(t,e,r)=>{"use strict";var n,i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),o=[];function a(t){for(var e=-1,r=0;r<o.length;r++)if(o[r].identifier===t){e=r;break}return e}function s(t,e){for(var r={},n=[],i=0;i<t.length;i++){var s=t[i],l=e.base?s[0]+e.base:s[0],c=r[l]||0,d="".concat(l," ").concat(c);r[l]=c+1;var u=a(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(o[u].references++,o[u].updater(p)):o.push({identifier:d,updater:g(p,e),references:1}),n.push(d)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var h=null,f=0;function g(t,e){var r,n,i;if(e.singleton){var o=f++;r=h||(h=l(e)),n=u.bind(null,r,o,!1),i=u.bind(null,r,o,!0)}else r=l(e),n=p.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var i=a(r[n]);o[i].references--}for(var l=s(t,e),c=0;c<r.length;c++){var d=a(r[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}r=l}}}},211:(t,e,r)=>{"use strict";var n=r(185),i=r.n(n),o=r(3379),a=r.n(o),s=r(4666);a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var l=r(4631),c=r.n(l),d=r(1240);a()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var u=r(5426);a()(u.Z,{insert:"head",singleton:!1}),u.Z.locals;const p=JSON.parse('["S -> ProgramStruct @","ProgramStruct -> ProgramHead ; ProgramBody . @","ProgramHead -> program ID @","ProgramHead -> program ID ( IDList ) @","ProgramBody -> Component CompoundStatement @","Component -> const ConstDeclaration ; Component @","Component -> type TypeDeclaration ; Component @","Component -> var VarDeclaration ; Component @","Component -> Subprogram ; Component @","Component -> @","IDList -> IDList , ID @","IDList -> ID @ ","ConstDeclaration -> ConstDeclaration ; ID = ConstValue @","ConstDeclaration -> ID = ConstValue @","ConstValue -> + Num @","ConstValue -> - Num @","ConstValue -> Value @","TypeDeclaration -> TypeDeclaration ; ID = ActualType @","TypeDeclaration -> ID = ActualType @","ActualType -> Type @","ActualType -> record VarDeclaration ; end @","VarDeclaration -> VarDeclaration ; IDList : ActualType @","VarDeclaration -> IDList : ActualType @","Type -> ^ BasicType @","Type -> BasicType @","Type -> array [ Period ] of BasicType @","BasicType -> integer @","BasicType -> longint @","BasicType -> int64 @","BasicType -> real @","BasicType -> boolean @","BasicType -> char @","BasicType -> string @","Period -> Period , Digits .. Digits @","Period -> Digits .. Digits @","Subprogram -> SubprogramHead ; SubprogramBody @","SubprogramHead -> procedure ID FormalParameter @","SubprogramHead -> function ID FormalParameter : BasicType @","FormalParameter -> ( ParameterList ) @","FormalParameter -> ( ) @","FormalParameter -> @","ParameterList -> ParameterList ; Parameter @","ParameterList -> Parameter @","Parameter -> VarParameter @","Parameter -> ValueParameter @","VarParameter -> var ValueParameter @","ValueParameter -> IDList : BasicType @","SubprogramBody -> SubComponent CompoundStatement @","SubComponent -> const ConstDeclaration ; SubComponent @","SubComponent -> var VarDeclaration ; SubComponent @","SubComponent -> @","CompoundStatement -> begin StatementList end @","StatementList -> StatementList ; Statement @","StatementList -> Statement @","Statement -> ComposedVariable assignOP Expression @","Statement -> ProcedureCall(ARG) @","Statement -> if Expression then CompoundStatement ElsePart @","Statement -> if Expression then Statement ElsePart @","Statement -> for ID assignOP Expression to Expression do CompoundStatement @","Statement -> for ID assignOP Expression to Expression do Statement @","Statement -> while Expression do CompoundStatement @","Statement -> while Expression do Statement @","Statement -> @","Variable -> ID IDVarpart @","IDVarpart -> [ ExpressionList ] @","IDVarpart -> @","ProcedureCall(ARG) -> ID ( ExpressionList ) @","ProcedureCall(ARG) -> ID ( ) @","ElsePart -> else CompoundStatement @","ElsePart -> else Statement @","ElsePart -> @","ExpressionList -> ExpressionList , Expression @","ExpressionList -> Expression @","Expression -> SimpleExpression relOP SimpleExpression @","Expression -> SimpleExpression = SimpleExpression @","Expression -> SimpleExpression @","Expression -> Expression ^ @","SimpleExpression -> SimpleExpression addOP Term @","SimpleExpression -> Term @","Term -> Term mulOP Factor @","Term -> Factor @","Factor -> Value @","Factor -> + Num @","Factor -> - Num @","Factor -> not Factor @","Factor -> uminus Factor @","Factor -> ComposedVariable @","ComposedVariable -> ComposedVariable . ID @","ComposedVariable -> Variable @","ComposedVariable -> ProcedureCall(ARG) @","ComposedVariable -> ( Expression ) @","Num -> intVal @ ","Num -> realVal @","Value -> Num @","Value -> stringVal @","Digits -> intVal @","addOP -> + @","addOP -> - @","addOP -> or @"]');var h=r(9058),f=r.n(h),g=r(9755),m=r.n(g);let v,y=new(i().Text)({x:0,y:0,text:"1",fontSize:20,fontFamily:"Consolas",fill:"rgb(0,0,0)",padding:0,align:"left"});const[b,x]=[y.width(),y.height()];new(i().Layer);const w={default:{r:0,g:0,b:0},red:{r:215,g:58,b:73},purple:{r:111,g:66,b:193},gray:{r:106,g:115,b:125},blue:{r:0,g:92,b:197}};class k{constructor(t){this.elemID=t,this.Init()}Init(){this.nodes=[],this.edges=[],this.labelOf={},this.allNode=new Set}UpdateView(t){let{nodes:e,edges:r}=this;for(let t of e)t.data.active="";for(let r of t)for(let t=0;t<e.length;++t)if(r==e[t].data.id){e[t].data.active="active";break}let[n,i]=this.cy?[this.cy.pan(),this.cy.zoom()]:[-1,-1];this.cy=f()({container:document.getElementById(this.elemID),zoomingEnabled:!0,panningEnabled:!0,wheelSensitivity:.1,layout:{name:"preset"},style:[{selector:"node",css:{shape:"square",label:"data(label)","text-valign":"center","text-halign":"center",height:"30px","background-opacity":"0","font-family":"CMU Typewriter Text"}},{selector:'node[active="active"]',css:{"background-color":"#d9d9d9","background-opacity":"1"}},{selector:"edge",css:{width:2,"line-color":"gray","curve-style":"bezier"}}],elements:{nodes:e,edges:r}}),this.cy.nodes('[active="active"]').animate({style:{"background-opacity":"0"}},{duration:600}),this.cy.ready((()=>{-1!=i&&(this.cy.zoom(i),this.cy.pan(n))}))}Add(t){let{nodes:e,edges:r,labelOf:n,allNode:i}=this,o=new Set,a={};for(let t of e)t.data.active="";if(i.add(t.ID),n[t.ID]=t.label,e.push({data:{id:t.ID,label:n[t.ID],active:""},css:{width:""+9*n[t.ID].length}}),t.son)for(let e of t.son)r.push({data:{source:t.ID,target:e}});let s={};for(let t of r){let[e,r]=[t.data.source,t.data.target];s[e]||(s[e]=[]),s[e].push(r),o.add(parseInt(r))}let l={},c={};function d(t){if(l[t]=9*-n[t].length/2,c[t]=9*n[t].length/2,s[t])for(let e=0;e<s[t].length;++e)d(s[t][e]),0==e?(l[t]=Math.min(l[t],l[s[t][e]]),c[t]=Math.max(c[t],c[s[t][e]])):c[t]+=-l[s[t][e]]+c[s[t][e]]}for(let t of i)o.has(t)||d(t);function u(t,e,r){if(a[t]={x:r,y:100*e},s[t])for(let n=0;n<s[t].length;++n)n&&(r-=l[s[t][n]]),u(s[t][n],e+1,r),r+=c[s[t][n]]}let p=0;for(let t of i)o.has(t)||(p-=l[t],u(t,0,p),p+=c[t]);for(let t of e)t.position=a[t.data.id]}}let C=new k("pst"),S=(new k("ast"),-1),_={};window.Action=function(t){let e=document.getElementById("action").childNodes;console.log(t);for(let r=0;r<e.length;++r)r<=t?e[r].classList.add("done"):e[r].classList.remove("done");let r=[];S>t&&(S=-1,C.Init(),r=void 0);for(let e=S+1;e<=t;++e)if(v.action[e].newnodes)for(let t of v.action[e].newnodes)"grammar"==_[t].type&&(C.Add(_[t]),r&&r.push(_[t].ID));C.UpdateView(r||[]),S=t};let T=c().fromTextArea(document.getElementById("pas-code"),{lineNumbers:!0});T.setSize("100%","100%");const E=["prelude","global_define","pre_struct","pre_array","struct","init_global_var","main"];let P="",M="";for(let t of E)P+=`< td ${"main"==t?'style="width:400px"':""}> ${t} </td > `,M+=`< td > <pre id="${t}" ></pre></td > `;document.getElementById("compile").onclick=()=>{console.log(T.getValue());let t=!1;setTimeout((()=>{t||(alert("出错了，大概率是编译不通过，小概率是网络问题，如果实在找不到问题的话可以发给我看看，邮箱是mail@yiren.lu。"),location.reload())}),5e3),m().ajax({method:"POST",dataType:"json",url:"http://81.70.144.208:8848/compile",data:{code:T.getValue()},success:e=>{v=e,t=!0,console.log(e),document.getElementById("editor").style.display="none",document.getElementById("animation").style.display="block",function(){let t="";for(let r of v.lex){let n=w[(e=r.type,"keyword"==e?"red":"int"==e||"float"==e?"blue":"default")];t+=`<span class="lex-token" style="display:block"><code style="color:rgb(${n.r},${n.g},${n.b}) ">${r.word}</code></span>`}var e;let r="";for(let t in v.action){let e=v.action[t],n="";for(let t of e.states)n+=`${t} `;let i="";for(let t of e.prefix)i+=`${t} `;let o=`<td class="state">${n}</td><td>${i}</td>`;"reduce"==e.action?r+=`<tr class="act" onclick="Action(${t})"><td class="tok">${e.tok[1]}</td><td><b>Reduce</b> with <span class="formula">${p[e.reduce-1].replace("-> @","-> ε").replace("->","→").replace("@","")}</span></td>${o}</tr>`:"shift"==e.action?r+=`<tr class="act" onclick="Action(${t})"><td class="tok">${e.tok[1]}</td><td><b>Shift</b> to <span class="state">${e.states[e.states.length-1]}</span></td>${o}</tr>`:r+=`<tr class="act" onclick="Action(${t})"><td class="tok">${e.tok[1]}</td><td><b>ACC</b></td>${o}</tr>`}document.getElementById("action").innerHTML=r;for(let t of v.parser)t.label="grammar"==t.type?""==t.raw?t.parserSymbol:t.raw:t.type,_[t.ID]=t}()}})},window.SetCode=function(t){T.setValue(["program Hello;\nvar a,b:integer;\nbegin\n    read(a,b);\n    write(a+b);\nend.","program example(input,output);\nvar x,y:integer;\nfunction gcd(a,b:integer):integer;\n    begin \n        if b=0 then gcd:=a\n        else gcd:=gcd(b, a mod b)\n    end;\nbegin\n    read(x, y);\n    write(gcd(x, y))\nend.","program Hello;\nvar a:array[1..10,10..20] of integer;\nbegin\n    a[1,14]:=2;\n    a[2,12]:=3;\n    a[10,20]:=a[1,14]+a[2,12];\n    write(a[10,20]);\nend.","program backpack;\nvar c,n:longint;f,w,v:array[0..1005] of longint;\nvar i,j:longint;\nfunction max(i,j:longint):longint;\nbegin\n    if i<j then max:=j\n    else max:=i;\nend;\nbegin\n    read(c,n);\n    for i:=1 to n do\n        read(w[i],v[i]);\n    for i:=1 to n do\n    begin\n        j:=C;\n        while j>=w[i] do\n        begin\n            f[j]:=max(f[j],f[j-w[i]]+v[i]);\n            j:=j-1;\n        end;\n    end;\n    write(f[c]);\nend.","program quicksort(input,output);\nvar a:array[0..200000] of int64;\nvar n:int64;i:longint;\n\nprocedure swap(var i,j:int64);\nvar t:int64;\nbegin\n    t:=i;\n    i:=j;\n    j:=t;\nend;\n\nprocedure qsort(l,r:int64);\nvar i,j,key:int64;\nvar m:int64;\nbegin\n    if l>=r then exit();\n    i:=l;\n    j:=r;\n    m:=(l+r) div 2;\n    key:=a[m];\n    swap(a[m],a[l]);\n    while i<>j do\n    begin\n        while (a[j]>=key) and (i<j) do j:=j-1;\n        while (a[i]<=key) and (i<j) do i:=i+1;\n        swap(a[i],a[j]);\n    end;\n    swap(a[l],a[i]);\n    while (l < i) and (a[i] = a[i-1]) do i := i - 1;\n    while (j < r) and (a[j] = a[j+1]) do j := j + 1;\n    qsort(l,i-1);\n    qsort(j+1,r);\nend;\n\nbegin\n\tread(n);\n\tfor i:=1 to n do\n\t\tread(a[i]);\n\tqsort(1,n);\n    for i:=1 to n do\n    begin\n        write(a[i]);\n        if (i <> n) then write(' ');\n    end;\n    write('\\n');\nend."][t])}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r(211)})();